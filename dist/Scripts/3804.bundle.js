"use strict";(self.webpackChunk_verndale_toolkit=self.webpackChunk_verndale_toolkit||[]).push([[3804],{8934:function(E,d,s){s.d(d,{A:function(){return h},F:function(){return v},f:function(){return l},g:function(){return e}});var r=s(22973);const l="atomic/accessibility/findAriaLive";function h(t){function a(o){const n=(0,r.b)(l,{});document.dispatchEvent(n);const{element:i}=n.detail;i&&i.updateMessage(t,o)}return(o,n)=>{Object.defineProperty(o,n,{set:i=>a(i)})}}function v(){return(t,a)=>{const{componentWillLoad:o}=t;t.componentWillLoad=function(){o&&o.call(this);const{componentDidRender:n}=this;let i=!1,A=!1,c=null,g,f;this.componentDidRender=function(){if(n&&n.call(this),!!this.bindings&&i&&this.bindings.engine.state.search.response.searchUid!==g&&(i=!1,f)){const u=f;setTimeout(()=>{u.focus(),c==null||c()})}};const _={setTarget:u=>{!u||(f=u,A&&(A=!1,f.focus(),c==null||c()))},focusAfterSearch:()=>(g=this.bindings.engine.state.search.response.searchUid,i=!0,new Promise(u=>c=u)),focusOnNextTarget:()=>(A=!0,new Promise(u=>c=u)),disableForCurrentSearch:()=>this.bindings.engine.state.search.response.searchUid!==g&&(i=!1)};this[a]=_}}}function b(t){if(t.getAttribute("tabindex")==="-1")return!1;if(t.hasAttribute("tabindex")||t.getAttribute("contentEditable")==="true")return!0;switch(t.tagName){case"A":case"AREA":return t.hasAttribute("href");case"INPUT":case"SELECT":case"TEXTAREA":case"BUTTON":return!t.hasAttribute("disabled");case"IFRAME":return!0;default:return!1}}function e(t){if(b(t))return t;let a=Array.from(t.children);t instanceof HTMLSlotElement?a=t.assignedElements():t.shadowRoot&&a.push(...Array.from(t.shadowRoot.children));for(const o of a){const n=e(o);if(n)return n}return null}},83804:function(E,d,s){s.r(d),s.d(d,{atomic_aria_live:function(){return v},atomic_relevance_inspector:function(){return b}});var r=s(51860),l=s(8934),h=s(7941);const v=class{constructor(e){(0,r.r)(this,e),this.message=""}onFindAriaLive(e){(!e.element||!this.isInSearchInterface)&&(e.element=this.host)}get isInSearchInterface(){let e=this.host;for(;e;){if(e.tagName==="ATOMIC-SEARCH-INTERFACE")return!0;e=e.parentElement}return!1}async updateMessage(e,t){e!==this.lastUpdatedRegion&&(this.lastUpdatedRegion=e,!t)||(this.message=t)}connectedCallback(){const e=t=>this.onFindAriaLive(t.detail);document.addEventListener(l.f,e),this.disconnectFindAriaLiveEvent=()=>document.removeEventListener(l.f,e)}disconnectedCallback(){var e;(e=this.disconnectFindAriaLiveEvent)===null||e===void 0||e.call(this)}render(){return(0,r.h)(r.H,{style:{position:"absolute",right:"10000px"},"aria-live":"polite",role:"status"},this.message)}get host(){return(0,r.g)(this)}},b=class{constructor(e){(0,r.r)(this,e),this.unsubscribe=()=>{},this.relevanceInspector=(0,h.t)(this.bindings.engine,{initialState:{enabled:!1}}),this.unsubscribe=this.relevanceInspector.subscribe(()=>this.relevanceInspectorState=this.relevanceInspector.state)}disconnectedCallback(){this.unsubscribe()}render(){if(!!this.relevanceInspectorState.isEnabled)return(0,r.h)("p",null,"Debug mode is enabled. Look at the developper console to see additional information.")}}}}]);

//# sourceMappingURL=3804.bundle.js.map