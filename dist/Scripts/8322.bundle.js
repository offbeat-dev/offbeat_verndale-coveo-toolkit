(self.webpackChunk_verndale_toolkit=self.webpackChunk_verndale_toolkit||[]).push([[8322],{18322:function(p,m,l){"use strict";l.r(m),l.d(m,{default:function(){return L}});var e=l(67294),r=l(87491),a=(0,r.us)({configuration:{accessToken:"xx919f5690-8261-41ae-83b9-951877187f3d",organizationId:"TestOrganization"},loggerOptions:{level:"info"}}),i=l(45697),o=l.n(i);const b=({controller:t,engine:s})=>{const[n,c]=(0,e.useState)(t.state),d=u=>u.key==="Enter",h=(0,r.vP)(s);s.dispatch(h.registerAdvancedSearchQueries({aq:""})),(0,e.useEffect)(()=>t.subscribe(()=>{c(t.state)}),[]);const y=u=>{d(u)&&(s.dispatch(h.updateAdvancedSearchQueries({aq:""})),t.submit())},F=()=>{s.dispatch(h.updateAdvancedSearchQueries({aq:""})),t.submit()},A=u=>{t.updateText(u.target.value)};return e.createElement(e.Fragment,null,e.createElement("div",{className:"coveo-headless-search__bar"},e.createElement("div",{className:"coveo-headless-search__input-container"},e.createElement("input",{className:"coveo-headless-search__input",value:n.value,onChange:A,onKeyDown:u=>y(u)}),n.suggestions?.length>0&&e.createElement("ul",null,n.suggestions.map(u=>{const _=u.rawValue;return e.createElement("li",{key:_,onClick:()=>t.selectSuggestion(_)},_)}))),e.createElement("button",{className:"coveo-headless-search__btn",onClick:()=>F()},"Search")))};b.propTypes={controller:o().object.isRequired,engine:o().object};var S=b;function k(t){const s=/^(https?|ftp|file|mailto|tel):/i.test(t),n=/^(\/|\.\/|\.\.\/)/.test(t);return s||n?t:""}const E=({engine:t,result:s})=>{const n=(0,r.Om)(t,{options:{result:s}});return(0,e.useEffect)(()=>()=>n?.cancelPendingSelect(),[]),e.createElement("a",{href:k(s.clickUri),onClick:()=>n.select(),onContextMenu:()=>n.select(),onMouseDown:()=>n.select(),onMouseUp:()=>n.select(),onTouchStart:()=>n.beginDelayedSelect(),onTouchEnd:()=>n.cancelPendingSelect()},s.title)};E.propTypes={engine:o().object.isRequired,result:o().object,children:o().node};var R=E;const v=({controller:t,engine:s})=>{const[n,c]=(0,e.useState)(t.state);(0,e.useEffect)(()=>t.subscribe(()=>c(t.state)),[]);const{fetchMoreResults:d}=(0,r.wP)(s);return e.createElement("div",null,e.createElement("ul",{className:"coveo-headless-search__results"},n.results?.length===0?e.createElement("div",null,"No results"):n.results?.map((h,y)=>e.createElement("li",{key:y,className:"coveo-headless-search__result"},e.createElement(R,{engine:s,result:h}),e.createElement("p",null,h.excerpt)))),n.results?.length>0&&e.createElement("div",{className:"coveo-headless-search__load-more"},e.createElement("button",{className:"coveo-headless-search__load-more-btn",onClick:()=>{s.dispatch(d())}},"Load More Results")))};v.propTypes={controller:o().object.isRequired,engine:o().object.isRequired};var f=v;const N=({controller:t})=>{const[s,n]=(0,e.useState)(t.state);return(0,e.useEffect)(()=>t.subscribe(()=>n(t.state)),[]),s.values.length?e.createElement("ul",{className:"coveo-headless-search__facets"},e.createElement("li",null,e.createElement("ul",null,s.values.map(c=>e.createElement("li",{key:c.value,className:"coveo-headless-search__facet-item"},e.createElement("label",{className:"custom-checkbox"},e.createElement("input",{type:"checkbox",checked:t.isValueSelected(c),onChange:()=>t.toggleSelect(c),disabled:s.isLoading}),e.createElement("span",{className:"checkmark"})),e.createElement("div",null,c.value," (",c.numberOfResults," results)")))))):e.createElement("div",{className:"coveo-headless-search__facets"},"No facet values")};N.propTypes={controller:o().object.isRequired};var O=N;const T=({controller:t})=>{const[s,n]=(0,e.useState)(t.state);return(0,e.useEffect)(()=>t.subscribe(()=>n(t.state)),[]),e.createElement("div",{className:"coveo-headless-search__history-control"},e.createElement("h2",null,"History Control"),e.createElement("div",{className:"coveo-headless-search__history"},e.createElement("button",{className:"coveo-headless-search__btn",disabled:s.past.length===0,onClick:()=>t.back()},"Back"),e.createElement("button",{className:"coveo-headless-search__btn",disabled:s.future.length===0,onClick:()=>t.forward()},"Forward")))};T.propTypes={controller:o().object.isRequired};var x=T,P=t=>{const s=()=>window.location.hash.slice(1),n=(0,r.W0)(t,{initialState:{fragment:s()}}),c=()=>{n.synchronize(s())};window.addEventListener("hashchange",c);const d=n.subscribe(()=>{const h=`#${n.state.fragment}`;window.history.pushState(null,document.title,h)});return()=>{window.removeEventListener("hashchange",c),d()}};const C=({controller:t,engine:s})=>{const[,n]=(0,e.useState)(t.state);(0,e.useEffect)(()=>t.subscribe(()=>{n(t.state)}),[]);const{executeSearch:c}=(0,r.wP)(s),d=(0,r.vP)(s);return s.dispatch(d.registerAdvancedSearchQueries({aq:""})),e.createElement("div",null,e.createElement("button",{className:"coveo-headless-search__load-more-btn",onClick:()=>{s.dispatch(d.updateAdvancedSearchQueries({aq:'@author="bbc" $q()'})),s.dispatch(c())}},"Load More Results"))};C.propTypes={controller:o().object.isRequired,engine:o().object.isRequired};var j=C;const w=()=>{const t=(0,r.ff)(a,{searchBoxOptions:{numberOfSuggestions:5}}),s=(0,r.q)(a),n=(0,r.Lv)(a,{options:{numberOfValues:3,field:"author"}}),c=(0,r.MV)(a);return P(a),e.createElement(e.Fragment,null,e.createElement("h2",{className:"coveo-headless-search__heading"},"Coveo Headless React"),e.createElement(x,{controller:c}),e.createElement(S,{controller:t,engine:a}),e.createElement(O,{controller:n}),e.createElement(f,{controller:s,engine:a}),e.createElement(j,{controller:s,engine:a}))};w.propTypes={};var q=w,L=e.memo(q)},92703:function(p,m,l){"use strict";var e=l(50414);function r(){}function g(){}g.resetWarningCache=r,p.exports=function(){function a(b,S,k,E,R,v){if(v!==e){var f=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw f.name="Invariant Violation",f}}a.isRequired=a;function i(){return a}var o={array:a,bigint:a,bool:a,func:a,number:a,object:a,string:a,symbol:a,any:a,arrayOf:i,element:a,elementType:a,instanceOf:i,node:a,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:g,resetWarningCache:r};return o.PropTypes=o,o}},45697:function(p,m,l){if(!1)var e,r;else p.exports=l(92703)()},50414:function(p){"use strict";var m="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";p.exports=m}}]);

//# sourceMappingURL=8322.bundle.js.map