"use strict";(self.webpackChunk_verndale_toolkit=self.webpackChunk_verndale_toolkit||[]).push([[8265],{8265:function(x,f,n){n.r(f),n.d(f,{atomic_folded_result_list:function(){return r}});var a=n(51860),d=n(7941),p=n(52276),_=n(57418),u=n(59348),E=n(25452),m=n(69366),c=n(27663),g=n(29721);const h=".list-wrapper{word-break:break-word}.list-wrapper.placeholder atomic-result{display:none}.list-wrapper.placeholder table.list-root{display:none}.list-wrapper:not(.placeholder) atomic-result-placeholder{display:none}.list-wrapper:not(.placeholder) atomic-result-table-placeholder{display:none}.list-root.loading{-webkit-animation:pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;animation:pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite}@-webkit-keyframes pulse{0%,100%{opacity:0.6}50%{opacity:0.2}}@keyframes pulse{0%,100%{opacity:0.6}50%{opacity:0.2}}.list-wrapper.display-table{display:grid;overflow-x:auto}.list-root.display-table{min-width:100%;border-spacing:0;border-collapse:separate}.list-root.display-table th,.list-root.display-table td{font-family:var(--atomic-font-family);border:1px solid var(--atomic-neutral);--font-size:var(--atomic-text-sm);font-size:var(--font-size);line-height:1rem;white-space:nowrap}.list-root.display-table th:not(:first-child),.list-root.display-table td:not(:first-child){border-left:none}.list-root.display-table th:first-child,.list-root.display-table td:first-child{min-width:19rem}.list-root.display-table th{background-color:var(--atomic-neutral-light);border-bottom:none;font-weight:bold;color:black;padding:1rem var(--padding);text-align:left}.list-root.display-table th:first-child{border-top-left-radius:var(--atomic-border-radius-xl)}.list-root.display-table th:last-child{border-top-right-radius:var(--atomic-border-radius-xl)}.list-root.display-table td{color:var(--atomic-neutral-dark);border-top:none;vertical-align:top;padding:var(--padding)}.list-root.display-table.density-comfortable{--padding:2rem}.list-root.display-table.density-normal{--padding:1.5rem}.list-root.display-table.density-compact{--padding:1rem}.list-root.display-list{display:flex;flex-direction:column}.list-root.display-list atomic-result,.list-root.display-list atomic-result-placeholder{width:auto}@media (min-width: 1024px){.list-root.display-list.density-comfortable [part~='outline']::before{margin:2rem 0}.list-root.display-list.density-normal [part~='outline']::before{margin:1.5rem 0}@media not all and (min-width: 1024px){.list-root.display-list.density-normal [part~='outline']::before{margin:1.75rem 0}}.list-root.display-list.density-compact [part~='outline']::before{margin:1rem 0}@media not all and (min-width: 1024px){.list-root.display-list.density-compact [part~='outline']::before{margin:1.5rem 0}}.list-root.display-list [part~='outline']::before{display:block;content:' ';height:1px;background-color:var(--atomic-neutral)}.list-root.display-list [part~='outline']:first-of-type::before{display:none}.list-root.display-list atomic-result-placeholder::before{background-color:transparent}}@media not all and (min-width: 1024px){.list-root.display-list.image-large.density-comfortable [part~='outline']::before{margin:2rem 0}.list-root.display-list.image-large.density-normal [part~='outline']::before{margin:1.5rem 0}@media not all and (min-width: 1024px){.list-root.display-list.image-large.density-normal [part~='outline']::before{margin:1.75rem 0}}.list-root.display-list.image-large.density-compact [part~='outline']::before{margin:1rem 0}@media not all and (min-width: 1024px){.list-root.display-list.image-large.density-compact [part~='outline']::before{margin:1.5rem 0}}.list-root.display-list.image-large [part~='outline']::before{display:block;content:' ';height:1px;background-color:var(--atomic-neutral)}.list-root.display-list.image-large [part~='outline']:first-of-type::before{display:none}.list-root.display-list.image-large atomic-result-placeholder::before{background-color:transparent}.list-root.display-list.image-large{display:grid;justify-content:space-evenly;grid-template-columns:minmax(auto, 35rem)}.list-root.display-list.image-small,.list-root.display-list.image-icon,.list-root.display-list.image-none{grid-row-gap:1rem}.list-root.display-list.image-small [part~='outline'],.list-root.display-list.image-icon [part~='outline'],.list-root.display-list.image-none [part~='outline']{border:1px solid var(--atomic-neutral);padding:1rem;border-radius:1rem}.list-root.display-list.image-small atomic-result-placeholder,.list-root.display-list.image-icon atomic-result-placeholder,.list-root.display-list.image-none atomic-result-placeholder{border-color:transparent}}[part~='outline'][part~='result-list-grid-clickable-container']{position:relative}@media (min-width: 1024px){[part~='outline'][part~='result-list-grid-clickable-container']{border:1px solid transparent;padding:1rem;border-radius:1rem;transition:all 0.12s ease-out}[part~='outline'][part~='result-list-grid-clickable-container']:hover{border:1px solid var(--atomic-neutral);box-shadow:0px 10px 25px var(--atomic-neutral)}}[part='result-list-grid-clickable']{content:'';position:absolute;left:0;top:0;right:0;bottom:0}.list-root.display-grid{display:grid;justify-content:space-evenly}.list-root.display-grid atomic-result{height:100%;box-sizing:border-box}@media (min-width: 1024px){.list-root.display-grid{grid-template-columns:repeat(auto-fit, minmax(17rem, 1fr))}.list-root.display-grid.density-comfortable{grid-row-gap:4rem;grid-column-gap:1.5rem}.list-root.display-grid.density-normal,.list-root.display-grid.density-compact{grid-row-gap:3rem;grid-column-gap:1.5rem}.list-root.display-grid.image-large{grid-template-columns:repeat(auto-fill, minmax(19rem, 1fr))}@media not all and (min-width: 1024px){.list-root.display-grid.image-small{grid-template-columns:repeat(3, 1fr)}}@media (min-width: 1024px){.list-root.display-grid.image-small{grid-template-columns:repeat(4, 1fr)}}}@media not all and (min-width: 1024px){@media not all and (min-width: 768px){.list-root.display-grid.image-large.density-comfortable [part~='outline']::before{margin:2rem 0}.list-root.display-grid.image-large.density-normal [part~='outline']::before{margin:1.5rem 0}@media not all and (min-width: 1024px){.list-root.display-grid.image-large.density-normal [part~='outline']::before{margin:1.75rem 0}}.list-root.display-grid.image-large.density-compact [part~='outline']::before{margin:1rem 0}@media not all and (min-width: 1024px){.list-root.display-grid.image-large.density-compact [part~='outline']::before{margin:1.5rem 0}}.list-root.display-grid.image-large [part~='outline']::before{display:block;content:' ';height:1px;background-color:var(--atomic-neutral)}.list-root.display-grid.image-large [part~='outline']:first-of-type::before{display:none}.list-root.display-grid.image-large atomic-result-placeholder::before{background-color:transparent}.list-root.display-grid.image-large{grid-template-columns:minmax(auto, 35rem)}}@media (min-width: 768px){.list-root.display-grid.image-large [part~='outline']{border:1px solid var(--atomic-neutral);padding:1rem;border-radius:1rem}.list-root.display-grid.image-large atomic-result-placeholder{border-color:transparent}.list-root.display-grid.image-large{grid-column-gap:0.5rem;grid-row-gap:0.5rem;grid-template-columns:1fr 1fr}}.list-root.display-grid.image-small [part~='outline'],.list-root.display-grid.image-icon [part~='outline'],.list-root.display-grid.image-none [part~='outline']{border:1px solid var(--atomic-neutral);padding:1rem;border-radius:1rem}.list-root.display-grid.image-small atomic-result-placeholder,.list-root.display-grid.image-icon atomic-result-placeholder,.list-root.display-grid.image-none atomic-result-placeholder{border-color:transparent}.list-root.display-grid.image-small,.list-root.display-grid.image-icon,.list-root.display-grid.image-none{grid-column-gap:0.5rem;grid-row-gap:0.5rem}@media not all and (min-width: 640px){.list-root.display-grid.image-small,.list-root.display-grid.image-icon,.list-root.display-grid.image-none{grid-template-columns:minmax(0, 1fr)}}@media (min-width: 768px){.list-root.display-grid.image-small,.list-root.display-grid.image-icon,.list-root.display-grid.image-none{grid-template-columns:minmax(0, 1fr) minmax(0, 1fr)}}@media (min-width: 1024px){.list-root.display-grid.image-small,.list-root.display-grid.image-icon,.list-root.display-grid.image-none{grid-template-columns:minmax(0, 1fr) minmax(0, 1fr) minmax(0, 1fr)}}}";var s=function(i,y,b,o){var v=arguments.length,t=v<3?y:o===null?o=Object.getOwnPropertyDescriptor(y,b):o,e;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")t=Reflect.decorate(i,y,b,o);else for(var l=i.length-1;l>=0;l--)(e=i[l])&&(t=(v<3?e(t):v>3?e(y,b,t):e(y,b))||t);return v>3&&t&&Object.defineProperty(y,b,t),t};const r=class{constructor(i){(0,a.r)(this,i),this.ready=!1,this.templateHasError=!1,this.renderingFunction=null,this.loadingFlag=(0,u.r)("firstResultLoaded-"),this.enableInfiniteScroll=!1,this.fieldsToInclude="",this.density="normal",this.imageSize="icon"}async setRenderFunction(i){this.renderingFunction=i,this.assignRenderingFunctionIfPossible()}handleInfiniteScroll(){this.enableInfiniteScroll&&this.resultListCommon.scrollHasReachedEndOfList&&this.foldedResultList.fetchMoreResults()}resolveFoldedResultList(i){i.preventDefault(),i.stopPropagation(),i.detail(this.foldedResultList)}loadCollection(i){i.preventDefault(),i.stopPropagation(),this.foldedResultList.loadCollection(i.detail)}async initialize(){this.resultListCommon=new _.R({host:this.host,bindings:this.bindings,fieldsToInclude:this.fieldsToInclude,templateElements:this.host.querySelectorAll("atomic-result-template"),onReady:()=>{this.ready=!0,this.assignRenderingFunctionIfPossible()},onError:()=>{this.templateHasError=!0},loadingFlag:this.loadingFlag});try{this.foldedResultList=this.initFolding(this.resultListCommon.resultListControllerProps),this.resultsPerPage=(0,d.L)(this.bindings.engine)}catch(i){this.error=i}}initFolding(i={options:{}}){return(0,d.Z)(this.bindings.engine,{options:{...i.options,folding:{collectionField:this.collectionField,parentField:this.parentField,childField:this.childField}}})}getContentOfResultTemplate(i){return this.resultListCommon.getContentOfResultTemplate(i)}render(){return this.resultListCommon.renderList({host:this.host,density:this.density,imageSize:this.imageSize,templateHasError:this.templateHasError,resultListState:this.foldedResultListState,resultsPerPageState:this.resultsPerPageState,setListWrapperRef:i=>{this.listWrapperRef=i},getContentOfResultTemplate:this.getContentOfResultTemplate})}assignRenderingFunctionIfPossible(){this.resultListCommon&&this.renderingFunction&&(this.resultListCommon.renderingFunction=this.renderingFunction)}get host(){return(0,a.g)(this)}};s([(0,p.I)()],r.prototype,"bindings",void 0),s([(0,p.B)("foldedResultList")],r.prototype,"foldedResultListState",void 0),s([(0,p.B)("resultsPerPage")],r.prototype,"resultsPerPageState",void 0),r.style=h},53653:function(x,f,n){n.d(f,{g:function(){return _}});function a(u){switch(u){case"grid":return"display-grid";case"list":default:return"display-list";case"table":return"display-table"}}function d(u){switch(u){case"comfortable":return"density-comfortable";case"normal":default:return"density-normal";case"compact":return"density-compact"}}function p(u){switch(u){case"large":return"image-large";case"small":return"image-small";case"icon":default:return"image-icon";case"none":return"image-none"}}function _(u,E,m){return[a(u),d(E),p(m)]}},69366:function(x,f,n){n.d(f,{u:function(){return E}});var a=n(59348);const d="1024px";function p(m,c){return m.replace(new RegExp(`\\(min-width: ${d}\\)`,"g"),`(min-width: ${c})`)}function _(m,c){var g,h;const s=(g=m.shadowRoot)===null||g===void 0?void 0:g.adoptedStyleSheets;if(!s||!s.length)return;const r=s[0],i=Object.values(r.cssRules).map(y=>y.cssText).join("");(h=r.replaceSync)===null||h===void 0||h.call(r,p(i,c))}function u(m,c){var g;const h=(g=m.shadowRoot)===null||g===void 0?void 0:g.querySelector("style");!h||(h.textContent=p(h.textContent,c))}function E(m){const c=(0,a.c)(m,"atomic-search-layout");!c||c.mobileBreakpoint!==d&&(_(m,c.mobileBreakpoint),u(m,c.mobileBreakpoint))}},25452:function(x,f,n){n.d(f,{L:function(){return p}});var a=n(51860),d=n(18144);const p=({href:_,target:u,className:E,part:m,title:c,onSelect:g,onBeginDelayedSelect:h,onCancelPendingSelect:s,ref:r,attributes:i},y)=>{const b=(o,v)=>{o.stopPropagation(),v()};return(0,a.h)("a",{class:E,part:m,href:(0,d.f)(_),title:c,onClick:o=>b(o,g),onContextMenu:o=>b(o,g),onMouseDown:o=>b(o,g),onMouseUp:o=>b(o,g),onTouchStart:o=>b(o,h),onTouchEnd:o=>b(o,s),target:u,ref:o=>{r&&r(o),(i==null?void 0:i.length)&&[...i].forEach(({nodeName:v,nodeValue:t})=>{o==null||o.setAttribute(v,t)})}},y)}},57418:function(x,f,n){n.d(f,{L:function(){return i},R:function(){return y}});var a=n(51860),d=n(7941),p=n(53653),_=n(25452),u=n(59348),E=n(69366),m=n(91915);const c=t=>(0,a.h)("atomic-result-table-placeholder",{density:t.density,imageSize:t.imageSize,rows:t.resultsPerPageState.numberOfResults}),g=t=>{const e=Array.from(t.getContentOfResultTemplate(t.resultListState.results[0]).querySelectorAll("atomic-table-element"));return e.length===0&&t.bindings.engine.logger.error("atomic-table-element elements missing in the result template to display columns.",t.host),(0,a.h)("table",{class:`list-root ${t.classes}`,part:"result-table"},(0,a.h)("thead",{part:"result-table-heading"},(0,a.h)("tr",{part:"result-table-heading-row"},e.map(l=>(0,a.h)("th",{part:"result-table-heading-cell"},(0,a.h)("atomic-text",{value:l.getAttribute("label")}))))),(0,a.h)("tbody",{part:"result-table-body"},t.resultListState.results.map((l,L)=>(0,a.h)("tr",{key:t.resultListCommon.getResultId(l,t.resultListState),part:"result-table-row "+(L%2===1?"result-table-row-even":"result-table-row-odd")},e.map(P=>(0,a.h)("td",{key:P.getAttribute("label")+t.resultListCommon.getResultId(l,t.resultListState),part:"result-table-cell"},(0,a.h)("atomic-result",{engine:t.bindings.engine,store:t.bindings.store,result:l,display:t.display,density:t.density,"image-size":t.imageSize,content:P,loadingFlag:t.resultListCommon.loadingFlag})))))))},h=t=>t.resultListState.results.map(e=>(0,a.h)("atomic-result",{key:t.resultListCommon.getResultId(e,t.resultListState),part:"outline",result:e,engine:t.bindings.engine,store:t.bindings.store,display:t.display,density:t.density,imageSize:t.imageSize,content:t.getContentOfResultTemplate(e),loadingFlag:t.resultListCommon.loadingFlag})),s=t=>t.resultListState.results.map(e=>{const l=(0,d.N)(t.bindings.engine,{options:{result:t.resultListCommon.getUnfoldedResult(e)}});return(0,a.h)("div",{part:"result-list-grid-clickable-container outline"},(0,a.h)(_.L,{part:"result-list-grid-clickable",onSelect:()=>l.select(),onBeginDelayedSelect:()=>l.beginDelayedSelect(),onCancelPendingSelect:()=>l.cancelPendingSelect(),href:t.resultListCommon.getUnfoldedResult(e).clickUri,target:"_self",title:t.resultListCommon.getUnfoldedResult(e).title}),(0,a.h)("atomic-result",{key:t.resultListCommon.getResultId(e,t.resultListState),result:e,engine:t.bindings.engine,store:t.bindings.store,display:t.display,density:t.density,imageSize:t.imageSize,content:t.getContentOfResultTemplate(e),loadingFlag:t.resultListCommon.loadingFlag}))}),r=t=>Array.from({length:t.resultsPerPageState.numberOfResults},(e,l)=>(0,a.h)("atomic-result-placeholder",{key:`placeholder-${l}`,density:t.density,display:"grid",imageSize:t.imageSize})),i=t=>Array.from({length:t.resultsPerPageState.numberOfResults},(e,l)=>(0,a.h)("atomic-result-placeholder",{key:`placeholder-${l}`,density:t.density,display:"list",imageSize:t.imageSize,isChild:t.isChild}));class y{constructor(e){this.host=e.host,this.bindings=e.bindings,this.loadingFlag=e.loadingFlag,this.loadingFlag&&(0,m.s)(this.bindings.store,this.loadingFlag),this.updateBreakpoints=(0,u.o)(l=>{(0,E.u)(l)}),e.fieldsToInclude&&(this.resultListControllerProps={options:{fieldsToInclude:this.determineAllFieldsToInclude(e.fieldsToInclude)}}),this.registerResultTemplates(e.templateElements,e.includeDefaultTemplate,e.onReady,e.onError)}set renderingFunction(e){this.render=e}determineAllFieldsToInclude(e){return e.trim()===""?[...d.K]:d.K.concat(e.split(",").map(l=>l.trim()))}getTemplate(e){return this.resultTemplatesManager.selectTemplate(e)}getContentOfResultTemplate(e){const l=e.result||e;return this.render?this.render(e):this.getTemplate(l)}makeDefaultTemplate(){const e=document.createDocumentFragment(),l=document.createElement("atomic-result-link");return e.appendChild(l),{content:e,conditions:[]}}async registerResultTemplates(e,l=!0,L,P){this.resultTemplatesManager=(0,d.T)(this.bindings.engine);const D=await Promise.all(Array.from(e).map(async C=>{const w=await C.getTemplate();return w||P(),w})),R=(l?[this.makeDefaultTemplate()]:[]).concat(D.filter(C=>C));this.resultTemplatesManager.registerTemplates(...R),L()}getResultId(e,l){return this.getUnfoldedResult(e).uniqueId+l.searchResponseId}getUnfoldedResult(e){var l;return(l=e.result)!==null&&l!==void 0?l:e}get scrollHasReachedEndOfList(){var e;const l=(e=this.host.shadowRoot)===null||e===void 0?void 0:e.firstElementChild;return window.innerHeight+window.scrollY>=(l==null?void 0:l.offsetHeight)}getClasses(e="list",l,L,P,D,R){const C=(0,p.g)(e,l,L);return P&&D&&C.push("loading"),R&&C.push("placeholder"),C.join(" ")}renderList({host:e,display:l,density:L,imageSize:P,templateHasError:D,resultListState:R,resultsPerPageState:C,setListWrapperRef:w,getContentOfResultTemplate:S}){var O;if((O=this.updateBreakpoints)===null||O===void 0||O.call(this,e),R.hasError||R.firstSearchExecuted&&!R.hasResults)return;const F=!(0,m.i)(this.bindings.store),T=this.getClasses(l,L,P,R.firstSearchExecuted,R.isLoading,F);return(0,a.h)(a.H,null,D&&(0,a.h)("slot",null),(0,a.h)("div",{class:`list-wrapper ${T}`,ref:w},(0,a.h)(b,{classes:T,display:l},F&&(0,a.h)(o,{display:l,density:L,imageSize:P,resultsPerPageState:C}),R.firstSearchExecuted&&(0,a.h)(v,{classes:T,bindings:this.bindings,host:e,display:l,density:L,imageSize:P,resultListState:R,resultListCommon:this,getContentOfResultTemplate:S}))))}}const b=(t,e)=>t.display==="table"?e:(0,a.h)("div",{class:`list-root ${t.classes}`,part:"result-list"},e),o=t=>{switch(t.display){case"table":return(0,a.h)(c,{...t});case"grid":return(0,a.h)(r,{...t});default:return(0,a.h)(i,{...t})}},v=t=>{if(!t.resultListState.results.length)return null;switch(t.display){case"table":return(0,a.h)(g,{...t});case"grid":return(0,a.h)(s,{...t});default:return(0,a.h)(h,{...t})}}},91915:function(x,f,n){n.d(f,{a:function(){return a},b:function(){return _},g:function(){return u},h:function(){return c},i:function(){return h},r:function(){return d},s:function(){return E},u:function(){return m},w:function(){return g}});const a=()=>({facets:{},numericFacets:{},dateFacets:{},categoryFacets:{},facetElements:[],sortOptions:[],iconAssetsPath:"",loadingFlags:[]}),d=(s,r,i)=>{s.state[r][i.facetId]||(s.state[r][i.facetId]=i,s.state.facetElements.push(i.element))};function p(s){let r=s;for(;r&&r.parentNode;){if(r.parentNode===document)return!0;r.parentNode instanceof ShadowRoot?r=r.parentNode.host:r=r.parentNode}return!1}const _=s=>s.state.facetElements.filter(r=>p(r)),u=s=>({...s.state.facets,...s.state.dateFacets,...s.state.categoryFacets,...s.state.numericFacets}),E=(s,r)=>{const i=s.get("loadingFlags");s.set("loadingFlags",i.concat(r))},m=(s,r)=>{const i=s.get("loadingFlags");s.set("loadingFlags",i.filter(y=>y!==r))},c=(s,r)=>s.get("loadingFlags").indexOf(r)!==-1,g=(s,r)=>{s.onChange("loadingFlags",i=>{i.length||r()})},h=s=>!s.get("loadingFlags").length},18144:function(x,f,n){n.d(f,{f:function(){return a}});function a(d){const p=/^(https?|ftp|file|mailto|tel):/i.test(d),_=/^\//.test(d);return p||_?d:""}}}]);

//# sourceMappingURL=8265.bundle.js.map