(self.webpackChunk_verndale_toolkit=self.webpackChunk_verndale_toolkit||[]).push([[3103],{29721:function(Rt,Ue,te){"use strict";te.d(Ue,{a:function(){return Oe},b:function(){return je},c:function(){return Pe},g:function(){return Le}});var Oe=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof te.g!="undefined"?te.g:typeof self!="undefined"?self:{};function Le(be){return be&&be.__esModule&&Object.prototype.hasOwnProperty.call(be,"default")?be.default:be}function Pe(be,qe,Se){return Se={path:qe,exports:{},require:function(X,he){return je()}},be(Se,Se.exports),Se.exports}function je(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}},22973:function(Rt,Ue,te){"use strict";te.d(Ue,{b:function(){return Oe},l:function(){return Le}});function Oe(Pe,je){return new CustomEvent(Pe,{detail:je,bubbles:!0,cancelable:!0,composed:!0})}function Le(Pe,je,be,qe){const Se=X=>{Pe.removeEventListener(je,Se,qe),typeof be=="object"?be.handleEvent.call(Pe,X):be.call(Pe,X)};Pe.addEventListener(je,Se,qe)}},87001:function(){(function(Rt,Ue){Ue()})(0,function(){function Rt(te){var Oe=!0,Le=!1,Pe=null,je={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function be(ge){return!!(ge&&ge!==document&&ge.nodeName!=="HTML"&&ge.nodeName!=="BODY"&&"classList"in ge&&"contains"in ge.classList)}function qe(ge){ge.classList.contains("focus-visible")||(ge.classList.add("focus-visible"),ge.setAttribute("data-focus-visible-added",""))}function Se(ge){Oe=!1}function X(){document.addEventListener("mousemove",he),document.addEventListener("mousedown",he),document.addEventListener("mouseup",he),document.addEventListener("pointermove",he),document.addEventListener("pointerdown",he),document.addEventListener("pointerup",he),document.addEventListener("touchmove",he),document.addEventListener("touchstart",he),document.addEventListener("touchend",he)}function he(ge){ge.target.nodeName&&ge.target.nodeName.toLowerCase()==="html"||(Oe=!1,document.removeEventListener("mousemove",he),document.removeEventListener("mousedown",he),document.removeEventListener("mouseup",he),document.removeEventListener("pointermove",he),document.removeEventListener("pointerdown",he),document.removeEventListener("pointerup",he),document.removeEventListener("touchmove",he),document.removeEventListener("touchstart",he),document.removeEventListener("touchend",he))}document.addEventListener("keydown",function(ge){ge.metaKey||ge.altKey||ge.ctrlKey||(be(te.activeElement)&&qe(te.activeElement),Oe=!0)},!0),document.addEventListener("mousedown",Se,!0),document.addEventListener("pointerdown",Se,!0),document.addEventListener("touchstart",Se,!0),document.addEventListener("visibilitychange",function(ge){document.visibilityState==="hidden"&&(Le&&(Oe=!0),X())},!0),X(),te.addEventListener("focus",function(ge){var ae,W,J;be(ge.target)&&(Oe||(ae=ge.target,W=ae.type,(J=ae.tagName)==="INPUT"&&je[W]&&!ae.readOnly||J==="TEXTAREA"&&!ae.readOnly||ae.isContentEditable))&&qe(ge.target)},!0),te.addEventListener("blur",function(ge){var ae;be(ge.target)&&(ge.target.classList.contains("focus-visible")||ge.target.hasAttribute("data-focus-visible-added"))&&(Le=!0,window.clearTimeout(Pe),Pe=window.setTimeout(function(){Le=!1},100),(ae=ge.target).hasAttribute("data-focus-visible-added")&&(ae.classList.remove("focus-visible"),ae.removeAttribute("data-focus-visible-added")))},!0),te.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&te.host?te.host.setAttribute("data-js-focus-visible",""):te.nodeType===Node.DOCUMENT_NODE&&(document.documentElement.classList.add("js-focus-visible"),document.documentElement.setAttribute("data-js-focus-visible",""))}if(typeof window!="undefined"&&typeof document!="undefined"){var Ue;window.applyFocusVisiblePolyfill=Rt;try{Ue=new CustomEvent("focus-visible-polyfill-ready")}catch{(Ue=document.createEvent("CustomEvent")).initCustomEvent("focus-visible-polyfill-ready",!1,!1,{})}window.dispatchEvent(Ue)}typeof document!="undefined"&&Rt(document)})},7941:function(Rt,Ue,te){"use strict";te.d(Ue,{$:function(){return Dp},A:function(){return zo},C:function(){return $S},E:function(){return lC},I:function(){return uw},J:function(){return b0},K:function(){return Ch},L:function(){return Sw},M:function(){return d0},N:function(){return mw},O:function(){return hC},P:function(){return iw},S:function(){return oC},T:function(){return vC},U:function(){return xw},V:function(){return e0},Y:function(){return Fw},Z:function(){return L1},a:function(){return PS},b:function(){return I0},c:function(){return zw},d:function(){return k0},e:function(){return fC},f:function(){return Ip},g:function(){return B0},h:function(){return cC},i:function(){return Z1},j:function(){return Lp},k:function(){return au},l:function(){return Hw},m:function(){return wC},n:function(){return D0},o:function(){return Lw},p:function(){return Gl},q:function(){return cl},r:function(){return dC},s:function(){return wm},t:function(){return LS},u:function(){return Y1},v:function(){return pC},w:function(){return ow},x:function(){return gC},y:function(){return md},z:function(){return T1}});/**
 * @license
 *
 * Copyright 2022 Coveo Solutions Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 * 
 *       http://www.apache.org/licenses/LICENSE-2.0
 * 
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Oe=Object.create,Le=Object.defineProperty,Pe=Object.getOwnPropertyDescriptor,je=Object.getOwnPropertyNames,be=Object.getPrototypeOf,qe=Object.prototype.hasOwnProperty,Se=e=>Le(e,"__esModule",{value:!0}),X=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),he=(e,t)=>{Se(e);for(var n in t)Le(e,n,{get:t[n],enumerable:!0})},ge=(e,t,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let r of je(t))!qe.call(e,r)&&r!=="default"&&Le(e,r,{get:()=>t[r],enumerable:!(n=Pe(t,r))||n.enumerable});return e},ae=e=>ge(Se(Le(e!=null?Oe(be(e)):{},"default",e&&e.__esModule&&"default"in e?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e),W=X((e,t)=>{t.exports=fetch}),J=X(e=>{var t=e&&e.__assign||function(){return t=Object.assign||function(a){for(var i,o=1,l=arguments.length;o<l;o++){i=arguments[o];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(a[s]=i[s])}return a},t.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var n={delayFirstAttempt:!1,jitter:"none",maxDelay:1/0,numOfAttempts:10,retry:function(){return!0},startingDelay:100,timeMultiple:2};function r(a){var i=t(t({},n),a);return i.numOfAttempts<1&&(i.numOfAttempts=1),i}e.getSanitizedOptions=r}),xe=X(e=>{Object.defineProperty(e,"__esModule",{value:!0});function t(n){var r=Math.random()*n;return Math.round(r)}e.fullJitter=t}),Qe=X(e=>{Object.defineProperty(e,"__esModule",{value:!0});function t(n){return n}e.noJitter=t}),Ve=X(e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=xe(),n=Qe();function r(a){switch(a.jitter){case"full":return t.fullJitter;case"none":default:return n.noJitter}}e.JitterFactory=r}),ee=X(e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=Ve(),n=function(){function r(a){this.options=a,this.attempt=0}return r.prototype.apply=function(){var a=this;return new Promise(function(i){return setTimeout(i,a.jitteredDelay)})},r.prototype.setAttemptNumber=function(a){this.attempt=a},Object.defineProperty(r.prototype,"jitteredDelay",{get:function(){var a=t.JitterFactory(this.options);return a(this.delay)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"delay",{get:function(){var a=this.options.startingDelay,i=this.options.timeMultiple,o=this.numOfDelayedAttempts,l=a*Math.pow(i,o);return Math.min(l,this.options.maxDelay)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"numOfDelayedAttempts",{get:function(){return this.attempt},enumerable:!0,configurable:!0}),r}();e.Delay=n}),ie=X(e=>{var t=e&&e.__extends||function(){var o=function(l,s){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,f){u.__proto__=f}||function(u,f){for(var c in f)f.hasOwnProperty(c)&&(u[c]=f[c])},o(l,s)};return function(l,s){o(l,s);function u(){this.constructor=l}l.prototype=s===null?Object.create(s):(u.prototype=s.prototype,new u)}}(),n=e&&e.__awaiter||function(o,l,s,u){function f(c){return c instanceof s?c:new s(function(g){g(c)})}return new(s||(s=Promise))(function(c,g){function m(y){try{p(u.next(y))}catch(b){g(b)}}function v(y){try{p(u.throw(y))}catch(b){g(b)}}function p(y){y.done?c(y.value):f(y.value).then(m,v)}p((u=u.apply(o,l||[])).next())})},r=e&&e.__generator||function(o,l){var s={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},u,f,c,g;return g={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function m(p){return function(y){return v([p,y])}}function v(p){if(u)throw new TypeError("Generator is already executing.");for(;s;)try{if(u=1,f&&(c=p[0]&2?f.return:p[0]?f.throw||((c=f.return)&&c.call(f),0):f.next)&&!(c=c.call(f,p[1])).done)return c;switch(f=0,c&&(p=[p[0]&2,c.value]),p[0]){case 0:case 1:c=p;break;case 4:return s.label++,{value:p[1],done:!1};case 5:s.label++,f=p[1],p=[0];continue;case 7:p=s.ops.pop(),s.trys.pop();continue;default:if(c=s.trys,!(c=c.length>0&&c[c.length-1])&&(p[0]===6||p[0]===2)){s=0;continue}if(p[0]===3&&(!c||p[1]>c[0]&&p[1]<c[3])){s.label=p[1];break}if(p[0]===6&&s.label<c[1]){s.label=c[1],c=p;break}if(c&&s.label<c[2]){s.label=c[2],s.ops.push(p);break}c[2]&&s.ops.pop(),s.trys.pop();continue}p=l.call(o,s)}catch(y){p=[6,y],f=0}finally{u=c=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}};Object.defineProperty(e,"__esModule",{value:!0});var a=ee(),i=function(o){t(l,o);function l(){return o!==null&&o.apply(this,arguments)||this}return l.prototype.apply=function(){return n(this,void 0,void 0,function(){return r(this,function(s){return[2,this.isFirstAttempt?!0:o.prototype.apply.call(this)]})})},Object.defineProperty(l.prototype,"isFirstAttempt",{get:function(){return this.attempt===0},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"numOfDelayedAttempts",{get:function(){return this.attempt-1},enumerable:!0,configurable:!0}),l}(a.Delay);e.SkipFirstDelay=i}),Re=X(e=>{var t=e&&e.__extends||function(){var a=function(i,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,s){l.__proto__=s}||function(l,s){for(var u in s)s.hasOwnProperty(u)&&(l[u]=s[u])},a(i,o)};return function(i,o){a(i,o);function l(){this.constructor=i}i.prototype=o===null?Object.create(o):(l.prototype=o.prototype,new l)}}();Object.defineProperty(e,"__esModule",{value:!0});var n=ee(),r=function(a){t(i,a);function i(){return a!==null&&a.apply(this,arguments)||this}return i}(n.Delay);e.AlwaysDelay=r}),_e=X(e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=ie(),n=Re();function r(i,o){var l=a(i);return l.setAttemptNumber(o),l}e.DelayFactory=r;function a(i){return i.delayFirstAttempt?new n.AlwaysDelay(i):new t.SkipFirstDelay(i)}}),Ge=X(e=>{var t=e&&e.__awaiter||function(l,s,u,f){function c(g){return g instanceof u?g:new u(function(m){m(g)})}return new(u||(u=Promise))(function(g,m){function v(b){try{y(f.next(b))}catch(C){m(C)}}function p(b){try{y(f.throw(b))}catch(C){m(C)}}function y(b){b.done?g(b.value):c(b.value).then(v,p)}y((f=f.apply(l,s||[])).next())})},n=e&&e.__generator||function(l,s){var u={label:0,sent:function(){if(g[0]&1)throw g[1];return g[1]},trys:[],ops:[]},f,c,g,m;return m={next:v(0),throw:v(1),return:v(2)},typeof Symbol=="function"&&(m[Symbol.iterator]=function(){return this}),m;function v(y){return function(b){return p([y,b])}}function p(y){if(f)throw new TypeError("Generator is already executing.");for(;u;)try{if(f=1,c&&(g=y[0]&2?c.return:y[0]?c.throw||((g=c.return)&&g.call(c),0):c.next)&&!(g=g.call(c,y[1])).done)return g;switch(c=0,g&&(y=[y[0]&2,g.value]),y[0]){case 0:case 1:g=y;break;case 4:return u.label++,{value:y[1],done:!1};case 5:u.label++,c=y[1],y=[0];continue;case 7:y=u.ops.pop(),u.trys.pop();continue;default:if(g=u.trys,!(g=g.length>0&&g[g.length-1])&&(y[0]===6||y[0]===2)){u=0;continue}if(y[0]===3&&(!g||y[1]>g[0]&&y[1]<g[3])){u.label=y[1];break}if(y[0]===6&&u.label<g[1]){u.label=g[1],g=y;break}if(g&&u.label<g[2]){u.label=g[2],u.ops.push(y);break}g[2]&&u.ops.pop(),u.trys.pop();continue}y=s.call(l,u)}catch(b){y=[6,b],c=0}finally{f=g=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}};Object.defineProperty(e,"__esModule",{value:!0});var r=J(),a=_e();function i(l,s){return s===void 0&&(s={}),t(this,void 0,void 0,function(){var u,f;return n(this,function(c){switch(c.label){case 0:return u=r.getSanitizedOptions(s),f=new o(l,u),[4,f.execute()];case 1:return[2,c.sent()]}})})}e.backOff=i;var o=function(){function l(s,u){this.request=s,this.options=u,this.attemptNumber=0}return l.prototype.execute=function(){return t(this,void 0,void 0,function(){var s,u;return n(this,function(f){switch(f.label){case 0:if(this.attemptLimitReached)return[3,7];f.label=1;case 1:return f.trys.push([1,4,,6]),[4,this.applyDelay()];case 2:return f.sent(),[4,this.request()];case 3:return[2,f.sent()];case 4:return s=f.sent(),this.attemptNumber++,[4,this.options.retry(s,this.attemptNumber)];case 5:if(u=f.sent(),!u||this.attemptLimitReached)throw s;return[3,6];case 6:return[3,0];case 7:throw new Error("Something went wrong.")}})})},Object.defineProperty(l.prototype,"attemptLimitReached",{get:function(){return this.attemptNumber>=this.options.numOfAttempts},enumerable:!0,configurable:!0}),l.prototype.applyDelay=function(){return t(this,void 0,void 0,function(){var s;return n(this,function(u){switch(u.label){case 0:return s=a.DelayFactory(this.options,this.attemptNumber),[4,s.apply()];case 1:return u.sent(),[2]}})})},l}()}),ht=X((e,t)=>{(function(n,r){typeof e=="object"&&typeof t!="undefined"?t.exports=r():typeof define=="function"&&te.amdO?define(r):(n=typeof globalThis!="undefined"?globalThis:n||self).dayjs=r()})(e,function(){var n=1e3,r=6e4,a=36e5,i="millisecond",o="second",l="minute",s="hour",u="day",f="week",c="month",g="quarter",m="year",v="date",p="Invalid Date",y=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,b=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,C={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},E=function(F,A,k){var I=String(F);return!I||I.length>=A?F:""+Array(A+1-I.length).join(k)+F},_={s:E,z:function(F){var A=-F.utcOffset(),k=Math.abs(A),I=Math.floor(k/60),q=k%60;return(A<=0?"+":"-")+E(I,2,"0")+":"+E(q,2,"0")},m:function F(A,k){if(A.date()<k.date())return-F(k,A);var I=12*(k.year()-A.year())+(k.month()-A.month()),q=A.clone().add(I,c),H=k-q<0,G=A.clone().add(I+(H?-1:1),c);return+(-(I+(k-q)/(H?q-G:G-q))||0)},a:function(F){return F<0?Math.ceil(F)||0:Math.floor(F)},p:function(F){return{M:c,y:m,w:f,d:u,D:v,h:s,m:l,s:o,ms:i,Q:g}[F]||String(F||"").toLowerCase().replace(/s$/,"")},u:function(F){return F===void 0}},B="en",ue={};ue[B]=C;var fe=function(F){return F instanceof U},R=function F(A,k,I){var q;if(!A)return B;if(typeof A=="string"){var H=A.toLowerCase();ue[H]&&(q=H),k&&(ue[H]=k,q=H);var G=A.split("-");if(!q&&G.length>1)return F(G[0])}else{var Te=A.name;ue[Te]=A,q=Te}return!I&&q&&(B=q),q||!I&&B},N=function(F,A){if(fe(F))return F.clone();var k=typeof A=="object"?A:{};return k.date=F,k.args=arguments,new U(k)},$=_;$.l=R,$.i=fe,$.w=function(F,A){return N(F,{locale:A.$L,utc:A.$u,x:A.$x,$offset:A.$offset})};var U=function(){function F(k){this.$L=R(k.locale,null,!0),this.parse(k)}var A=F.prototype;return A.parse=function(k){this.$d=function(I){var q=I.date,H=I.utc;if(q===null)return new Date(NaN);if($.u(q))return new Date;if(q instanceof Date)return new Date(q);if(typeof q=="string"&&!/Z$/i.test(q)){var G=q.match(y);if(G){var Te=G[2]-1||0,ze=(G[7]||"0").substring(0,3);return H?new Date(Date.UTC(G[1],Te,G[3]||1,G[4]||0,G[5]||0,G[6]||0,ze)):new Date(G[1],Te,G[3]||1,G[4]||0,G[5]||0,G[6]||0,ze)}}return new Date(q)}(k),this.$x=k.x||{},this.init()},A.init=function(){var k=this.$d;this.$y=k.getFullYear(),this.$M=k.getMonth(),this.$D=k.getDate(),this.$W=k.getDay(),this.$H=k.getHours(),this.$m=k.getMinutes(),this.$s=k.getSeconds(),this.$ms=k.getMilliseconds()},A.$utils=function(){return $},A.isValid=function(){return this.$d.toString()!==p},A.isSame=function(k,I){var q=N(k);return this.startOf(I)<=q&&q<=this.endOf(I)},A.isAfter=function(k,I){return N(k)<this.startOf(I)},A.isBefore=function(k,I){return this.endOf(I)<N(k)},A.$g=function(k,I,q){return $.u(k)?this[I]:this.set(q,k)},A.unix=function(){return Math.floor(this.valueOf()/1e3)},A.valueOf=function(){return this.$d.getTime()},A.startOf=function(k,I){var q=this,H=!!$.u(I)||I,G=$.p(k),Te=function(pt,vt){var Qt=$.w(q.$u?Date.UTC(q.$y,vt,pt):new Date(q.$y,vt,pt),q);return H?Qt:Qt.endOf(u)},ze=function(pt,vt){return $.w(q.toDate()[pt].apply(q.toDate("s"),(H?[0,0,0,0]:[23,59,59,999]).slice(vt)),q)},Ie=this.$W,it=this.$M,Dt=this.$D,It="set"+(this.$u?"UTC":"");switch(G){case m:return H?Te(1,0):Te(31,11);case c:return H?Te(1,it):Te(0,it+1);case f:var fn=this.$locale().weekStart||0,Xt=(Ie<fn?Ie+7:Ie)-fn;return Te(H?Dt-Xt:Dt+(6-Xt),it);case u:case v:return ze(It+"Hours",0);case s:return ze(It+"Minutes",1);case l:return ze(It+"Seconds",2);case o:return ze(It+"Milliseconds",3);default:return this.clone()}},A.endOf=function(k){return this.startOf(k,!1)},A.$set=function(k,I){var q,H=$.p(k),G="set"+(this.$u?"UTC":""),Te=(q={},q[u]=G+"Date",q[v]=G+"Date",q[c]=G+"Month",q[m]=G+"FullYear",q[s]=G+"Hours",q[l]=G+"Minutes",q[o]=G+"Seconds",q[i]=G+"Milliseconds",q)[H],ze=H===u?this.$D+(I-this.$W):I;if(H===c||H===m){var Ie=this.clone().set(v,1);Ie.$d[Te](ze),Ie.init(),this.$d=Ie.set(v,Math.min(this.$D,Ie.daysInMonth())).$d}else Te&&this.$d[Te](ze);return this.init(),this},A.set=function(k,I){return this.clone().$set(k,I)},A.get=function(k){return this[$.p(k)]()},A.add=function(k,I){var q,H=this;k=Number(k);var G=$.p(I),Te=function(it){var Dt=N(H);return $.w(Dt.date(Dt.date()+Math.round(it*k)),H)};if(G===c)return this.set(c,this.$M+k);if(G===m)return this.set(m,this.$y+k);if(G===u)return Te(1);if(G===f)return Te(7);var ze=(q={},q[l]=r,q[s]=a,q[o]=n,q)[G]||1,Ie=this.$d.getTime()+k*ze;return $.w(Ie,this)},A.subtract=function(k,I){return this.add(-1*k,I)},A.format=function(k){var I=this,q=this.$locale();if(!this.isValid())return q.invalidDate||p;var H=k||"YYYY-MM-DDTHH:mm:ssZ",G=$.z(this),Te=this.$H,ze=this.$m,Ie=this.$M,it=q.weekdays,Dt=q.months,It=function(vt,Qt,lr,ur){return vt&&(vt[Qt]||vt(I,H))||lr[Qt].slice(0,ur)},fn=function(vt){return $.s(Te%12||12,vt,"0")},Xt=q.meridiem||function(vt,Qt,lr){var ur=vt<12?"AM":"PM";return lr?ur.toLowerCase():ur},pt={YY:String(this.$y).slice(-2),YYYY:this.$y,M:Ie+1,MM:$.s(Ie+1,2,"0"),MMM:It(q.monthsShort,Ie,Dt,3),MMMM:It(Dt,Ie),D:this.$D,DD:$.s(this.$D,2,"0"),d:String(this.$W),dd:It(q.weekdaysMin,this.$W,it,2),ddd:It(q.weekdaysShort,this.$W,it,3),dddd:it[this.$W],H:String(Te),HH:$.s(Te,2,"0"),h:fn(1),hh:fn(2),a:Xt(Te,ze,!0),A:Xt(Te,ze,!1),m:String(ze),mm:$.s(ze,2,"0"),s:String(this.$s),ss:$.s(this.$s,2,"0"),SSS:$.s(this.$ms,3,"0"),Z:G};return H.replace(b,function(vt,Qt){return Qt||pt[vt]||G.replace(":","")})},A.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},A.diff=function(k,I,q){var H,G=$.p(I),Te=N(k),ze=(Te.utcOffset()-this.utcOffset())*r,Ie=this-Te,it=$.m(this,Te);return it=(H={},H[m]=it/12,H[c]=it,H[g]=it/3,H[f]=(Ie-ze)/6048e5,H[u]=(Ie-ze)/864e5,H[s]=Ie/a,H[l]=Ie/r,H[o]=Ie/n,H)[G]||Ie,q?it:$.a(it)},A.daysInMonth=function(){return this.endOf(c).$D},A.$locale=function(){return ue[this.$L]},A.locale=function(k,I){if(!k)return this.$L;var q=this.clone(),H=R(k,I,!0);return H&&(q.$L=H),q},A.clone=function(){return $.w(this.$d,this)},A.toDate=function(){return new Date(this.valueOf())},A.toJSON=function(){return this.isValid()?this.toISOString():null},A.toISOString=function(){return this.$d.toISOString()},A.toString=function(){return this.$d.toUTCString()},F}(),K=U.prototype;return N.prototype=K,[["$ms",i],["$s",o],["$m",l],["$H",s],["$W",u],["$M",c],["$y",m],["$D",v]].forEach(function(F){K[F[1]]=function(A){return this.$g(A,F[0],F[1])}}),N.extend=function(F,A){return F.$i||(F(A,U,N),F.$i=!0),N},N.locale=R,N.isDayjs=fe,N.unix=function(F){return N(1e3*F)},N.en=ue[B],N.Ls=ue,N.p={},N})}),Tn=X((e,t)=>{(function(n,r){typeof e=="object"&&typeof t!="undefined"?t.exports=r():typeof define=="function"&&te.amdO?define(r):(n=typeof globalThis!="undefined"?globalThis:n||self).dayjs_plugin_utc=r()})(e,function(){var n="minute",r=/[+-]\d\d(?::?\d\d)?/g,a=/([+-]|\d\d)/g;return function(i,o,l){var s=o.prototype;l.utc=function(p){var y={date:p,utc:!0,args:arguments};return new o(y)},s.utc=function(p){var y=l(this.toDate(),{locale:this.$L,utc:!0});return p?y.add(this.utcOffset(),n):y},s.local=function(){return l(this.toDate(),{locale:this.$L,utc:!1})};var u=s.parse;s.parse=function(p){p.utc&&(this.$u=!0),this.$utils().u(p.$offset)||(this.$offset=p.$offset),u.call(this,p)};var f=s.init;s.init=function(){if(this.$u){var p=this.$d;this.$y=p.getUTCFullYear(),this.$M=p.getUTCMonth(),this.$D=p.getUTCDate(),this.$W=p.getUTCDay(),this.$H=p.getUTCHours(),this.$m=p.getUTCMinutes(),this.$s=p.getUTCSeconds(),this.$ms=p.getUTCMilliseconds()}else f.call(this)};var c=s.utcOffset;s.utcOffset=function(p,y){var b=this.$utils().u;if(b(p))return this.$u?0:b(this.$offset)?c.call(this):this.$offset;if(typeof p=="string"&&(p=function(B){B===void 0&&(B="");var ue=B.match(r);if(!ue)return null;var fe=(""+ue[0]).match(a)||["-",0,0],R=fe[0],N=60*+fe[1]+ +fe[2];return N===0?0:R==="+"?N:-N}(p),p===null))return this;var C=Math.abs(p)<=16?60*p:p,E=this;if(y)return E.$offset=C,E.$u=p===0,E;if(p!==0){var _=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(E=this.local().add(C+_,n)).$offset=C,E.$x.$localOffset=_}else E=this.utc();return E};var g=s.format;s.format=function(p){var y=p||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return g.call(this,y)},s.valueOf=function(){var p=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*p},s.isUTC=function(){return!!this.$u},s.toISOString=function(){return this.toDate().toISOString()},s.toString=function(){return this.toDate().toUTCString()};var m=s.toDate;s.toDate=function(p){return p==="s"&&this.$offset?l(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():m.call(this)};var v=s.diff;s.diff=function(p,y,b){if(p&&this.$u===p.$u)return v.call(this,p,y,b);var C=this.local(),E=l(p).local();return v.call(C,E,y,b)}}})}),Nt=X((e,t)=>{(function(n,r){typeof e=="object"&&typeof t!="undefined"?t.exports=r():typeof define=="function"&&te.amdO?define(r):(n=typeof globalThis!="undefined"?globalThis:n||self).dayjs_plugin_timezone=r()})(e,function(){var n={year:0,month:1,day:2,hour:3,minute:4,second:5},r={};return function(a,i,o){var l,s=function(g,m,v){v===void 0&&(v={});var p=new Date(g),y=function(b,C){C===void 0&&(C={});var E=C.timeZoneName||"short",_=b+"|"+E,B=r[_];return B||(B=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:b,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZoneName:E}),r[_]=B),B}(m,v);return y.formatToParts(p)},u=function(g,m){for(var v=s(g,m),p=[],y=0;y<v.length;y+=1){var b=v[y],C=b.type,E=b.value,_=n[C];_>=0&&(p[_]=parseInt(E,10))}var B=p[3],ue=B===24?0:B,fe=p[0]+"-"+p[1]+"-"+p[2]+" "+ue+":"+p[4]+":"+p[5]+":000",R=+g;return(o.utc(fe).valueOf()-(R-=R%1e3))/6e4},f=i.prototype;f.tz=function(g,m){g===void 0&&(g=l);var v=this.utcOffset(),p=this.toDate(),y=p.toLocaleString("en-US",{timeZone:g}),b=Math.round((p-new Date(y))/1e3/60),C=o(y).$set("millisecond",this.$ms).utcOffset(15*-Math.round(p.getTimezoneOffset()/15)-b,!0);if(m){var E=C.utcOffset();C=C.add(v-E,"minute")}return C.$x.$timezone=g,C},f.offsetName=function(g){var m=this.$x.$timezone||o.tz.guess(),v=s(this.valueOf(),m,{timeZoneName:g}).find(function(p){return p.type.toLowerCase()==="timezonename"});return v&&v.value};var c=f.startOf;f.startOf=function(g,m){if(!this.$x||!this.$x.$timezone)return c.call(this,g,m);var v=o(this.format("YYYY-MM-DD HH:mm:ss:SSS"));return c.call(v,g,m).tz(this.$x.$timezone,!0)},o.tz=function(g,m,v){var p=v&&m,y=v||m||l,b=u(+o(),y);if(typeof g!="string")return o(g).tz(y);var C=function(ue,fe,R){var N=ue-60*fe*1e3,$=u(N,R);if(fe===$)return[N,fe];var U=u(N-=60*($-fe)*1e3,R);return $===U?[N,$]:[ue-60*Math.min($,U)*1e3,Math.max($,U)]}(o.utc(g,p).valueOf(),b,y),E=C[0],_=C[1],B=o(E).utcOffset(_);return B.$x.$timezone=y,B},o.tz.guess=function(){return Intl.DateTimeFormat().resolvedOptions().timeZone},o.tz.setDefault=function(g){l=g}}})}),pn=X((e,t)=>{function n(r,a,i){return a in r?Object.defineProperty(r,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[a]=i,r}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports}),va=X((e,t)=>{var n=pn();function r(i,o){var l=Object.keys(i);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(i);o&&(s=s.filter(function(u){return Object.getOwnPropertyDescriptor(i,u).enumerable})),l.push.apply(l,s)}return l}function a(i){for(var o=1;o<arguments.length;o++){var l=arguments[o]!=null?arguments[o]:{};o%2?r(Object(l),!0).forEach(function(s){n(i,s,l[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(l)):r(Object(l)).forEach(function(s){Object.defineProperty(i,s,Object.getOwnPropertyDescriptor(l,s))})}return i}t.exports=a,t.exports.__esModule=!0,t.exports.default=t.exports}),hn=X(e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=va();function n(b){return b&&typeof b=="object"&&"default"in b?b:{default:b}}var r=n(t);function a(b){return"Minified Redux error #"+b+"; visit https://redux.js.org/Errors?code="+b+" for the full message or use the non-minified dev environment for full errors. "}var i=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),o=function(){return Math.random().toString(36).substring(7).split("").join(".")},l={INIT:"@@redux/INIT"+o(),REPLACE:"@@redux/REPLACE"+o(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+o()}};function s(b){if(typeof b!="object"||b===null)return!1;for(var C=b;Object.getPrototypeOf(C)!==null;)C=Object.getPrototypeOf(C);return Object.getPrototypeOf(b)===C}function u(b,C,E){var _;if(typeof C=="function"&&typeof E=="function"||typeof E=="function"&&typeof arguments[3]=="function")throw new Error(a(0));if(typeof C=="function"&&typeof E=="undefined"&&(E=C,C=void 0),typeof E!="undefined"){if(typeof E!="function")throw new Error(a(1));return E(u)(b,C)}if(typeof b!="function")throw new Error(a(2));var B=b,ue=C,fe=[],R=fe,N=!1;function $(){R===fe&&(R=fe.slice())}function U(){if(N)throw new Error(a(3));return ue}function K(I){if(typeof I!="function")throw new Error(a(4));if(N)throw new Error(a(5));var q=!0;return $(),R.push(I),function(){if(q){if(N)throw new Error(a(6));q=!1,$();var H=R.indexOf(I);R.splice(H,1),fe=null}}}function F(I){if(!s(I))throw new Error(a(7));if(typeof I.type=="undefined")throw new Error(a(8));if(N)throw new Error(a(9));try{N=!0,ue=B(ue,I)}finally{N=!1}for(var q=fe=R,H=0;H<q.length;H++){var G=q[H];G()}return I}function A(I){if(typeof I!="function")throw new Error(a(10));B=I,F({type:l.REPLACE})}function k(){var I,q=K;return I={subscribe:function(H){if(typeof H!="object"||H===null)throw new Error(a(11));function G(){H.next&&H.next(U())}G();var Te=q(G);return{unsubscribe:Te}}},I[i]=function(){return this},I}return F({type:l.INIT}),_={dispatch:F,subscribe:K,getState:U,replaceReducer:A},_[i]=k,_}var f=u;function c(b){Object.keys(b).forEach(function(C){var E=b[C],_=E(void 0,{type:l.INIT});if(typeof _=="undefined")throw new Error(a(12));if(typeof E(void 0,{type:l.PROBE_UNKNOWN_ACTION()})=="undefined")throw new Error(a(13))})}function g(b){for(var C=Object.keys(b),E={},_=0;_<C.length;_++){var B=C[_];typeof b[B]=="function"&&(E[B]=b[B])}var ue=Object.keys(E),fe;try{c(E)}catch(R){fe=R}return function(R,N){if(R===void 0&&(R={}),fe)throw fe;for(var $=!1,U={},K=0;K<ue.length;K++){var F=ue[K],A=E[F],k=R[F],I=A(k,N);if(typeof I=="undefined")throw new Error(a(14));U[F]=I,$=$||I!==k}return $=$||ue.length!==Object.keys(R).length,$?U:R}}function m(b,C){return function(){return C(b.apply(this,arguments))}}function v(b,C){if(typeof b=="function")return m(b,C);if(typeof b!="object"||b===null)throw new Error(a(16));var E={};for(var _ in b){var B=b[_];typeof B=="function"&&(E[_]=m(B,C))}return E}function p(){for(var b=arguments.length,C=new Array(b),E=0;E<b;E++)C[E]=arguments[E];return C.length===0?function(_){return _}:C.length===1?C[0]:C.reduce(function(_,B){return function(){return _(B.apply(void 0,arguments))}})}function y(){for(var b=arguments.length,C=new Array(b),E=0;E<b;E++)C[E]=arguments[E];return function(_){return function(){var B=_.apply(void 0,arguments),ue=function(){throw new Error(a(15))},fe={getState:B.getState,dispatch:function(){return ue.apply(void 0,arguments)}},R=C.map(function(N){return N(fe)});return ue=p.apply(void 0,R)(B.dispatch),r.default(r.default({},B),{},{dispatch:ue})}}}e.__DO_NOT_USE__ActionTypes=l,e.applyMiddleware=y,e.bindActionCreators=v,e.combineReducers=g,e.compose=p,e.createStore=u,e.legacy_createStore=f}),en=X((e,t)=>{var n="[object Object]";function r(v){var p=!1;if(v!=null&&typeof v.toString!="function")try{p=!!(v+"")}catch{}return p}function a(v,p){return function(y){return v(p(y))}}var i=Function.prototype,o=Object.prototype,l=i.toString,s=o.hasOwnProperty,u=l.call(Object),f=o.toString,c=a(Object.getPrototypeOf,Object);function g(v){return!!v&&typeof v=="object"}function m(v){if(!g(v)||f.call(v)!=n||r(v))return!1;var p=c(v);if(p===null)return!0;var y=s.call(p,"constructor")&&p.constructor;return typeof y=="function"&&y instanceof y&&l.call(y)==u}t.exports=m}),gn=X(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=l;var t=hn(),n=en(),r=a(n);function a(s){return s&&s.__esModule?s:{default:s}}function i(s){if(Array.isArray(s)){for(var u=0,f=Array(s.length);u<s.length;u++)f[u]=s[u];return f}else return Array.from(s)}var o=function(s){return typeof s=="function"};function l(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};function f(){var g=[],m=[],v={getState:function(){return o(u)?u(g):u},getActions:function(){return g},dispatch:function(p){if(!(0,r.default)(p))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(typeof p.type=="undefined")throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant? Action: '+JSON.stringify(p));g.push(p);for(var y=0;y<m.length;y++)m[y]();return p},clearActions:function(){g=[]},subscribe:function(p){return o(p)&&m.push(p),function(){var y=m.indexOf(p);y<0||m.splice(y,1)}},replaceReducer:function(p){if(!o(p))throw new Error("Expected the nextReducer to be a function.")}};return v}var c=t.applyMiddleware.apply(void 0,i(s))(f);return c()}}}),ya=X((e,t)=>{var n=typeof self!="undefined"?self:typeof window!="undefined"?window:void 0;if(!n)throw new Error("Unable to find global scope. Are you sure this is running in the browser?");if(!n.AbortController)throw new Error('Could not find "AbortController" in the global scope. You need to polyfill it first');t.exports=n.AbortController,t.exports.default=n.AbortController}),Ft=X((e,t)=>{function n(i){if(arguments.length===0)throw new TypeError("1 argument required, but only 0 present.");if(i=`${i}`,i=i.replace(/[ \t\n\f\r]/g,""),i.length%4==0&&(i=i.replace(/==?$/,"")),i.length%4==1||/[^+/0-9A-Za-z]/.test(i))return null;let o="",l=0,s=0;for(let u=0;u<i.length;u++)l<<=6,l|=a(i[u]),s+=6,s===24&&(o+=String.fromCharCode((l&16711680)>>16),o+=String.fromCharCode((l&65280)>>8),o+=String.fromCharCode(l&255),l=s=0);return s===12?(l>>=4,o+=String.fromCharCode(l)):s===18&&(l>>=2,o+=String.fromCharCode((l&65280)>>8),o+=String.fromCharCode(l&255)),o}var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function a(i){let o=r.indexOf(i);return o<0?void 0:o}t.exports=n}),cr=X((e,t)=>{function n(i){if(arguments.length===0)throw new TypeError("1 argument required, but only 0 present.");let o;for(i=`${i}`,o=0;o<i.length;o++)if(i.charCodeAt(o)>255)return null;let l="";for(o=0;o<i.length;o+=3){let s=[void 0,void 0,void 0,void 0];s[0]=i.charCodeAt(o)>>2,s[1]=(i.charCodeAt(o)&3)<<4,i.length>o+1&&(s[1]|=i.charCodeAt(o+1)>>4,s[2]=(i.charCodeAt(o+1)&15)<<2),i.length>o+2&&(s[2]|=i.charCodeAt(o+2)>>6,s[3]=i.charCodeAt(o+2)&63);for(let u=0;u<s.length;u++)typeof s[u]=="undefined"?l+="=":l+=a(s[u])}return l}var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function a(i){if(i>=0&&i<64)return r[i]}t.exports=n}),mn=X((e,t)=>{var n=Ft(),r=cr();t.exports={atob:n,btoa:r}}),ot=X((e,t)=>{(function(n,r){typeof e=="object"&&typeof t!="undefined"?t.exports=r():typeof define=="function"&&te.amdO?define(r):(n=typeof globalThis!="undefined"?globalThis:n||self).dayjs_plugin_customParseFormat=r()})(e,function(){var n={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},r=/(\[[^[]*\])|([-:/.()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,a=/\d\d/,i=/\d\d?/,o=/\d*[^\s\d-_:/()]+/,l={},s=function(p){return(p=+p)+(p>68?1900:2e3)},u=function(p){return function(y){this[p]=+y}},f=[/[+-]\d\d:?(\d\d)?|Z/,function(p){(this.zone||(this.zone={})).offset=function(y){if(!y||y==="Z")return 0;var b=y.match(/([+-]|\d\d)/g),C=60*b[1]+(+b[2]||0);return C===0?0:b[0]==="+"?-C:C}(p)}],c=function(p){var y=l[p];return y&&(y.indexOf?y:y.s.concat(y.f))},g=function(p,y){var b,C=l.meridiem;if(C){for(var E=1;E<=24;E+=1)if(p.indexOf(C(E,0,y))>-1){b=E>12;break}}else b=p===(y?"pm":"PM");return b},m={A:[o,function(p){this.afternoon=g(p,!1)}],a:[o,function(p){this.afternoon=g(p,!0)}],S:[/\d/,function(p){this.milliseconds=100*+p}],SS:[a,function(p){this.milliseconds=10*+p}],SSS:[/\d{3}/,function(p){this.milliseconds=+p}],s:[i,u("seconds")],ss:[i,u("seconds")],m:[i,u("minutes")],mm:[i,u("minutes")],H:[i,u("hours")],h:[i,u("hours")],HH:[i,u("hours")],hh:[i,u("hours")],D:[i,u("day")],DD:[a,u("day")],Do:[o,function(p){var y=l.ordinal,b=p.match(/\d+/);if(this.day=b[0],y)for(var C=1;C<=31;C+=1)y(C).replace(/\[|\]/g,"")===p&&(this.day=C)}],M:[i,u("month")],MM:[a,u("month")],MMM:[o,function(p){var y=c("months"),b=(c("monthsShort")||y.map(function(C){return C.slice(0,3)})).indexOf(p)+1;if(b<1)throw new Error;this.month=b%12||b}],MMMM:[o,function(p){var y=c("months").indexOf(p)+1;if(y<1)throw new Error;this.month=y%12||y}],Y:[/[+-]?\d+/,u("year")],YY:[a,function(p){this.year=s(p)}],YYYY:[/\d{4}/,u("year")],Z:f,ZZ:f};function v(p){var y,b;y=p,b=l&&l.formats;for(var C=(p=y.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(N,$,U){var K=U&&U.toUpperCase();return $||b[U]||n[U]||b[K].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(F,A,k){return A||k.slice(1)})})).match(r),E=C.length,_=0;_<E;_+=1){var B=C[_],ue=m[B],fe=ue&&ue[0],R=ue&&ue[1];C[_]=R?{regex:fe,parser:R}:B.replace(/^\[|\]$/g,"")}return function(N){for(var $={},U=0,K=0;U<E;U+=1){var F=C[U];if(typeof F=="string")K+=F.length;else{var A=F.regex,k=F.parser,I=N.slice(K),q=A.exec(I)[0];k.call($,q),N=N.replace(q,"")}}return function(H){var G=H.afternoon;if(G!==void 0){var Te=H.hours;G?Te<12&&(H.hours+=12):Te===12&&(H.hours=0),delete H.afternoon}}($),$}}return function(p,y,b){b.p.customParseFormat=!0,p&&p.parseTwoDigitYear&&(s=p.parseTwoDigitYear);var C=y.prototype,E=C.parse;C.parse=function(_){var B=_.date,ue=_.utc,fe=_.args;this.$u=ue;var R=fe[1];if(typeof R=="string"){var N=fe[2]===!0,$=fe[3]===!0,U=N||$,K=fe[2];$&&(K=fe[2]),l=this.$locale(),!N&&K&&(l=b.Ls[K]),this.$d=function(I,q,H){try{if(["x","X"].indexOf(q)>-1)return new Date((q==="X"?1e3:1)*I);var G=v(q)(I),Te=G.year,ze=G.month,Ie=G.day,it=G.hours,Dt=G.minutes,It=G.seconds,fn=G.milliseconds,Xt=G.zone,pt=new Date,vt=Ie||(Te||ze?1:pt.getDate()),Qt=Te||pt.getFullYear(),lr=0;Te&&!ze||(lr=ze>0?ze-1:pt.getMonth());var ur=it||0,iu=Dt||0,ou=It||0,su=fn||0;return Xt?new Date(Date.UTC(Qt,lr,vt,ur,iu,ou,su+60*Xt.offset*1e3)):H?new Date(Date.UTC(Qt,lr,vt,ur,iu,ou,su)):new Date(Qt,lr,vt,ur,iu,ou,su)}catch{return new Date("")}}(B,R,ue),this.init(),K&&K!==!0&&(this.$L=this.locale(K).$L),U&&B!=this.format(R)&&(this.$d=new Date("")),l={}}else if(R instanceof Array)for(var F=R.length,A=1;A<=F;A+=1){fe[1]=R[A-1];var k=b.apply(this,fe);if(k.isValid()){this.$d=k.$d,this.$L=k.$L,this.init();break}A===F&&(this.$d=new Date(""))}else E.call(this,_)}}})}),dr=X((e,t)=>{(function(n,r){typeof e=="object"&&typeof t!="undefined"?t.exports=r():typeof define=="function"&&te.amdO?define(r):(n=typeof globalThis!="undefined"?globalThis:n||self).dayjs_plugin_quarterOfYear=r()})(e,function(){var n="month",r="quarter";return function(a,i){var o=i.prototype;o.quarter=function(u){return this.$utils().u(u)?Math.ceil((this.month()+1)/3):this.month(this.month()%3+3*(u-1))};var l=o.add;o.add=function(u,f){return u=Number(u),this.$utils().p(f)===r?this.add(3*u,n):l.bind(this)(u,f)};var s=o.startOf;o.startOf=function(u,f){var c=this.$utils(),g=!!c.u(f)||f;if(c.p(u)===r){var m=this.quarter()-1;return g?this.month(3*m).startOf(n).startOf("day"):this.month(3*m+2).endOf(n).endOf("day")}return s.bind(this)(u,f)}}})}),At=X((e,t)=>{function n(a){try{return JSON.stringify(a)}catch{return'"[Circular]"'}}t.exports=r;function r(a,i,o){var l=o&&o.stringify||n,s=1;if(typeof a=="object"&&a!==null){var u=i.length+s;if(u===1)return a;var f=new Array(u);f[0]=l(a);for(var c=1;c<u;c++)f[c]=l(i[c]);return f.join(" ")}if(typeof a!="string")return a;var g=i.length;if(g===0)return a;for(var m="",v=1-s,p=-1,y=a&&a.length||0,b=0;b<y;){if(a.charCodeAt(b)===37&&b+1<y){switch(p=p>-1?p:0,a.charCodeAt(b+1)){case 100:case 102:if(v>=g||i[v]==null)break;p<b&&(m+=a.slice(p,b)),m+=Number(i[v]),p=b+2,b++;break;case 105:if(v>=g||i[v]==null)break;p<b&&(m+=a.slice(p,b)),m+=Math.floor(Number(i[v])),p=b+2,b++;break;case 79:case 111:case 106:if(v>=g||i[v]===void 0)break;p<b&&(m+=a.slice(p,b));var C=typeof i[v];if(C==="string"){m+="'"+i[v]+"'",p=b+2,b++;break}if(C==="function"){m+=i[v].name||"<anonymous>",p=b+2,b++;break}m+=l(i[v]),p=b+2,b++;break;case 115:if(v>=g)break;p<b&&(m+=a.slice(p,b)),m+=String(i[v]),p=b+2,b++;break;case 37:p<b&&(m+=a.slice(p,b)),m+="%",p=b+2,b++,v--;break}++v}++b}return p===-1?a:(p<y&&(m+=a.slice(p)),m)}}),qn=X((e,t)=>{var n=At();t.exports=o;var r=fe().console||{},a={mapHttpRequest:y,mapHttpResponse:y,wrapRequestSerializer:b,wrapResponseSerializer:b,wrapErrorSerializer:b,req:y,res:y,err:v};function i(R,N){return Array.isArray(R)?R.filter(function($){return $!=="!stdSerializers.err"}):R===!0?Object.keys(N):!1}function o(R){R=R||{},R.browser=R.browser||{};let N=R.browser.transmit;if(N&&typeof N.send!="function")throw Error("pino: transmit option must have a send function");let $=R.browser.write||r;R.browser.write&&(R.browser.asObject=!0);let U=R.serializers||{},K=i(R.browser.serialize,U),F=R.browser.serialize;Array.isArray(R.browser.serialize)&&R.browser.serialize.indexOf("!stdSerializers.err")>-1&&(F=!1);let A=["error","fatal","warn","info","debug","trace"];typeof $=="function"&&($.error=$.fatal=$.warn=$.info=$.debug=$.trace=$),R.enabled===!1&&(R.level="silent");let k=R.level||"info",I=Object.create($);I.log||(I.log=C),Object.defineProperty(I,"levelVal",{get:H}),Object.defineProperty(I,"level",{get:G,set:Te});let q={transmit:N,serialize:K,asObject:R.browser.asObject,levels:A,timestamp:p(R)};I.levels=o.levels,I.level=k,I.setMaxListeners=I.getMaxListeners=I.emit=I.addListener=I.on=I.prependListener=I.once=I.prependOnceListener=I.removeListener=I.removeAllListeners=I.listeners=I.listenerCount=I.eventNames=I.write=I.flush=C,I.serializers=U,I._serialize=K,I._stdErrSerialize=F,I.child=ze,N&&(I._logEvent=m());function H(){return this.level==="silent"?1/0:this.levels.values[this.level]}function G(){return this._level}function Te(Ie){if(Ie!=="silent"&&!this.levels.values[Ie])throw Error("unknown level "+Ie);this._level=Ie,l(q,I,"error","log"),l(q,I,"fatal","error"),l(q,I,"warn","error"),l(q,I,"info","log"),l(q,I,"debug","log"),l(q,I,"trace","log")}function ze(Ie,it){if(!Ie)throw new Error("missing bindings for child Pino");it=it||{},K&&Ie.serializers&&(it.serializers=Ie.serializers);let Dt=it.serializers;if(K&&Dt){var It=Object.assign({},U,Dt),fn=R.browser.serialize===!0?Object.keys(It):K;delete Ie.serializers,f([Ie],fn,It,this._stdErrSerialize)}function Xt(pt){this._childLevel=(pt._childLevel|0)+1,this.error=c(pt,Ie,"error"),this.fatal=c(pt,Ie,"fatal"),this.warn=c(pt,Ie,"warn"),this.info=c(pt,Ie,"info"),this.debug=c(pt,Ie,"debug"),this.trace=c(pt,Ie,"trace"),It&&(this.serializers=It,this._serialize=fn),N&&(this._logEvent=m([].concat(pt._logEvent.bindings,Ie)))}return Xt.prototype=this,new Xt(this)}return I}o.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},o.stdSerializers=a,o.stdTimeFunctions=Object.assign({},{nullTime:E,epochTime:_,unixTime:B,isoTime:ue});function l(R,N,$,U){let K=Object.getPrototypeOf(N);N[$]=N.levelVal>N.levels.values[$]?C:K[$]?K[$]:r[$]||r[U]||C,s(R,N,$)}function s(R,N,$){!R.transmit&&N[$]===C||(N[$]=function(U){return function(){let K=R.timestamp(),F=new Array(arguments.length),A=Object.getPrototypeOf&&Object.getPrototypeOf(this)===r?r:this;for(var k=0;k<F.length;k++)F[k]=arguments[k];if(R.serialize&&!R.asObject&&f(F,this._serialize,this.serializers,this._stdErrSerialize),R.asObject?U.call(A,u(this,$,F,K)):U.apply(A,F),R.transmit){let I=R.transmit.level||N.level,q=o.levels.values[I],H=o.levels.values[$];if(H<q)return;g(this,{ts:K,methodLevel:$,methodValue:H,transmitLevel:I,transmitValue:o.levels.values[R.transmit.level||N.level],send:R.transmit.send,val:N.levelVal},F)}}}(N[$]))}function u(R,N,$,U){R._serialize&&f($,R._serialize,R.serializers,R._stdErrSerialize);let K=$.slice(),F=K[0],A={};U&&(A.time=U),A.level=o.levels.values[N];let k=(R._childLevel|0)+1;if(k<1&&(k=1),F!==null&&typeof F=="object"){for(;k--&&typeof K[0]=="object";)Object.assign(A,K.shift());F=K.length?n(K.shift(),K):void 0}else typeof F=="string"&&(F=n(K.shift(),K));return F!==void 0&&(A.msg=F),A}function f(R,N,$,U){for(let K in R)if(U&&R[K]instanceof Error)R[K]=o.stdSerializers.err(R[K]);else if(typeof R[K]=="object"&&!Array.isArray(R[K]))for(let F in R[K])N&&N.indexOf(F)>-1&&F in $&&(R[K][F]=$[F](R[K][F]))}function c(R,N,$){return function(){let U=new Array(1+arguments.length);U[0]=N;for(var K=1;K<U.length;K++)U[K]=arguments[K-1];return R[$].apply(this,U)}}function g(R,N,$){let U=N.send,K=N.ts,F=N.methodLevel,A=N.methodValue,k=N.val,I=R._logEvent.bindings;f($,R._serialize||Object.keys(R.serializers),R.serializers,R._stdErrSerialize===void 0?!0:R._stdErrSerialize),R._logEvent.ts=K,R._logEvent.messages=$.filter(function(q){return I.indexOf(q)===-1}),R._logEvent.level.label=F,R._logEvent.level.value=A,U(F,R._logEvent,k),R._logEvent=m(I)}function m(R){return{ts:0,messages:[],bindings:R||[],level:{label:"",value:0}}}function v(R){let N={type:R.constructor.name,msg:R.message,stack:R.stack};for(let $ in R)N[$]===void 0&&(N[$]=R[$]);return N}function p(R){return typeof R.timestamp=="function"?R.timestamp:R.timestamp===!1?E:_}function y(){return{}}function b(R){return R}function C(){}function E(){return!1}function _(){return Date.now()}function B(){return Math.round(Date.now()/1e3)}function ue(){return new Date(Date.now()).toISOString()}function fe(){function R(N){return typeof N!="undefined"&&N}try{return typeof globalThis!="undefined"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return R(self)||R(window)||R(this)||{}}}}),Ee=X((e,t)=>{(function(n,r){typeof e=="object"&&typeof t!="undefined"?r(e):typeof define=="function"&&te.amdO?define(["exports"],r):(n=typeof globalThis!="undefined"?globalThis:n||self,r(n["fast-equals"]={}))})(e,function(n){var r=typeof WeakSet=="function",a=Object.keys;function i($,U){return $===U||$!==$&&U!==U}function o($){return $.constructor===Object||$.constructor==null}function l($){return!!$&&typeof $.then=="function"}function s($){return!!($&&$.$$typeof)}function u(){var $=[];return{add:function(U){$.push(U)},has:function(U){return $.indexOf(U)!==-1}}}var f=function($){return $?function(){return new WeakSet}:u}(r);function c($){return function(U){var K=$||U;return function(F,A,k){k===void 0&&(k=f());var I=!!F&&typeof F=="object",q=!!A&&typeof A=="object";if(I||q){var H=I&&k.has(F),G=q&&k.has(A);if(H||G)return H&&G;I&&k.add(F),q&&k.add(A)}return K(F,A,k)}}}function g($,U,K,F){var A=$.length;if(U.length!==A)return!1;for(;A-- >0;)if(!K($[A],U[A],F))return!1;return!0}function m($,U,K,F){var A=$.size===U.size;if(A&&$.size){var k={};$.forEach(function(I,q){if(A){var H=!1,G=0;U.forEach(function(Te,ze){!H&&!k[G]&&(H=K(q,ze,F)&&K(I,Te,F),H&&(k[G]=!0)),G++}),A=H}})}return A}var v="_owner",p=Function.prototype.bind.call(Function.prototype.call,Object.prototype.hasOwnProperty);function y($,U,K,F){var A=a($),k=A.length;if(a(U).length!==k)return!1;if(k)for(var I=void 0;k-- >0;){if(I=A[k],I===v){var q=s($),H=s(U);if((q||H)&&q!==H)return!1}if(!p(U,I)||!K($[I],U[I],F))return!1}return!0}function b($,U){return $.source===U.source&&$.global===U.global&&$.ignoreCase===U.ignoreCase&&$.multiline===U.multiline&&$.unicode===U.unicode&&$.sticky===U.sticky&&$.lastIndex===U.lastIndex}function C($,U,K,F){var A=$.size===U.size;if(A&&$.size){var k={};$.forEach(function(I){if(A){var q=!1,H=0;U.forEach(function(G){!q&&!k[H]&&(q=K(I,G,F),q&&(k[H]=!0)),H++}),A=q}})}return A}var E=typeof Map=="function",_=typeof Set=="function";function B($){var U=typeof $=="function"?$(K):K;function K(F,A,k){if(F===A)return!0;if(F&&A&&typeof F=="object"&&typeof A=="object"){if(o(F)&&o(A))return y(F,A,U,k);var I=Array.isArray(F),q=Array.isArray(A);return I||q?I===q&&g(F,A,U,k):(I=F instanceof Date,q=A instanceof Date,I||q?I===q&&i(F.getTime(),A.getTime()):(I=F instanceof RegExp,q=A instanceof RegExp,I||q?I===q&&b(F,A):l(F)||l(A)?F===A:E&&(I=F instanceof Map,q=A instanceof Map,I||q)?I===q&&m(F,A,U,k):_&&(I=F instanceof Set,q=A instanceof Set,I||q)?I===q&&C(F,A,U,k):y(F,A,U,k)))}return F!==F&&A!==A}return K}var ue=B(),fe=B(function(){return i}),R=B(c()),N=B(c(i));n.circularDeepEqual=R,n.circularShallowEqual=N,n.createCustomEqual=B,n.deepEqual=ue,n.sameValueZeroEqual=i,n.shallowEqual=fe,Object.defineProperty(n,"__esModule",{value:!0})})}),Vt={};he(Vt,{buildMockCaseAssistEngine:()=>fv,buildMockProductListingEngine:()=>dv,buildMockProductRecommendationsAppEngine:()=>cv,buildMockRaw:()=>gd,buildMockRecommendationAppEngine:()=>uv,buildMockResult:()=>gv,buildMockSearchAppEngine:()=>lv,createMockState:()=>Tu});var Fn=ae(W()),fr=ae(Ge()),vn=class extends Error{constructor(){super();this.name="ExpiredToken",this.message="The token being used to perform the request is expired."}},zt=class extends Error{constructor(e,t){super();this.name="Disconnected",this.message=`Client could not connect to the following URL: ${e}`,this.statusCode=t??0}};function yn(e){let t=[];for(let n in e){let r=encodeURIComponent(n),a=encodeURIComponent(e[n]);t.push(`${r}=${a}`)}return t.join("&")}function kn(e){return typeof e!="object"||!e?!1:Object.values(e).every(jr)}function jr(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"}function pr(e){return e===429}var xt=class{static async call(e){let t=Mr(e),{preprocessRequest:n,logger:r}=e,a={...t,...n?await n(t,"searchApiFetch"):{}};r.info(a,"Platform request");let{url:i,...o}=a,l=async()=>{let s=await(0,Fn.default)(i,o);if(pr(s.status))throw s;return s};try{let s=await(0,fr.backOff)(l,{retry:u=>{let f=u&&pr(u.status);return f&&r.info("Platform retrying request"),f}});if(s.status===419)throw r.info("Platform renewing token"),new vn;if(s.status===404)throw new zt(i,s.status);return r.info({response:s,requestInfo:a},"Platform response"),s}catch(s){return s.message==="Failed to fetch"?new zt(i):s}}};function tn(e,t){let n=!t||!t.environment||t.environment==="prod"?"":t.environment,r=!t||!t.region||t.region==="us"?"":`-${t.region}`;return`https://${e}${n}${r}.cloud.coveo.com`}function Ln(e){return(e==null?void 0:e.multiRegionSubDomain)?`https://${e.multiRegionSubDomain}.org.coveo.com`:tn("platform",e)}function Pt(e){return tn("analytics",e)}function Mr(e){let{url:t,method:n,requestParams:r,contentType:a,accessToken:i,signal:o}=e,l=e.method==="POST"||e.method==="PUT",s=Tt(r,a);return{url:t,method:n,headers:{"Content-Type":a,Authorization:`Bearer ${i}`,...e.headers},...l&&{body:s},signal:o}}function Tt(e,t){return t==="application/x-www-form-urlencoded"?kn(e)?yn(e):"":JSON.stringify(e)}var _n=ae(ht()),Dr=ae(Tn()),Nr=ae(Nt());function Pn(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n}function Ce(e,t,n,r){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(f){try{u(r.next(f))}catch(c){o(c)}}function s(f){try{u(r.throw(f))}catch(c){o(c)}}function u(f){f.done?i(f.value):a(f.value).then(l,s)}u((r=r.apply(e,t||[])).next())})}var Ze;(function(e){e.search="search",e.click="click",e.custom="custom",e.view="view",e.collect="collect"})(Ze||(Ze={}));function Vr(){return typeof window!="undefined"}function jn(){return typeof navigator!="undefined"}function nn(){return typeof document!="undefined"}function hr(){try{return typeof localStorage!="undefined"}catch{return!1}}function Q(){try{return typeof sessionStorage!="undefined"}catch{return!1}}function Y(){return jn()&&navigator.cookieEnabled}function ve(){return typeof crypto!="undefined"}function Ae(){return ve()&&typeof crypto.getRandomValues!="undefined"}var Xe=[Ze.click,Ze.custom,Ze.search,Ze.view],Wt=(e,t)=>Xe.indexOf(e)!==-1?Object.assign({language:nn()?document.documentElement.lang:"unknown",userAgent:jn()?navigator.userAgent:"unknown"},t):t,We=class{static set(e,t,n){var r,a,i,o,l;n?(i=new Date,i.setTime(i.getTime()+n),o="; expires="+i.toGMTString()):o="",l=location.hostname,l.indexOf(".")===-1?document.cookie=e+"="+t+o+"; path=/":(a=l.split("."),a.shift(),r="."+a.join("."),kt({name:e,value:t,expires:o,domain:r}),(We.get(e)==null||We.get(e)!=t)&&(r="."+l,kt({name:e,value:t,expires:o,domain:r})))}static get(e){for(var t=e+"=",n=document.cookie.split(";"),r=0;r<n.length;r++){var a=n[r];if(a=a.replace(/^\s+/,""),a.indexOf(t)==0)return a.substring(t.length,a.length)}return null}static erase(e){We.set(e,"",-1)}};function kt(e){let{name:t,value:n,expires:r,domain:a}=e;document.cookie=`${t}=${n}${r}; path=/; domain=${a}; SameSite=Lax`}function rn(){return hr()?localStorage:Y()?new Lt:Q()?sessionStorage:new bn}var Lt=class{getItem(e){return We.get(`${Lt.prefix}${e}`)}removeItem(e){We.erase(`${Lt.prefix}${e}`)}setItem(e,t){We.set(`${Lt.prefix}${e}`,t)}};Lt.prefix="coveo_";var ba=class{constructor(){this.cookieStorage=new Lt}getItem(e){return localStorage.getItem(e)||this.cookieStorage.getItem(e)}removeItem(e){this.cookieStorage.removeItem(e),localStorage.removeItem(e)}setItem(e,t){localStorage.setItem(e,t),this.cookieStorage.setItem(e,t)}},bn=class{getItem(e){return null}removeItem(e){}setItem(e,t){}},an="__coveo.analytics.history",zr=20,on=1e3*60,Ur=75,Mn=class{constructor(e){this.store=e||rn()}addElement(e){e.internalTime=new Date().getTime(),e=this.cropQueryElement(this.stripEmptyQuery(e));let t=this.getHistoryWithInternalTime();t!=null?this.isValidEntry(e)&&this.setHistory([e].concat(t)):this.setHistory([e])}addElementAsync(e){return Ce(this,void 0,void 0,function*(){e.internalTime=new Date().getTime(),e=this.cropQueryElement(this.stripEmptyQuery(e));let t=yield this.getHistoryWithInternalTimeAsync();t!=null?this.isValidEntry(e)&&this.setHistory([e].concat(t)):this.setHistory([e])})}getHistory(){let e=this.getHistoryWithInternalTime();return this.stripEmptyQueries(this.stripInternalTime(e))}getHistoryAsync(){return Ce(this,void 0,void 0,function*(){let e=yield this.getHistoryWithInternalTimeAsync();return this.stripEmptyQueries(this.stripInternalTime(e))})}getHistoryWithInternalTime(){try{let e=this.store.getItem(an);return e&&typeof e=="string"?JSON.parse(e):[]}catch{return[]}}getHistoryWithInternalTimeAsync(){return Ce(this,void 0,void 0,function*(){try{let e=yield this.store.getItem(an);return e?JSON.parse(e):[]}catch{return[]}})}setHistory(e){try{this.store.setItem(an,JSON.stringify(e.slice(0,zr)))}catch{}}clear(){try{this.store.removeItem(an)}catch{}}getMostRecentElement(){let e=this.getHistoryWithInternalTime();return e!=null?e.sort((t,n)=>(n.internalTime||0)-(t.internalTime||0))[0]:null}cropQueryElement(e){return e.name&&e.value&&e.name.toLowerCase()==="query"&&(e.value=e.value.slice(0,Ur)),e}isValidEntry(e){let t=this.getMostRecentElement();return t&&t.value==e.value?(e.internalTime||0)-(t.internalTime||0)>on:!0}stripInternalTime(e){return e.map(t=>{let{name:n,time:r,value:a}=t;return{name:n,time:r,value:a}})}stripEmptyQuery(e){let{name:t,time:n,value:r}=e;return t&&typeof r=="string"&&t.toLowerCase()==="query"&&r.trim()===""?{name:t,time:n}:e}stripEmptyQueries(e){return e.map(t=>this.stripEmptyQuery(t))}},Sa=Object.freeze({__proto__:null,STORE_KEY:an,MAX_NUMBER_OF_HISTORY_ELEMENTS:zr,MIN_THRESHOLD_FOR_DUPLICATE_VALUE:on,MAX_VALUE_SIZE:Ur,HistoryStore:Mn,default:Mn}),gr=(e,t)=>Ce(void 0,void 0,void 0,function*(){return e===Ze.view?(yield mr(t.contentIdValue),Object.assign({location:window.location.toString(),referrer:document.referrer,title:document.title},t)):t}),mr=e=>Ce(void 0,void 0,void 0,function*(){let t=new Mn,n={name:"PageView",value:e,time:JSON.stringify(new Date)};yield t.addElementAsync(n)}),qt=e=>e?(Number(e)^Dn(new Uint8Array(1))[0]%16>>Number(e)/4).toString(16):(`${1e7}`+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,qt),Dn=e=>{if(Ae())return crypto.getRandomValues(e);for(var t=0,n=0;t<e.length;t++)(t&3)==0&&(n=Math.random()*4294967296),e[t]=n>>>((t&3)<<3)&255;return e},Ye=Object.keys,Nn={id:"svc_ticket_id",subject:"svc_ticket_subject",description:"svc_ticket_description",category:"svc_ticket_category",productId:"svc_ticket_product_id",custom:"svc_ticket_custom"},wa=Ye(Nn).map(e=>Nn[e]),Br=[...wa].join("|"),Yt=new RegExp(`^(${Br}$)`),Hr={svcAction:"svc_action",svcActionData:"svc_action_data"},Qr=e=>Yt.test(e),yt=[Qr],Sn={id:"id",name:"nm",brand:"br",category:"ca",variant:"va",price:"pr",quantity:"qt",coupon:"cc",position:"ps",group:"group"},wn={id:"id",name:"nm",brand:"br",category:"ca",variant:"va",position:"ps",price:"pr",group:"group"},ct={action:"pa",list:"pal",listSource:"pls"},Cn={id:"ti",revenue:"tr",tax:"tt",shipping:"ts",coupon:"tcc",affiliation:"ta",step:"cos",option:"col"},vr=["loyaltyCardId","loyaltyTier","thirdPartyPersona","companyName","favoriteStore","storeName","userIndustry","userRole","userDepartment","businessUnit"],sn={id:"quoteId",affiliation:"quoteAffiliation"},On={id:"reviewId",rating:"reviewRating",comment:"reviewComment"},d={add:ct,bookmark_add:ct,bookmark_remove:ct,click:ct,checkout:ct,checkout_option:ct,detail:ct,impression:ct,remove:ct,refund:Object.assign(Object.assign({},ct),Cn),purchase:Object.assign(Object.assign({},ct),Cn),quickview:ct,quote:Object.assign(Object.assign({},ct),sn),review:Object.assign(Object.assign({},ct),On)},h=Ye(Sn).map(e=>Sn[e]),S=Ye(wn).map(e=>wn[e]),x=Ye(ct).map(e=>ct[e]),O=Ye(Cn).map(e=>Cn[e]),P=Ye(On).map(e=>On[e]),L=Ye(sn).map(e=>sn[e]),D=[...h,"custom"].join("|"),z=[...S,"custom"].join("|"),oe="(pr[0-9]+)",de="(il[0-9]+pi[0-9]+)",me=new RegExp(`^${oe}(${D})$`),Fe=new RegExp(`^(${de}(${z}))|(il[0-9]+nm)$`),Ke=new RegExp(`^(${x.join("|")})$`),et=new RegExp(`^(${O.join("|")})$`),Et=new RegExp(`^${oe}custom$`),Vn=new RegExp(`^${de}custom$`),xn=new RegExp(`^(${[...vr,...P,...L].join("|")})$`),Ca=e=>me.test(e),yr=e=>Fe.test(e),zn=e=>Ke.test(e),Un=e=>et.test(e),wi=e=>xn.test(e),Ci=[yr,Ca,zn,Un,wi],Oi=[Et,Vn],Oa={anonymizeIp:"aip"},xi={eventCategory:"ec",eventAction:"ea",eventLabel:"el",eventValue:"ev",page:"dp",visitorId:"cid",clientId:"cid",userId:"uid",currencyCode:"cu"},xa={hitType:"t",pageViewId:"pid",encoding:"de",location:"dl",referrer:"dr",screenColor:"sd",screenResolution:"sr",title:"dt",userAgent:"ua",language:"ul",eventId:"z",time:"tm"},Ea=["contentId","contentIdKey","contentType","searchHub","tab","searchUid","permanentId","contentLocale"],ln=Object.assign(Object.assign(Object.assign(Object.assign({},Oa),xi),xa),Ea.reduce((e,t)=>Object.assign(Object.assign({},e),{[t]:t}),{})),Bn=Object.assign(Object.assign({},ln),Hr),$a=e=>{let t=!!e.action&&d[e.action]||{};return Ye(e).reduce((n,r)=>{let a=t[r]||Bn[r]||r;return Object.assign(Object.assign({},n),{[a]:e[r]})},{})},Hn=Ye(Bn).map(e=>Bn[e]),Po=e=>Hn.indexOf(e)!==-1,jo=e=>e==="custom",En=e=>[...Ci,...yt,Po,jo].some(t=>t(e)),Qn=e=>Ye(e).reduce((t,n)=>{let r=Mo(n);return r?Object.assign(Object.assign({},t),Ei(r,e[n])):Object.assign(Object.assign({},t),{[n]:e[n]})},{}),Mo=e=>{let t;return[...Oi].every(n=>{var r;return t=(r=n.exec(e))===null||r===void 0?void 0:r[1],!Boolean(t)}),t},Ei=(e,t)=>Ye(t).reduce((n,r)=>Object.assign(Object.assign({},n),{[`${e}${r}`]:t[r]}),{}),Ia=class{constructor(e){this.opts=e}sendEvent(e,t){return Ce(this,void 0,void 0,function*(){if(!navigator.sendBeacon)throw new Error('navigator.sendBeacon is not supported in this browser. Consider adding a polyfill like "sendbeacon-polyfill".');let{baseUrl:n,preprocessRequest:r}=this.opts,a=this.encodeForEventType(e,t),i=yield this.getQueryParamsForEventType(e),o={url:`${n}/analytics/${e}?${i}`,body:new Blob([a],{type:"application/x-www-form-urlencoded"})},{url:l,body:s}=Object.assign(Object.assign({},o),r?yield r(o,"analyticsBeacon"):{});console.log(`Sending beacon for "${e}" with: `,JSON.stringify(t)),navigator.sendBeacon(l,s)})}encodeForEventType(e,t){return this.isEventTypeLegacy(e)?this.encodeForLegacyType(e,t):this.encodeForFormUrlEncoded(Object.assign({access_token:this.opts.token},t))}getQueryParamsForEventType(e){return Ce(this,void 0,void 0,function*(){let{token:t,visitorIdProvider:n}=this.opts,r=yield n.getCurrentVisitorId();return[t&&this.isEventTypeLegacy(e)?`access_token=${t}`:"",r?`visitorId=${r}`:"","discardVisitInfo=true"].filter(a=>!!a).join("&")})}isEventTypeLegacy(e){return[Ze.click,Ze.custom,Ze.search,Ze.view].indexOf(e)!==-1}encodeForLegacyType(e,t){return`${e}Event=${encodeURIComponent(JSON.stringify(t))}`}encodeForFormUrlEncoded(e){return Object.keys(e).filter(t=>!!e[t]).map(t=>`${encodeURIComponent(t)}=${encodeURIComponent(this.encodeValue(e[t]))}`).join("&")}encodeValue(e){return typeof e=="number"||typeof e=="string"||typeof e=="boolean"?e:JSON.stringify(e)}},$i=class{sendEvent(e,t){return Ce(this,void 0,void 0,function*(){return Promise.resolve()})}},Ii=window.fetch,Ri=class{constructor(e){this.opts=e}sendEvent(e,t){return Ce(this,void 0,void 0,function*(){let{baseUrl:n,visitorIdProvider:r,preprocessRequest:a}=this.opts,i=this.shouldAppendVisitorId(e)?yield this.getVisitorIdParam():"",o={url:`${n}/analytics/${e}${i}`,credentials:"include",mode:"cors",headers:this.getHeaders(),method:"POST",body:JSON.stringify(t)},l=Object.assign(Object.assign({},o),a?yield a(o,"analyticsFetch"):{}),{url:s}=l,u=Pn(l,["url"]),f=yield Ii(s,u);if(f.ok){let c=yield f.json();return c.visitorId&&r.setCurrentVisitorId(c.visitorId),c}else{try{f.json()}catch{}throw console.error(`An error has occured when sending the "${e}" event.`,f,t),new Error(`An error has occurred when sending the "${e}" event. Check the console logs for more details.`)}})}shouldAppendVisitorId(e){return[Ze.click,Ze.custom,Ze.search,Ze.view].indexOf(e)!==-1}getVisitorIdParam(){return Ce(this,void 0,void 0,function*(){let{visitorIdProvider:e}=this.opts,t=yield e.getCurrentVisitorId();return t?`?visitor=${t}`:""})}getHeaders(){let{token:e}=this.opts;return Object.assign(Object.assign({},e?{Authorization:`Bearer ${e}`}:{}),{"Content-Type":"application/json"})}},Wr=class{constructor(e,t){hr()&&Y()?this.storage=new ba:hr()?this.storage=localStorage:(console.warn("BrowserRuntime detected no valid storage available.",this),this.storage=new bn),this.client=new Ri(e),this.beaconClient=new Ia(e),window.addEventListener("beforeunload",()=>{let n=t();for(let{eventType:r,payload:a}of n)this.beaconClient.sendEvent(r,a)})}},Ra=class{constructor(e,t){this.storage=t||new bn,this.client=new Ri(e)}},Do=class{constructor(){this.storage=new bn,this.client=new $i}},Kt="xx",Ai=e=>(e==null?void 0:e.startsWith(Kt))||!1,Ti=`
        We've detected you're using React Native but have not provided the corresponding runtime, 
        for an optimal experience please install @react-native-async-storage/async-storage and instantiate 
        your analytics client as follows:
        
        import {ReactNativeRuntime} from 'coveo.analytics/react-native';
        
        const analytics = new CoveoAnalytics({
            ...your options,
            runtimeEnvironment: new ReactNativeRuntime();
        })
    `;function qi(){return typeof navigator!="undefined"&&navigator.product=="ReactNative"}var No=["1",1,"yes",!0];function br(){return jn()&&[navigator.globalPrivacyControl,navigator.doNotTrack,navigator.msDoNotTrack,window.doNotTrack].some(e=>No.indexOf(e)!==-1)}var Jt="v15",Fi={default:"https://analytics.cloud.coveo.com/rest/ua",production:"https://analytics.cloud.coveo.com/rest/ua",hipaa:"https://analyticshipaa.cloud.coveo.com/rest/ua"},Wn=class{constructor(e){if(!e)throw new Error("You have to pass options to this constructor");this.options=Object.assign(Object.assign({},this.defaultOptions),e),this.visitorId="",this.bufferedRequests=[],this.beforeSendHooks=[gr,Wt].concat(this.options.beforeSendHooks),this.afterSendHooks=this.options.afterSendHooks,this.eventTypeMapping={};let t={baseUrl:this.baseUrl,token:this.options.token,visitorIdProvider:this,preprocessRequest:this.options.preprocessRequest};this.runtime=this.options.runtimeEnvironment||this.initRuntime(t),br()&&(this.clear(),this.runtime.storage=new bn)}get defaultOptions(){return{endpoint:Fi.default,token:"",version:Jt,beforeSendHooks:[],afterSendHooks:[]}}initRuntime(e){return Vr()&&nn()?new Wr(e,()=>{let t=[...this.bufferedRequests];return this.bufferedRequests=[],t}):(qi()&&console.warn(Ti),new Ra(e))}get storage(){return this.runtime.storage}determineVisitorId(){return Ce(this,void 0,void 0,function*(){try{return(yield this.storage.getItem("visitorId"))||qt()}catch(e){return console.log("Could not get visitor ID from the current runtime environment storage. Using a random ID instead.",e),qt()}})}getCurrentVisitorId(){return Ce(this,void 0,void 0,function*(){if(!this.visitorId){let e=yield this.determineVisitorId();yield this.setCurrentVisitorId(e)}return this.visitorId})}setCurrentVisitorId(e){return Ce(this,void 0,void 0,function*(){this.visitorId=e,yield this.storage.setItem("visitorId",e)})}getParameters(e,...t){return Ce(this,void 0,void 0,function*(){return yield this.resolveParameters(e,...t)})}getPayload(e,...t){return Ce(this,void 0,void 0,function*(){let n=yield this.resolveParameters(e,...t);return yield this.resolvePayloadForParameters(e,n)})}get currentVisitorId(){return typeof(this.visitorId||this.storage.getItem("visitorId"))!="string"&&this.setCurrentVisitorId(qt()),this.visitorId}set currentVisitorId(e){this.visitorId=e,this.storage.setItem("visitorId",e)}resolveParameters(e,...t){return Ce(this,void 0,void 0,function*(){let{variableLengthArgumentsNames:n=[],addVisitorIdParameter:r=!1,usesMeasurementProtocol:a=!1}=this.eventTypeMapping[e]||{};return yield[i=>n.length>0?this.parseVariableArgumentsPayload(n,i):i[0],i=>Ce(this,void 0,void 0,function*(){return Object.assign(Object.assign({},i),{visitorId:r?yield this.getCurrentVisitorId():""})}),i=>a?this.ensureAnonymousUserWhenUsingApiKey(i):i,i=>this.beforeSendHooks.reduce((o,l)=>Ce(this,void 0,void 0,function*(){let s=yield o;return yield l(e,s)}),i)].reduce((i,o)=>Ce(this,void 0,void 0,function*(){let l=yield i;return yield o(l)}),Promise.resolve(t))})}resolvePayloadForParameters(e,t){return Ce(this,void 0,void 0,function*(){let{usesMeasurementProtocol:n=!1}=this.eventTypeMapping[e]||{};return yield[r=>this.removeEmptyPayloadValues(r,e),r=>this.validateParams(r),r=>n?$a(r):r,r=>n?this.removeUnknownParameters(r):r,r=>n?this.processCustomParameters(r):r].reduce((r,a)=>Ce(this,void 0,void 0,function*(){let i=yield r;return yield a(i)}),Promise.resolve(t))})}sendEvent(e,...t){return Ce(this,void 0,void 0,function*(){let{newEventType:n=e}=this.eventTypeMapping[e]||{},r=yield this.resolveParameters(e,...t),a=yield this.resolvePayloadForParameters(e,r);return this.bufferedRequests.push({eventType:n,payload:a}),yield Promise.all(this.afterSendHooks.map(i=>i(e,r))),yield this.deferExecution(),yield this.sendFromBufferWithFetch()})}deferExecution(){return new Promise(e=>setTimeout(e,0))}sendFromBufferWithFetch(){return Ce(this,void 0,void 0,function*(){let e=this.bufferedRequests.shift();if(e){let{eventType:t,payload:n}=e;return this.runtime.client.sendEvent(t,n)}})}clear(){this.storage.removeItem("visitorId"),new Mn().clear()}sendSearchEvent(e){return Ce(this,void 0,void 0,function*(){return this.sendEvent(Ze.search,e)})}sendClickEvent(e){return Ce(this,void 0,void 0,function*(){return this.sendEvent(Ze.click,e)})}sendCustomEvent(e){return Ce(this,void 0,void 0,function*(){return this.sendEvent(Ze.custom,e)})}sendViewEvent(e){return Ce(this,void 0,void 0,function*(){return this.sendEvent(Ze.view,e)})}getVisit(){return Ce(this,void 0,void 0,function*(){let e=yield(yield fetch(`${this.baseUrl}/analytics/visit`)).json();return this.visitorId=e.visitorId,e})}getHealth(){return Ce(this,void 0,void 0,function*(){return yield(yield fetch(`${this.baseUrl}/analytics/monitoring/health`)).json()})}registerBeforeSendEventHook(e){this.beforeSendHooks.push(e)}registerAfterSendEventHook(e){this.afterSendHooks.push(e)}addEventTypeMapping(e,t){this.eventTypeMapping[e]=t}parseVariableArgumentsPayload(e,t){let n={};for(let r=0,a=t.length;r<a;r++){let i=t[r];if(typeof i=="string")n[e[r]]=i;else if(typeof i=="object")return Object.assign(Object.assign({},n),i)}return n}isKeyAllowedEmpty(e,t){return({[Ze.search]:["queryText"]}[e]||[]).indexOf(t)!==-1}removeEmptyPayloadValues(e,t){let n=r=>typeof r!="undefined"&&r!==null&&r!=="";return Object.keys(e).filter(r=>this.isKeyAllowedEmpty(t,r)||n(e[r])).reduce((r,a)=>Object.assign(Object.assign({},r),{[a]:e[a]}),{})}removeUnknownParameters(e){return Object.keys(e).filter(t=>{if(En(t))return!0;console.log(t,"is not processed by coveoua")}).reduce((t,n)=>Object.assign(Object.assign({},t),{[n]:e[n]}),{})}processCustomParameters(e){let{custom:t}=e,n=Pn(e,["custom"]),r=this.lowercaseKeys(t),a=Qn(n);return Object.assign(Object.assign({},r),a)}lowercaseKeys(e){return Object.keys(e||{}).reduce((t,n)=>Object.assign(Object.assign({},t),{[n.toLowerCase()]:e[n]}),{})}validateParams(e){let{anonymizeIp:t}=e,n=Pn(e,["anonymizeIp"]);return t!==void 0&&["0","false","undefined","null","{}","[]",""].indexOf(`${t}`.toLowerCase())==-1&&(n.anonymizeIp=1),n}ensureAnonymousUserWhenUsingApiKey(e){let{userId:t}=e,n=Pn(e,["userId"]);return Ai(this.options.token)&&!t?(n.userId="anonymous",n):e}get baseUrl(){let{version:e,endpoint:t}=this.options,n=t.indexOf(".cloud.coveo.com")!==-1;return`${t}${n?"":"/rest"}/${e}`}},j;(function(e){e.interfaceLoad="interfaceLoad",e.interfaceChange="interfaceChange",e.didyoumeanAutomatic="didyoumeanAutomatic",e.didyoumeanClick="didyoumeanClick",e.resultsSort="resultsSort",e.searchboxSubmit="searchboxSubmit",e.searchboxClear="searchboxClear",e.searchboxAsYouType="searchboxAsYouType",e.breadcrumbFacet="breadcrumbFacet",e.breadcrumbResetAll="breadcrumbResetAll",e.documentQuickview="documentQuickview",e.documentOpen="documentOpen",e.omniboxAnalytics="omniboxAnalytics",e.omniboxFromLink="omniboxFromLink",e.searchFromLink="searchFromLink",e.triggerNotify="notify",e.triggerExecute="execute",e.triggerQuery="query",e.triggerRedirect="redirect",e.pagerResize="pagerResize",e.pagerNumber="pagerNumber",e.pagerNext="pagerNext",e.pagerPrevious="pagerPrevious",e.pagerScrolling="pagerScrolling",e.staticFilterClearAll="staticFilterClearAll",e.staticFilterSelect="staticFilterSelect",e.staticFilterDeselect="staticFilterDeselect",e.facetClearAll="facetClearAll",e.facetSearch="facetSearch",e.facetSelect="facetSelect",e.facetSelectAll="facetSelectAll",e.facetDeselect="facetDeselect",e.facetExclude="facetExclude",e.facetUnexclude="facetUnexclude",e.facetUpdateSort="facetUpdateSort",e.facetShowMore="showMoreFacetResults",e.facetShowLess="showLessFacetResults",e.queryError="query",e.queryErrorBack="errorBack",e.queryErrorClear="errorClearQuery",e.queryErrorRetry="errorRetry",e.recommendation="recommendation",e.recommendationInterfaceLoad="recommendationInterfaceLoad",e.recommendationOpen="recommendationOpen",e.likeSmartSnippet="likeSmartSnippet",e.dislikeSmartSnippet="dislikeSmartSnippet",e.expandSmartSnippet="expandSmartSnippet",e.collapseSmartSnippet="collapseSmartSnippet",e.openSmartSnippetFeedbackModal="openSmartSnippetFeedbackModal",e.closeSmartSnippetFeedbackModal="closeSmartSnippetFeedbackModal",e.sendSmartSnippetReason="sendSmartSnippetReason",e.expandSmartSnippetSuggestion="expandSmartSnippetSuggestion",e.collapseSmartSnippetSuggestion="collapseSmartSnippetSuggestion",e.showMoreSmartSnippetSuggestion="showMoreSmartSnippetSuggestion",e.showLessSmartSnippetSuggestion="showLessSmartSnippetSuggestion",e.openSmartSnippetSource="openSmartSnippetSource",e.openSmartSnippetSuggestionSource="openSmartSnippetSuggestionSource",e.recentQueryClick="recentQueriesClick",e.clearRecentQueries="clearRecentQueries",e.recentResultClick="recentResultClick",e.clearRecentResults="clearRecentResults",e.noResultsBack="noResultsBack",e.showMoreFoldedResults="showMoreFoldedResults",e.showLessFoldedResults="showLessFoldedResults"})(j||(j={}));var ki={[j.triggerNotify]:"queryPipelineTriggers",[j.triggerExecute]:"queryPipelineTriggers",[j.triggerQuery]:"queryPipelineTriggers",[j.triggerRedirect]:"queryPipelineTriggers",[j.queryError]:"errors",[j.queryErrorBack]:"errors",[j.queryErrorClear]:"errors",[j.queryErrorRetry]:"errors",[j.pagerNext]:"getMoreResults",[j.pagerPrevious]:"getMoreResults",[j.pagerNumber]:"getMoreResults",[j.pagerResize]:"getMoreResults",[j.pagerScrolling]:"getMoreResults",[j.facetSearch]:"facet",[j.facetShowLess]:"facet",[j.facetShowMore]:"facet",[j.recommendation]:"recommendation",[j.likeSmartSnippet]:"smartSnippet",[j.dislikeSmartSnippet]:"smartSnippet",[j.expandSmartSnippet]:"smartSnippet",[j.collapseSmartSnippet]:"smartSnippet",[j.openSmartSnippetFeedbackModal]:"smartSnippet",[j.closeSmartSnippetFeedbackModal]:"smartSnippet",[j.sendSmartSnippetReason]:"smartSnippet",[j.expandSmartSnippetSuggestion]:"smartSnippetSuggestions",[j.collapseSmartSnippetSuggestion]:"smartSnippetSuggestions",[j.showMoreSmartSnippetSuggestion]:"smartSnippetSuggestions",[j.showLessSmartSnippetSuggestion]:"smartSnippetSuggestions",[j.clearRecentQueries]:"recentQueries",[j.recentResultClick]:"recentlyClickedDocuments",[j.clearRecentResults]:"recentlyClickedDocuments",[j.showLessFoldedResults]:"folding"},Li=class{constructor(){this.runtime=new Do,this.currentVisitorId=""}getPayload(){return Promise.resolve()}getParameters(){return Promise.resolve()}sendEvent(){return Promise.resolve()}sendSearchEvent(){return Promise.resolve()}sendClickEvent(){return Promise.resolve()}sendCustomEvent(){return Promise.resolve()}sendViewEvent(){return Promise.resolve()}getVisit(){return Promise.resolve({id:"",visitorId:""})}getHealth(){return Promise.resolve({status:""})}registerBeforeSendEventHook(){}registerAfterSendEventHook(){}addEventTypeMapping(){}};function se(e){let t="";return e.filter(n=>{let r=n!==t;return t=n,r})}function w(e){return e.map(t=>t.replace(/;/g,""))}function V(e){let t=256,n=e.join(";");return n.length<=t?n:V(e.slice(1))}var Z=e=>{let t=w(e),n=se(t);return V(n)};function Me(e){let t=typeof e.partialQueries=="string"?e.partialQueries:Z(e.partialQueries),n=typeof e.suggestions=="string"?e.suggestions:Z(e.suggestions);return Object.assign(Object.assign({},e),{partialQueries:t,suggestions:n})}var $t=class{constructor(e,t){this.opts=e,this.provider=t,this.coveoAnalyticsClient=e.enableAnalytics===!1?new Li:new Wn(e)}disable(){this.coveoAnalyticsClient instanceof Wn&&this.coveoAnalyticsClient.clear(),this.coveoAnalyticsClient=new Li}enable(){this.coveoAnalyticsClient=new Wn(this.opts)}logInterfaceLoad(){return this.logSearchEvent(j.interfaceLoad)}logRecommendationInterfaceLoad(){return this.logSearchEvent(j.recommendationInterfaceLoad)}logRecommendation(){return this.logCustomEvent(j.recommendation)}logRecommendationOpen(e,t){return this.logClickEvent(j.recommendationOpen,e,t)}logStaticFilterClearAll(e){return this.logSearchEvent(j.staticFilterClearAll,e)}logStaticFilterSelect(e){return this.logSearchEvent(j.staticFilterSelect,e)}logStaticFilterDeselect(e){return this.logSearchEvent(j.staticFilterDeselect,e)}logFetchMoreResults(){return this.logCustomEvent(j.pagerScrolling,{type:"getMoreResults"})}logInterfaceChange(e){return this.logSearchEvent(j.interfaceChange,e)}logDidYouMeanAutomatic(){return this.logSearchEvent(j.didyoumeanAutomatic)}logDidYouMeanClick(){return this.logSearchEvent(j.didyoumeanClick)}logResultsSort(e){return this.logSearchEvent(j.resultsSort,e)}logSearchboxSubmit(){return this.logSearchEvent(j.searchboxSubmit)}logSearchboxClear(){return this.logSearchEvent(j.searchboxClear)}logSearchboxAsYouType(){return this.logSearchEvent(j.searchboxAsYouType)}logBreadcrumbFacet(e){return this.logSearchEvent(j.breadcrumbFacet,e)}logBreadcrumbResetAll(){return this.logSearchEvent(j.breadcrumbResetAll)}logDocumentQuickview(e,t){return this.logClickEvent(j.documentQuickview,e,t)}logDocumentOpen(e,t){return this.logClickEvent(j.documentOpen,e,t)}logOmniboxAnalytics(e){return this.logSearchEvent(j.omniboxAnalytics,Me(e))}logOmniboxFromLink(e){return this.logSearchEvent(j.omniboxFromLink,Me(e))}logSearchFromLink(){return this.logSearchEvent(j.searchFromLink)}logTriggerNotify(e){return this.logCustomEvent(j.triggerNotify,e)}logTriggerExecute(e){return this.logCustomEvent(j.triggerExecute,e)}logTriggerQuery(){let e={query:this.provider.getSearchEventRequestPayload().queryText};return this.logCustomEvent(j.triggerQuery,e)}logTriggerRedirect(e){let t=Object.assign(Object.assign({},e),{query:this.provider.getSearchEventRequestPayload().queryText});return this.logCustomEvent(j.triggerRedirect,t)}logPagerResize(e){return this.logCustomEvent(j.pagerResize,e)}logPagerNumber(e){return this.logCustomEvent(j.pagerNumber,e)}logPagerNext(e){return this.logCustomEvent(j.pagerNext,e)}logPagerPrevious(e){return this.logCustomEvent(j.pagerPrevious,e)}logPagerScrolling(){return this.logCustomEvent(j.pagerScrolling)}logFacetClearAll(e){return this.logSearchEvent(j.facetClearAll,e)}logFacetSearch(e){return this.logSearchEvent(j.facetSearch,e)}logFacetSelect(e){return this.logSearchEvent(j.facetSelect,e)}logFacetDeselect(e){return this.logSearchEvent(j.facetDeselect,e)}logFacetExclude(e){return this.logSearchEvent(j.facetExclude,e)}logFacetUnexclude(e){return this.logSearchEvent(j.facetUnexclude,e)}logFacetSelectAll(e){return this.logSearchEvent(j.facetSelectAll,e)}logFacetUpdateSort(e){return this.logSearchEvent(j.facetUpdateSort,e)}logFacetShowMore(e){return this.logCustomEvent(j.facetShowMore,e)}logFacetShowLess(e){return this.logCustomEvent(j.facetShowLess,e)}logQueryError(e){return this.logCustomEvent(j.queryError,e)}logQueryErrorBack(){return Ce(this,void 0,void 0,function*(){return yield this.logCustomEvent(j.queryErrorBack),this.logSearchEvent(j.queryErrorBack)})}logQueryErrorRetry(){return Ce(this,void 0,void 0,function*(){return yield this.logCustomEvent(j.queryErrorRetry),this.logSearchEvent(j.queryErrorRetry)})}logQueryErrorClear(){return Ce(this,void 0,void 0,function*(){return yield this.logCustomEvent(j.queryErrorClear),this.logSearchEvent(j.queryErrorClear)})}logLikeSmartSnippet(){return this.logCustomEvent(j.likeSmartSnippet)}logDislikeSmartSnippet(){return this.logCustomEvent(j.dislikeSmartSnippet)}logExpandSmartSnippet(){return this.logCustomEvent(j.expandSmartSnippet)}logCollapseSmartSnippet(){return this.logCustomEvent(j.collapseSmartSnippet)}logOpenSmartSnippetFeedbackModal(){return this.logCustomEvent(j.openSmartSnippetFeedbackModal)}logCloseSmartSnippetFeedbackModal(){return this.logCustomEvent(j.closeSmartSnippetFeedbackModal)}logSmartSnippetFeedbackReason(e,t){return this.logCustomEvent(j.sendSmartSnippetReason,{reason:e,details:t})}logExpandSmartSnippetSuggestion(e){return this.logCustomEvent(j.expandSmartSnippetSuggestion,"documentId"in e?e:{documentId:e})}logCollapseSmartSnippetSuggestion(e){return this.logCustomEvent(j.collapseSmartSnippetSuggestion,"documentId"in e?e:{documentId:e})}logShowMoreSmartSnippetSuggestion(e){return this.logCustomEvent(j.showMoreSmartSnippetSuggestion,e)}logShowLessSmartSnippetSuggestion(e){return this.logCustomEvent(j.showLessSmartSnippetSuggestion,e)}logOpenSmartSnippetSource(e,t){return this.logClickEvent(j.openSmartSnippetSource,e,t)}logOpenSmartSnippetSuggestionSource(e,t){return this.logClickEvent(j.openSmartSnippetSuggestionSource,e,{contentIDKey:t.documentId.contentIdKey,contentIDValue:t.documentId.contentIdValue},t)}logRecentQueryClick(){return this.logSearchEvent(j.recentQueryClick)}logClearRecentQueries(){return this.logCustomEvent(j.clearRecentQueries)}logRecentResultClick(e,t){return this.logCustomEvent(j.recentResultClick,{info:e,identifier:t})}logClearRecentResults(){return this.logCustomEvent(j.clearRecentResults)}logNoResultsBack(){return this.logSearchEvent(j.noResultsBack)}logShowMoreFoldedResults(e,t){return this.logClickEvent(j.showMoreFoldedResults,e,t)}logShowLessFoldedResults(){return this.logCustomEvent(j.showLessFoldedResults)}logCustomEvent(e,t){return Ce(this,void 0,void 0,function*(){let n=Object.assign(Object.assign({},this.provider.getBaseMetadata()),t),r=Object.assign(Object.assign({},yield this.getBaseCustomEventRequest(n)),{eventType:ki[e],eventValue:e});return this.coveoAnalyticsClient.sendCustomEvent(r)})}logCustomEventWithType(e,t,n){return Ce(this,void 0,void 0,function*(){let r=Object.assign(Object.assign({},this.provider.getBaseMetadata()),n),a=Object.assign(Object.assign({},yield this.getBaseCustomEventRequest(r)),{eventType:t,eventValue:e});return this.coveoAnalyticsClient.sendCustomEvent(a)})}logSearchEvent(e,t){return Ce(this,void 0,void 0,function*(){return this.coveoAnalyticsClient.sendSearchEvent(yield this.getBaseSearchEventRequest(e,t))})}logClickEvent(e,t,n,r){return Ce(this,void 0,void 0,function*(){let a=Object.assign(Object.assign(Object.assign({},t),yield this.getBaseEventRequest(Object.assign(Object.assign({},n),r))),{searchQueryUid:this.provider.getSearchUID(),queryPipeline:this.provider.getPipeline(),actionCause:e});return this.coveoAnalyticsClient.sendClickEvent(a)})}getBaseSearchEventRequest(e,t){return Ce(this,void 0,void 0,function*(){return Object.assign(Object.assign(Object.assign({},yield this.getBaseEventRequest(t)),this.provider.getSearchEventRequestPayload()),{searchQueryUid:this.provider.getSearchUID(),queryPipeline:this.provider.getPipeline(),actionCause:e})})}getBaseCustomEventRequest(e){return Ce(this,void 0,void 0,function*(){return Object.assign(Object.assign({},yield this.getBaseEventRequest(e)),{lastSearchQueryUid:this.provider.getSearchUID()})})}getBaseEventRequest(e){return Ce(this,void 0,void 0,function*(){let t=Object.assign(Object.assign({},this.provider.getBaseMetadata()),e);return Object.assign(Object.assign({},this.getOrigins()),{customData:t,language:this.provider.getLanguage(),facetState:this.provider.getFacetState?this.provider.getFacetState():[],anonymous:this.provider.getIsAnonymous(),clientId:yield this.getClientId()})})}getOrigins(){var e,t;return{originContext:(t=(e=this.provider).getOriginContext)===null||t===void 0?void 0:t.call(e),originLevel1:this.provider.getOriginLevel1(),originLevel2:this.provider.getOriginLevel2(),originLevel3:this.provider.getOriginLevel3()}}getClientId(){return this.coveoAnalyticsClient instanceof Wn?this.coveoAnalyticsClient.getCurrentVisitorId():void 0}},gt={pageview:"pageview",event:"event"},dt=Object.assign({},gt);Object.keys(dt).map(e=>dt[e]);var Sr;(function(e){e.click="click",e.flowStart="flowStart"})(Sr||(Sr={}));var mt;(function(e){e.enterInterface="ticket_create_start",e.fieldUpdate="ticket_field_update",e.fieldSuggestionClick="ticket_classification_click",e.suggestionClick="suggestion_click",e.suggestionRate="suggestion_rate",e.nextCaseStep="ticket_next_stage",e.caseCancelled="ticket_cancel",e.caseSolved="ticket_cancel",e.caseCreated="ticket_create"})(mt||(mt={}));var Aa;(function(e){e.quit="Quit",e.solved="Solved"})(Aa||(Aa={}));var jt=()=>({q:"",enableQuerySyntax:!1});function Vo(){return{answerSnippet:"",documentId:{contentIdKey:"",contentIdValue:""},question:"",relatedQuestions:[],score:0}}function Yn(){return{response:{results:[],searchUid:"",totalCountFiltered:0,facets:[],queryCorrections:[],triggers:[],questionAnswer:Vo(),pipeline:""},duration:0,queryExecuted:"",error:null,automaticallyCorrected:!1,isLoading:!1,results:[],searchResponseId:"",requestId:""}}var Kn=()=>"default",zo="1.71.0",Gp=e=>{let t=e.configuration.search.locale.split("-")[0];return!t||t.length!==2?"en":t},Uo=class{constructor(e){this.stateNeededByBaseAnalyticsProvider=e}getLanguage(){return Gp(this.stateNeededByBaseAnalyticsProvider)}getBaseMetadata(){let{context:e}=this.stateNeededByBaseAnalyticsProvider,t=(e==null?void 0:e.contextValues)||{},n={};for(let[r,a]of Object.entries(t)){let i=`context_${r}`;n[i]=a}return n.coveoHeadlessVersion=zo,n}getOriginContext(){return this.stateNeededByBaseAnalyticsProvider.configuration.analytics.originContext}getOriginLevel1(){return this.stateNeededByBaseAnalyticsProvider.searchHub||Kn()}getOriginLevel2(){return this.stateNeededByBaseAnalyticsProvider.configuration.analytics.originLevel2}getOriginLevel3(){return this.stateNeededByBaseAnalyticsProvider.configuration.analytics.originLevel3}getIsAnonymous(){return this.stateNeededByBaseAnalyticsProvider.configuration.analytics.anonymous}};function Ta(){return{}}function qa(){return{}}function Fa(){return{}}function ka(){return{}}var La=(e,t)=>{if("productListing"in e&&e.productListing)return e.productListing.facets.results.find(n=>n.facetId===t);if("search"in e&&e.search)return e.search.response.facets.find(n=>n.facetId===t)},Zp=(e,t)=>e.facetSet[t];function Xp(e,t){return!!t&&t.facetId in e.facetSet}var lu=(e,t)=>{let n=La(e,t);if(Xp(e,n))return n},eh=(e,t)=>{let n=lu(e,t);return n?n.values.filter(r=>r.state==="selected"):[]},_a=e=>"productListing"in e?e.productListing.isLoading:e.search.isLoading;function wr(e){if(!e)return{parents:[],values:[]};let t=[],n=e;for(;n.length&&n[0].children.length;)t=[...t,...n],n=n[0].children;let r=n.find(a=>a.state==="selected");return r&&(t=[...t,r],n=[]),{parents:t,values:n}}function th(e,t){return!!t&&t.facetId in e.categoryFacetSet}var uu=(e,t)=>{let n=La(e,t);if(th(e,n))return n},nh=(e,t)=>{var n;return(n=e.categoryFacetSet[t])==null?void 0:n.request},Bo=(e,t)=>{let n=uu(e,t);return wr(n==null?void 0:n.values).parents},Ho=()=>({url:"",clientId:"",additionalFields:[],advancedParameters:{debug:!1},products:[],facets:{results:[]},error:null,isLoading:!1,responseId:""}),Yr=(e,t)=>{let n=du(t,e),r=n?n.field:"",a=`${r}_${e}`;return{facetId:e,facetField:r,facetTitle:a}};function Qo(e,t){let{facetId:n,facetValue:r}=e,a=Yr(n,t),i=fu(t,n);return{...a,facetValue:i==="hierarchical"?cu(t,n):r}}function $n(e){return{facetSet:e.facetSet||ka(),categoryFacetSet:e.categoryFacetSet||Ta(),dateFacetSet:e.dateFacetSet||qa(),numericFacetSet:e.numericFacetSet||Fa(),..."search"in e&&{search:e.search?e.search:Yn()},..."productListing"in e&&{productListing:e.productListing?e.productListing:Ho()}}}var rh=e=>{let t=[];return ah(e).forEach((n,r)=>{let a=fu(e,n.facetId),i=uh(n,r+1);if(a==="hierarchical"){if(!Bo(e,n.facetId).length)return;t.push({...i,...lh(e,n.facetId),facetType:a,state:"selected"});return}n.values.forEach((o,l)=>{if(o.state==="idle")return;let s=ih(o,l+1,a),u=a==="specific"?sh(o):oh(o);t.push({...i,...s,...u})})}),t},ah=e=>"productListing"in e&&e.productListing?e.productListing.facets.results:"search"in e&&e.search?e.search.response.facets:[],ih=(e,t,n)=>({state:e.state,valuePosition:t,facetType:n}),oh=e=>({displayValue:`${e.start}..${e.end}`,value:`${e.start}..${e.end}`,start:e.start,end:e.end,endInclusive:e.endInclusive}),sh=e=>({displayValue:e.value,value:e.value}),cu=(e,t)=>Bo(e,t).map(n=>n.value).join(";"),lh=(e,t)=>{let n=1,r=cu(e,t);return{value:r,valuePosition:n,displayValue:r}},uh=(e,t)=>({title:`${e.field}_${e.facetId}`,field:e.field,id:e.facetId,facetPosition:t}),du=(e,t)=>{var n;return e.facetSet[t]||((n=e.categoryFacetSet[t])==null?void 0:n.request)||e.dateFacetSet[t]||e.numericFacetSet[t]},fu=(e,t)=>{let n=du(e,t);return n?n.type:"specific"},pu=class extends Uo{constructor(e){super(e);this.state=e}getFacetState(){return rh($n(this.state))}getPipeline(){var e;return this.state.pipeline||((e=this.state.search)==null?void 0:e.response.pipeline)||"default"}getSearchEventRequestPayload(){return{queryText:this.queryText,responseTime:this.responseTime,results:this.mapResultsToAnalyticsDocument(),numberOfResults:this.numberOfResults}}getSearchUID(){var e,t;return((e=this.state.search)==null?void 0:e.searchResponseId)||((t=this.state.search)==null?void 0:t.response.searchUid)||Yn().response.searchUid}mapResultsToAnalyticsDocument(){var e;return(e=this.state.search)==null?void 0:e.response.results.map(t=>({documentUri:t.uri,documentUriHash:t.raw.urihash}))}get queryText(){var e;return((e=this.state.query)==null?void 0:e.q)||jt().q}get responseTime(){var e;return((e=this.state.search)==null?void 0:e.duration)||Yn().duration}get numberOfResults(){var e;return((e=this.state.search)==null?void 0:e.response.results.length)||Yn().response.results.length}},ch=({logger:e,state:t,analyticsClientMiddleware:n=(i,o)=>o,preprocessRequest:r,provider:a=new pu(t)})=>{let i=t.configuration.accessToken,o=t.configuration.analytics.apiBaseUrl,l=t.configuration.analytics.runtimeEnvironment,s=t.configuration.analytics.enabled,u=new $t({token:i,endpoint:o,runtimeEnvironment:l,preprocessRequest:r,beforeSendHooks:[n,(f,c)=>(e.info({...c,type:f,endpoint:o,token:i},"Analytics request"),c)]},a);return s||u.disable(),u},un=()=>new Wn({}).getCurrentVisitorId(),Kr=new Sa.HistoryStore,hu=()=>{let e=Kr.getHistory().reverse().find(t=>t.name==="PageView"&&t.value);return e?e.value:""};_n.default.extend(Dr.default),_n.default.extend(Nr.default);var gu="/rest/search/v2",Wo="/rest/ua",Cr=()=>({organizationId:"",accessToken:"",platformUrl:Ln(),search:{apiBaseUrl:`${Ln()}${gu}`,locale:"en-US",timezone:_n.default.tz.guess()},analytics:{enabled:!0,apiBaseUrl:`${Pt()}${Wo}`,originContext:"Search",originLevel2:"default",originLevel3:"default",anonymous:!1,deviceId:"",userDisplayName:"",documentLocation:""}}),_i=async e=>({analytics:{clientId:await un(),clientTimestamp:new Date().toISOString(),documentReferrer:e.originLevel3,originContext:e.originContext,...e.userDisplayName&&{userDisplayName:e.userDisplayName},...e.documentLocation&&{documentLocation:e.documentLocation},...e.deviceId&&{deviceId:e.deviceId},...hu()&&{pageId:hu()}}}),mu=()=>({redirectTo:null});function Yo(){return{}}function In(){return{firstResult:0,defaultNumberOfResults:10,numberOfResults:10,totalCountFiltered:0}}function dh(e,t){let n=`
  The following properties are invalid:

    ${e.join(`
	`)}
  
  ${t}
  `;return new Ko(n)}var Ko=class extends Error{constructor(e){super(e);this.name="SchemaValidationError"}},at=class{constructor(e){this.definition=e}validate(e={},t=""){let n={...this.default,...e},r=[];for(let a in this.definition){let i=this.definition[a].validate(n[a]);i&&r.push(`${a}: ${i}`)}if(r.length)throw dh(r,t);return n}get default(){let e={};for(let t in this.definition){let n=this.definition[t].default;n!==void 0&&(e[t]=n)}return e}},bt=class{constructor(e={}){this.baseConfig=e}validate(e){return this.baseConfig.required&&De(e)?"value is required.":null}get default(){return this.baseConfig.default instanceof Function?this.baseConfig.default():this.baseConfig.default}get required(){return this.baseConfig.required===!0}};function St(e){return e===void 0}function fh(e){return e===null}function De(e){return St(e)||fh(e)}var we=class{constructor(e={}){this.config=e,this.value=new bt(e)}validate(e){return this.value.validate(e)||(ph(e)?e<this.config.min?`minimum value of ${this.config.min} not respected.`:e>this.config.max?`maximum value of ${this.config.max} not respected.`:null:"value is not a number.")}get default(){return this.value.default}get required(){return this.value.required}};function ph(e){return St(e)||vu(e)}function vu(e){return typeof e=="number"&&!isNaN(e)}var Ne=class{constructor(e={}){this.value=new bt(e)}validate(e){return this.value.validate(e)||(hh(e)?null:"value is not a boolean.")}get default(){return this.value.default}get required(){return this.value.required}};function hh(e){return St(e)||yu(e)}function yu(e){return typeof e=="boolean"}var gh=/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})).?)(?::\d{2,5})?(?:[/?#]\S*)?$/i,ne=class{constructor(e={}){this.config={emptyAllowed:!0,url:!1,...e},this.value=new bt(this.config)}validate(e){let{emptyAllowed:t,url:n,regex:r,constrainTo:a}=this.config;return this.value.validate(e)||(St(e)?null:Pi(e)?!t&&!e.length?"value is an empty string.":n&&!gh.test(e)?"value is not a valid URL.":r&&!r.test(e)?`value did not match provided regex ${r}`:a&&!a.includes(e)?`value should be one of: ${a.join(", ")}.`:null:"value is not a string.")}get default(){return this.value.default}get required(){return this.value.required}};function Pi(e){return Object.prototype.toString.call(e)==="[object String]"}var $e=class{constructor(e={}){this.config={options:{required:!1},values:{},...e}}validate(e){if(St(e))return this.config.options.required?"value is required and is currently undefined":null;if(!bu(e))return"value is not an object";for(let[n,r]of Object.entries(this.config.values))if(r.required&&De(e[n]))return`value does not contain ${n}`;let t="";for(let[n,r]of Object.entries(this.config.values)){let a=e[n],i=r.validate(a);i!==null&&(t+=" "+i)}return t===""?null:t}get default(){}get required(){return!!this.config.options.required}};function bu(e){return e!==void 0&&typeof e=="object"}var tt=class{constructor(e={}){this.config=e,this.value=new bt(this.config)}validate(e){if(!De(e)&&!Array.isArray(e))return"value is not an array";let t=this.value.validate(e);if(t!==null)return t;if(De(e))return null;if(this.config.max!==void 0&&e.length>this.config.max)return`value contains more than ${this.config.max}`;if(this.config.min!==void 0&&e.length<this.config.min)return`value contains less than ${this.config.min}`;if(this.config.each!==void 0){let n="";return e.forEach(r=>{this.config.each.required&&De(r)&&(n=`value is null or undefined: ${e.join(",")}`);let a=this.validatePrimitiveValue(r,this.config.each);a!==null&&(n+=" "+a)}),n===""?null:n}return null}validatePrimitiveValue(e,t){return yu(e)||Pi(e)||vu(e)||bu(e)?t.validate(e):"value is not a primitive value"}get default(){}get required(){return this.value.required}};function Jo(e){return Array.isArray(e)}var ji=class{constructor(e){this.config=e,this.value=new bt(e)}validate(e){let t=this.value.validate(e);return t!==null?t:St(e)||Object.values(this.config.enum).find(n=>n===e)?null:"value is not in enum."}get default(){return this.value.default}get required(){return this.value.required}},Jr=(e=>(e.Ascending="ascending",e.Descending="descending",e))(Jr||{}),Or=(e=>(e.Relevancy="relevancy",e.QRE="qre",e.Date="date",e.Field="field",e.NoSort="nosort",e))(Or||{}),Pa=e=>{if(Jo(e))return e.map(t=>Pa(t)).join(",");switch(e.by){case"relevancy":case"qre":case"nosort":return e.by;case"date":return`date ${e.order}`;case"field":return`@${e.field} ${e.order}`;default:return""}},Su=()=>({by:"relevancy"}),mh=e=>({by:"date",order:e}),vh=(e,t)=>({by:"field",order:t,field:e}),yh=()=>({by:"qre"}),bh=()=>({by:"nosort"}),Sh=new $e({values:{by:new ji({enum:Or,required:!0}),order:new ji({enum:Jr}),field:new ne}});function Gr(){return Pa(Su())}function Zr(){return{contextValues:{}}}var Go=()=>({correctedQuery:"",wordCorrections:[],originalQuery:""});function wu(){return{enableDidYouMean:!1,wasCorrectedTo:"",wasAutomaticallyCorrected:!1,queryCorrection:Go(),originalQuery:""}}var Cu=["author","language","urihash","objecttype","collection","source","permanentid"],wh=[...Cu,"date","filetype","parents"],Ch=[...wh,"ec_price","ec_name","ec_description","ec_brand","ec_category","ec_item_group_id","ec_shortdesc","ec_thumbnails","ec_images","ec_promo_price","ec_in_stock","ec_rating"],Zo=()=>({fieldsToInclude:Cu,fetchAllFields:!1,fieldsDescription:[]}),Xr=()=>"",Xo=e=>({past:[],present:e,future:[]}),Oh=e=>{let{past:t,present:n,future:r}=e;if(!n||t.length===0)return e;let a=t[t.length-1];return{past:t.slice(0,t.length-1),present:a,future:[n,...r]}},xh=e=>{let{past:t,present:n,future:r}=e;if(!n||r.length===0)return e;let a=r[0],i=r.slice(1);return{past:[...t,n],present:a,future:i}},Eh=e=>{let{action:t,state:n,reducer:r}=e,{past:a,present:i}=n,o=r(i,t);return i?i===o?n:{past:[...a,i],present:o,future:[]}:Xo(o)},$h=e=>{let{actionTypes:t,reducer:n}=e,r=Xo();return(a=r,i)=>{switch(i.type){case t.undo:return Oh(a);case t.redo:return xh(a);case t.snapshot:return Eh({state:a,reducer:n,action:i});default:return a}}};function es(){return{}}function ts(){return{}}var Jn=()=>({cq:"",cqWasSet:!1,aq:"",aqWasSet:!1,lq:"",lqWasSet:!1,dq:"",dqWasSet:!1,defaultFilters:{cq:"",aq:"",lq:"",dq:""}});function ja(){return{enabled:!0}}function Mi(){return{freezeFacetOrder:!1,facets:{}}}var xr=()=>!1;function Ma(){return{contextValues:{}}}function Di(){return[]}function ns(){return{}}function Ou(e){return e?e.expiresAt&&Date.now()>=e.expiresAt:!1}function rs(){return{}}function as(){return{}}function xu(){return ea({})}function ea(e){var t,n;return{context:e.context||Zr(),dictionaryFieldContext:e.dictionaryFieldContext||Ma(),facetSet:e.facetSet||ka(),numericFacetSet:e.numericFacetSet||Fa(),dateFacetSet:e.dateFacetSet||qa(),categoryFacetSet:e.categoryFacetSet||Ta(),pagination:e.pagination||In(),query:e.query||jt(),tabSet:e.tabSet||as(),advancedSearchQueries:e.advancedSearchQueries||Jn(),staticFilterSet:e.staticFilterSet||rs(),querySet:e.querySet||Yo(),instantResults:e.instantResults||ns(),sortCriteria:e.sortCriteria||Gr(),pipeline:e.pipeline||Xr(),searchHub:e.searchHub||Kn(),facetOptions:e.facetOptions||Mi(),facetOrder:(t=e.facetOrder)!=null?t:Di(),debug:(n=e.debug)!=null?n:xr()}}function is(){return{uniqueId:"",content:"",isLoading:!1}}var os=()=>({enabled:!1,fields:{collection:"foldingcollection",parent:"foldingparent",child:"foldingchild"},filterFieldRange:2,collections:{}}),Eu=()=>({redirectTo:"",query:"",execute:{functionName:"",params:[]},executions:[],notification:"",notifications:[]}),ss=()=>({liked:!1,disliked:!1,expanded:!1,feedbackModalOpen:!1,relatedQuestions:[]});function $u(){return{}}function Iu(){return{results:[],maxLength:10}}function Ru(){return{queries:[],maxLength:10}}function Au(){return{length:void 0}}function Tu(e={}){return{configuration:Cr(),advancedSearchQueries:Jn(),staticFilterSet:rs(),facetSet:ka(),dateFacetSet:qa(),numericFacetSet:Fa(),categoryFacetSet:Ta(),facetSearchSet:es(),categoryFacetSearchSet:ts(),facetOptions:Mi(),pagination:In(),query:jt(),querySet:Yo(),instantResults:ns(),tabSet:as(),querySuggest:{},redirection:mu(),search:Yn(),sortCriteria:Gr(),context:Zr(),dictionaryFieldContext:Ma(),didYouMean:wu(),fields:Zo(),history:Xo(xu()),pipeline:Xr(),facetOrder:Di(),searchHub:Kn(),debug:xr(),resultPreview:is(),version:"unit-testing-version",folding:os(),triggers:Eu(),questionAnswering:ss(),standaloneSearchBoxSet:$u(),recentResults:Iu(),recentQueries:Ru(),excerptLength:Au(),...e}}var Ih=ae(gn()),ls={};he(ls,{MiddlewareArray:()=>Yu,TaskAbortError:()=>Qa,addListener:()=>bc,clearAllListeners:()=>Sc,configureStore:()=>Zu,createAction:()=>T,createAsyncThunk:()=>Be,createDraftSafeSelector:()=>Rn,createEntityAdapter:()=>gg,createImmutableStateInvariantMiddleware:()=>eg,createListenerMiddleware:()=>Fg,createNextState:()=>aa,createReducer:()=>ye,createSelector:()=>zu,createSerializableStateInvariantMiddleware:()=>tg,createSlice:()=>ug,current:()=>Ss,findNonSerializableValue:()=>Ju,freeze:()=>Ni,getDefaultMiddleware:()=>Es,getType:()=>og,isAllOf:()=>Rs,isAnyOf:()=>Ba,isAsyncThunkAction:()=>uc,isDraft:()=>Bt,isFulfilled:()=>lc,isImmutableDefault:()=>Xh,isPending:()=>oc,isPlain:()=>Ku,isPlainObject:()=>Qi,isRejected:()=>Yi,isRejectedWithValue:()=>sc,miniSerializeError:()=>rc,nanoid:()=>$s,original:()=>Rh,removeListener:()=>wc,unwrapResult:()=>ac});function Ut(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map(function(a){return"'"+a+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Bt(e){return!!e&&!!e[Je]}function Gn(e){return!!e&&(function(t){if(!t||typeof t!="object")return!1;var n=Object.getPrototypeOf(t);if(n===null)return!0;var r=Object.hasOwnProperty.call(n,"constructor")&&n.constructor;return r===Object||typeof r=="function"&&Function.toString.call(r)===Ph}(e)||Array.isArray(e)||!!e[Nu]||!!e.constructor[Nu]||us(e)||cs(e))}function Rh(e){return Bt(e)||Ut(23,e),e[Je].t}function Er(e,t,n){n===void 0&&(n=!1),ta(e)===0?(n?Object.keys:ra)(e).forEach(function(r){n&&typeof r=="symbol"||t(r,e[r],e)}):e.forEach(function(r,a){return t(a,r,e)})}function ta(e){var t=e[Je];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:us(e)?2:cs(e)?3:0}function na(e,t){return ta(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Ah(e,t){return ta(e)===2?e.get(t):e[t]}function qu(e,t,n){var r=ta(e);r===2?e.set(t,n):r===3?(e.delete(t),e.add(n)):e[t]=n}function Fu(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}function us(e){return Lh&&e instanceof Map}function cs(e){return _h&&e instanceof Set}function $r(e){return e.o||e.t}function ds(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=Vu(e);delete t[Je];for(var n=ra(t),r=0;r<n.length;r++){var a=n[r],i=t[a];i.writable===!1&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(t[a]={configurable:!0,writable:!0,enumerable:i.enumerable,value:e[a]})}return Object.create(Object.getPrototypeOf(e),t)}function Ni(e,t){return t===void 0&&(t=!1),fs(e)||Bt(e)||!Gn(e)||(ta(e)>1&&(e.set=e.add=e.clear=e.delete=Th),Object.freeze(e),t&&Er(e,function(n,r){return Ni(r,!0)},!0)),e}function Th(){Ut(2)}function fs(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function cn(e){var t=Cs[e];return t||Ut(18,e),t}function qh(e,t){Cs[e]||(Cs[e]=t)}function ps(){return Da}function hs(e,t){t&&(cn("Patches"),e.u=[],e.s=[],e.v=t)}function Vi(e){gs(e),e.p.forEach(Fh),e.p=null}function gs(e){e===Da&&(Da=e.l)}function ku(e){return Da={p:[],l:Da,h:e,m:!0,_:0}}function Fh(e){var t=e[Je];t.i===0||t.i===1?t.j():t.O=!0}function ms(e,t){t._=t.p.length;var n=t.p[0],r=e!==void 0&&e!==n;return t.h.g||cn("ES5").S(t,e,r),r?(n[Je].P&&(Vi(t),Ut(4)),Gn(e)&&(e=zi(t,e),t.l||Ui(t,e)),t.u&&cn("Patches").M(n[Je].t,e,t.u,t.s)):e=zi(t,n,[]),Vi(t),t.u&&t.v(t.u,t.s),e!==Du?e:void 0}function zi(e,t,n){if(fs(t))return t;var r=t[Je];if(!r)return Er(t,function(i,o){return Lu(e,r,t,i,o,n)},!0),t;if(r.A!==e)return t;if(!r.P)return Ui(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var a=r.i===4||r.i===5?r.o=ds(r.k):r.o;Er(r.i===3?new Set(a):a,function(i,o){return Lu(e,r,a,i,o,n)}),Ui(e,a,!1),n&&e.u&&cn("Patches").R(r,n,e.u,e.s)}return r.o}function Lu(e,t,n,r,a,i){if(Bt(a)){var o=zi(e,a,i&&t&&t.i!==3&&!na(t.D,r)?i.concat(r):void 0);if(qu(n,r,o),!Bt(o))return;e.m=!1}if(Gn(a)&&!fs(a)){if(!e.h.F&&e._<1)return;zi(e,a),t&&t.A.l||Ui(e,a)}}function Ui(e,t,n){n===void 0&&(n=!1),e.h.F&&e.m&&Ni(t,n)}function vs(e,t){var n=e[Je];return(n?$r(n):e)[t]}function _u(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function Zn(e){e.P||(e.P=!0,e.l&&Zn(e.l))}function ys(e){e.o||(e.o=ds(e.t))}function bs(e,t,n){var r=us(t)?cn("MapSet").N(t,n):cs(t)?cn("MapSet").T(t,n):e.g?function(a,i){var o=Array.isArray(a),l={i:o?1:0,A:i?i.A:ps(),P:!1,I:!1,D:{},l:i,t:a,k:null,o:null,j:null,C:!1},s=l,u=Na;o&&(s=[l],u=Va);var f=Proxy.revocable(s,u),c=f.revoke,g=f.proxy;return l.k=g,l.j=c,g}(t,n):cn("ES5").J(t,n);return(n?n.A:ps()).p.push(r),r}function Ss(e){return Bt(e)||Ut(22,e),function t(n){if(!Gn(n))return n;var r,a=n[Je],i=ta(n);if(a){if(!a.P&&(a.i<4||!cn("ES5").K(a)))return a.t;a.I=!0,r=Pu(n,i),a.I=!1}else r=Pu(n,i);return Er(r,function(o,l){a&&Ah(a.t,o)===l||qu(r,o,t(l))}),i===3?new Set(r):r}(e)}function Pu(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return ds(e)}function kh(){function e(i,o){var l=a[i];return l?l.enumerable=o:a[i]=l={configurable:!0,enumerable:o,get:function(){var s=this[Je];return Na.get(s,i)},set:function(s){var u=this[Je];Na.set(u,i,s)}},l}function t(i){for(var o=i.length-1;o>=0;o--){var l=i[o][Je];if(!l.P)switch(l.i){case 5:r(l)&&Zn(l);break;case 4:n(l)&&Zn(l)}}}function n(i){for(var o=i.t,l=i.k,s=ra(l),u=s.length-1;u>=0;u--){var f=s[u];if(f!==Je){var c=o[f];if(c===void 0&&!na(o,f))return!0;var g=l[f],m=g&&g[Je];if(m?m.t!==c:!Fu(g,c))return!0}}var v=!!o[Je];return s.length!==ra(o).length+(v?0:1)}function r(i){var o=i.k;if(o.length!==i.t.length)return!0;var l=Object.getOwnPropertyDescriptor(o,o.length-1);if(l&&!l.get)return!0;for(var s=0;s<o.length;s++)if(!o.hasOwnProperty(s))return!0;return!1}var a={};qh("ES5",{J:function(i,o){var l=Array.isArray(i),s=function(f,c){if(f){for(var g=Array(c.length),m=0;m<c.length;m++)Object.defineProperty(g,""+m,e(m,!0));return g}var v=Vu(c);delete v[Je];for(var p=ra(v),y=0;y<p.length;y++){var b=p[y];v[b]=e(b,f||!!v[b].enumerable)}return Object.create(Object.getPrototypeOf(c),v)}(l,i),u={i:l?5:4,A:o?o.A:ps(),P:!1,I:!1,D:{},l:o,t:i,k:s,o:null,O:!1,C:!1};return Object.defineProperty(s,Je,{value:u,writable:!0}),s},S:function(i,o,l){l?Bt(o)&&o[Je].A===i&&t(i.p):(i.u&&function s(u){if(u&&typeof u=="object"){var f=u[Je];if(f){var c=f.t,g=f.k,m=f.D,v=f.i;if(v===4)Er(g,function(E){E!==Je&&(c[E]!==void 0||na(c,E)?m[E]||s(g[E]):(m[E]=!0,Zn(f)))}),Er(c,function(E){g[E]!==void 0||na(g,E)||(m[E]=!1,Zn(f))});else if(v===5){if(r(f)&&(Zn(f),m.length=!0),g.length<c.length)for(var p=g.length;p<c.length;p++)m[p]=!1;else for(var y=c.length;y<g.length;y++)m[y]=!0;for(var b=Math.min(g.length,c.length),C=0;C<b;C++)g.hasOwnProperty(C)||(m[C]=!0),m[C]===void 0&&s(g[C])}}}}(i.p[0]),t(i.p))},K:function(i){return i.i===4?n(i):r(i)}})}var ju,Da,ws=typeof Symbol!="undefined"&&typeof Symbol("x")=="symbol",Lh=typeof Map!="undefined",_h=typeof Set!="undefined",Mu=typeof Proxy!="undefined"&&Proxy.revocable!==void 0&&typeof Reflect!="undefined",Du=ws?Symbol.for("immer-nothing"):((ju={})["immer-nothing"]=!0,ju),Nu=ws?Symbol.for("immer-draftable"):"__$immer_draftable",Je=ws?Symbol.for("immer-state"):"__$immer_state",Ph=""+Object.prototype.constructor,ra=typeof Reflect!="undefined"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,Vu=Object.getOwnPropertyDescriptors||function(e){var t={};return ra(e).forEach(function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)}),t},Cs={},Na={get:function(e,t){if(t===Je)return e;var n=$r(e);if(!na(n,t))return function(a,i,o){var l,s=_u(i,o);return s?"value"in s?s.value:(l=s.get)===null||l===void 0?void 0:l.call(a.k):void 0}(e,n,t);var r=n[t];return e.I||!Gn(r)?r:r===vs(e.t,t)?(ys(e),e.o[t]=bs(e.A.h,r,e)):r},has:function(e,t){return t in $r(e)},ownKeys:function(e){return Reflect.ownKeys($r(e))},set:function(e,t,n){var r=_u($r(e),t);if(r==null?void 0:r.set)return r.set.call(e.k,n),!0;if(!e.P){var a=vs($r(e),t),i=a==null?void 0:a[Je];if(i&&i.t===n)return e.o[t]=n,e.D[t]=!1,!0;if(Fu(n,a)&&(n!==void 0||na(e.t,t)))return!0;ys(e),Zn(e)}return e.o[t]===n&&typeof n!="number"&&(n!==void 0||t in e.o)||(e.o[t]=n,e.D[t]=!0,!0)},deleteProperty:function(e,t){return vs(e.t,t)!==void 0||t in e.t?(e.D[t]=!1,ys(e),Zn(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=$r(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.i!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty:function(){Ut(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){Ut(12)}},Va={};Er(Na,function(e,t){Va[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),Va.deleteProperty=function(e,t){return Va.set.call(this,e,t,void 0)},Va.set=function(e,t,n){return Na.set.call(this,e[0],t,n,e[0])};var jh=function(){function e(n){var r=this;this.g=Mu,this.F=!0,this.produce=function(a,i,o){if(typeof a=="function"&&typeof i!="function"){var l=i;i=a;var s=r;return function(p){var y=this;p===void 0&&(p=l);for(var b=arguments.length,C=Array(b>1?b-1:0),E=1;E<b;E++)C[E-1]=arguments[E];return s.produce(p,function(_){var B;return(B=i).call.apply(B,[y,_].concat(C))})}}var u;if(typeof i!="function"&&Ut(6),o!==void 0&&typeof o!="function"&&Ut(7),Gn(a)){var f=ku(r),c=bs(r,a,void 0),g=!0;try{u=i(c),g=!1}finally{g?Vi(f):gs(f)}return typeof Promise!="undefined"&&u instanceof Promise?u.then(function(p){return hs(f,o),ms(p,f)},function(p){throw Vi(f),p}):(hs(f,o),ms(u,f))}if(!a||typeof a!="object"){if((u=i(a))===void 0&&(u=a),u===Du&&(u=void 0),r.F&&Ni(u,!0),o){var m=[],v=[];cn("Patches").M(a,u,m,v),o(m,v)}return u}Ut(21,a)},this.produceWithPatches=function(a,i){if(typeof a=="function")return function(u){for(var f=arguments.length,c=Array(f>1?f-1:0),g=1;g<f;g++)c[g-1]=arguments[g];return r.produceWithPatches(u,function(m){return a.apply(void 0,[m].concat(c))})};var o,l,s=r.produce(a,i,function(u,f){o=u,l=f});return typeof Promise!="undefined"&&s instanceof Promise?s.then(function(u){return[u,o,l]}):[s,o,l]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var t=e.prototype;return t.createDraft=function(n){Gn(n)||Ut(8),Bt(n)&&(n=Ss(n));var r=ku(this),a=bs(this,n,void 0);return a[Je].C=!0,gs(r),a},t.finishDraft=function(n,r){var a=n&&n[Je],i=a.A;return hs(i,r),ms(void 0,i)},t.setAutoFreeze=function(n){this.F=n},t.setUseProxies=function(n){n&&!Mu&&Ut(20),this.g=n},t.applyPatches=function(n,r){var a;for(a=r.length-1;a>=0;a--){var i=r[a];if(i.path.length===0&&i.op==="replace"){n=i.value;break}}a>-1&&(r=r.slice(a+1));var o=cn("Patches").$;return Bt(n)?o(n,r):this.produce(n,function(l){return o(l,r)})},e}(),Mt=new jh,Mh=Mt.produce;Mt.produceWithPatches.bind(Mt),Mt.setAutoFreeze.bind(Mt),Mt.setUseProxies.bind(Mt),Mt.applyPatches.bind(Mt),Mt.createDraft.bind(Mt),Mt.finishDraft.bind(Mt);var aa=Mh;ge(ls,ae(hn()));var Bi="NOT_FOUND";function Dh(e){var t;return{get:function(n){return t&&e(t.key,n)?t.value:Bi},put:function(n,r){t={key:n,value:r}},getEntries:function(){return t?[t]:[]},clear:function(){t=void 0}}}function Nh(e,t){var n=[];function r(l){var s=n.findIndex(function(f){return t(l,f.key)});if(s>-1){var u=n[s];return s>0&&(n.splice(s,1),n.unshift(u)),u.value}return Bi}function a(l,s){r(l)===Bi&&(n.unshift({key:l,value:s}),n.length>e&&n.pop())}function i(){return n}function o(){n=[]}return{get:r,put:a,getEntries:i,clear:o}}var Vh=function(e,t){return e===t};function zh(e){return function(t,n){if(t===null||n===null||t.length!==n.length)return!1;for(var r=t.length,a=0;a<r;a++)if(!e(t[a],n[a]))return!1;return!0}}function Uh(e,t){var n=typeof t=="object"?t:{equalityCheck:t},r=n.equalityCheck,a=r===void 0?Vh:r,i=n.maxSize,o=i===void 0?1:i,l=n.resultEqualityCheck,s=zh(a),u=o===1?Dh(s):Nh(o,s);function f(){var c=u.get(arguments);if(c===Bi){if(c=e.apply(null,arguments),l){var g=u.getEntries(),m=g.find(function(v){return l(v.value,c)});m&&(c=m.value)}u.put(arguments,c)}return c}return f.clearCache=function(){return u.clear()},f}function Bh(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every(function(r){return typeof r=="function"})){var n=t.map(function(r){return typeof r=="function"?"function "+(r.name||"unnamed")+"()":typeof r}).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+n+"]")}return t}function Hh(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var a=function(){for(var i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];var s=0,u,f={memoizeOptions:void 0},c=o.pop();if(typeof c=="object"&&(f=c,c=o.pop()),typeof c!="function")throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof c+"]");var g=f,m=g.memoizeOptions,v=m===void 0?n:m,p=Array.isArray(v)?v:[v],y=Bh(o),b=e.apply(void 0,[function(){return s++,c.apply(null,arguments)}].concat(p)),C=e(function(){for(var E=[],_=y.length,B=0;B<_;B++)E.push(y[B].apply(null,arguments));return u=b.apply(null,E),u});return Object.assign(C,{resultFunc:c,memoizedResultFunc:b,dependencies:y,lastResult:function(){return u},recomputations:function(){return s},resetRecomputations:function(){return s=0}}),C};return a}var zu=Hh(Uh),Hi=ae(hn()),Uu=ae(hn());function Bu(e){var t=function(n){var r=n.dispatch,a=n.getState;return function(i){return function(o){return typeof o=="function"?o(r,a,e):i(o)}}};return t}var Hu=Bu();Hu.withExtraArgument=Bu;var Os=Hu,Qh=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(r[i]=a[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),za=function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,a,i,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(u){return function(f){return s([u,f])}}function s(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,a&&(i=u[0]&2?a.return:u[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,u[1])).done)return i;switch(a=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,a=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){n.label=u[1];break}if(u[0]===6&&n.label<i[1]){n.label=i[1],i=u;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(u);break}i[2]&&n.ops.pop(),n.trys.pop();continue}u=t.call(e,n)}catch(f){u=[6,f],a=0}finally{r=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},ia=function(e,t){for(var n=0,r=t.length,a=e.length;n<r;n++,a++)e[a]=t[n];return e},Wh=Object.defineProperty,Yh=Object.defineProperties,Kh=Object.getOwnPropertyDescriptors,Qu=Object.getOwnPropertySymbols,Jh=Object.prototype.hasOwnProperty,Gh=Object.prototype.propertyIsEnumerable,Wu=function(e,t,n){return t in e?Wh(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},_t=function(e,t){for(var n in t||(t={}))Jh.call(t,n)&&Wu(e,n,t[n]);if(Qu)for(var r=0,a=Qu(t);r<a.length;r++){var n=a[r];Gh.call(t,n)&&Wu(e,n,t[n])}return e},xs=function(e,t){return Yh(e,Kh(t))},Ua=function(e,t,n){return new Promise(function(r,a){var i=function(s){try{l(n.next(s))}catch(u){a(u)}},o=function(s){try{l(n.throw(s))}catch(u){a(u)}},l=function(s){return s.done?r(s.value):Promise.resolve(s.value).then(i,o)};l((n=n.apply(e,t)).next())})},Rn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=zu.apply(void 0,e),r=function(a){for(var i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];return n.apply(void 0,ia([Bt(a)?Ss(a):a],i))};return r},Zh=typeof window!="undefined"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Uu.compose:Uu.compose.apply(null,arguments)};function Qi(e){if(typeof e!="object"||e===null)return!1;var t=Object.getPrototypeOf(e);if(t===null)return!0;for(var n=t;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return t===n}var Yu=function(e){Qh(t,e);function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var a=e.apply(this,n)||this;return Object.setPrototypeOf(a,t.prototype),a}return Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e.prototype.concat.apply(this,n)},t.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(t.bind.apply(t,ia([void 0],n[0].concat(this)))):new(t.bind.apply(t,ia([void 0],n.concat(this))))},t}(Array);function Xh(e){return typeof e!="object"||e===null||typeof e=="undefined"||Object.isFrozen(e)}function eg(e){return function(){return function(t){return function(n){return t(n)}}}}function Ku(e){var t=typeof e;return t==="undefined"||e===null||t==="string"||t==="boolean"||t==="number"||Array.isArray(e)||Qi(e)}function Ju(e,t,n,r,a){t===void 0&&(t=""),n===void 0&&(n=Ku),a===void 0&&(a=[]);var i;if(!n(e))return{keyPath:t||"<root>",value:e};if(typeof e!="object"||e===null)return!1;for(var o=r!=null?r(e):Object.entries(e),l=a.length>0,s=0,u=o;s<u.length;s++){var f=u[s],c=f[0],g=f[1],m=t?t+"."+c:c;if(!(l&&a.indexOf(m)>=0)){if(!n(g))return{keyPath:m,value:g};if(typeof g=="object"&&(i=Ju(g,m,n,r,a),i))return i}}return!1}function tg(e){return function(){return function(t){return function(n){return t(n)}}}}function ng(e){return typeof e=="boolean"}function rg(){return function(e){return Es(e)}}function Es(e){e===void 0&&(e={});var t=e.thunk,n=t===void 0?!0:t,r=new Yu;return n&&(ng(n)?r.push(Os):r.push(Os.withExtraArgument(n.extraArgument))),r}var Gu=!0;function Zu(e){var t=rg(),n=e||{},r=n.reducer,a=r===void 0?void 0:r,i=n.middleware,o=i===void 0?t():i,l=n.devTools,s=l===void 0?!0:l,u=n.preloadedState,f=u===void 0?void 0:u,c=n.enhancers,g=c===void 0?void 0:c,m;if(typeof a=="function")m=a;else if(Qi(a))m=(0,Hi.combineReducers)(a);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var v=o;if(typeof v=="function"&&(v=v(t),!Gu))throw new Error("when using a middleware builder function, an array of middleware must be returned");var p=Hi.applyMiddleware.apply(void 0,v),y=Hi.compose;s&&(y=Zh(_t({trace:!Gu},typeof s=="object"&&s)));var b=[p];Array.isArray(g)?b=ia([p],g):typeof g=="function"&&(b=g(b));var C=y.apply(void 0,b);return(0,Hi.createStore)(m,f,C)}function T(e,t){function n(){for(var r=[],a=0;a<arguments.length;a++)r[a]=arguments[a];if(t){var i=t.apply(void 0,r);if(!i)throw new Error("prepareAction did not return an object");return _t(_t({type:e,payload:i.payload},"meta"in i&&{meta:i.meta}),"error"in i&&{error:i.error})}return{type:e,payload:r[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(r){return r.type===e},n}function ag(e){return Qi(e)&&typeof e.type=="string"&&Object.keys(e).every(ig)}function ig(e){return["type","payload","error","meta"].indexOf(e)>-1}function og(e){return""+e}function Xu(e){var t={},n=[],r,a={addCase:function(i,o){var l=typeof i=="string"?i:i.type;if(l in t)throw new Error("addCase cannot be called with two reducers for the same action type");return t[l]=o,a},addMatcher:function(i,o){return n.push({matcher:i,reducer:o}),a},addDefaultCase:function(i){return r=i,a}};return e(a),[t,n,r]}function sg(e){return typeof e=="function"}function ye(e,t,n,r){n===void 0&&(n=[]);var a=typeof t=="function"?Xu(t):[t,n,r],i=a[0],o=a[1],l=a[2],s;if(sg(e))s=function(){return aa(e(),function(){})};else{var u=aa(e,function(){});s=function(){return u}}function f(c,g){c===void 0&&(c=s());var m=ia([i[g.type]],o.filter(function(v){var p=v.matcher;return p(g)}).map(function(v){var p=v.reducer;return p}));return m.filter(function(v){return!!v}).length===0&&(m=[l]),m.reduce(function(v,p){if(p)if(Bt(v)){var y=v,b=p(y,g);return typeof b=="undefined"?v:b}else{if(Gn(v))return aa(v,function(E){return p(E,g)});var b=p(v,g);if(typeof b=="undefined"){if(v===null)return v;throw Error("A case reducer on a non-draftable value must not return undefined")}return b}return v},c)}return f.getInitialState=s,f}function lg(e,t){return e+"/"+t}function ug(e){var t=e.name;if(!t)throw new Error("`name` is a required option for createSlice");var n=typeof e.initialState=="function"?e.initialState:aa(e.initialState,function(){}),r=e.reducers||{},a=Object.keys(r),i={},o={},l={};a.forEach(function(f){var c=r[f],g=lg(t,f),m,v;"reducer"in c?(m=c.reducer,v=c.prepare):m=c,i[f]=m,o[g]=m,l[f]=v?T(g,v):T(g)});function s(){var f=typeof e.extraReducers=="function"?Xu(e.extraReducers):[e.extraReducers],c=f[0],g=c===void 0?{}:c,m=f[1],v=m===void 0?[]:m,p=f[2],y=p===void 0?void 0:p,b=_t(_t({},g),o);return ye(n,b,v,y)}var u;return{name:t,reducer:function(f,c){return u||(u=s()),u(f,c)},actions:l,caseReducers:i,getInitialState:function(){return u||(u=s()),u.getInitialState()}}}function cg(){return{ids:[],entities:{}}}function dg(){function e(t){return t===void 0&&(t={}),Object.assign(cg(),t)}return{getInitialState:e}}function fg(){function e(t){var n=function(u){return u.ids},r=function(u){return u.entities},a=Rn(n,r,function(u,f){return u.map(function(c){return f[c]})}),i=function(u,f){return f},o=function(u,f){return u[f]},l=Rn(n,function(u){return u.length});if(!t)return{selectIds:n,selectEntities:r,selectAll:a,selectTotal:l,selectById:Rn(r,i,o)};var s=Rn(t,r);return{selectIds:Rn(t,n),selectEntities:s,selectAll:Rn(t,a),selectTotal:Rn(t,l),selectById:Rn(s,i,o)}}return{getSelectors:e}}function pg(e){var t=st(function(n,r){return e(r)});return function(n){return t(n,void 0)}}function st(e){return function(t,n){function r(i){return ag(i)}var a=function(i){r(n)?e(n.payload,i):e(n,i)};return Bt(t)?(a(t),t):aa(t,a)}}function oa(e,t){var n=t(e);return n}function Ir(e){return Array.isArray(e)||(e=Object.values(e)),e}function ec(e,t,n){e=Ir(e);for(var r=[],a=[],i=0,o=e;i<o.length;i++){var l=o[i],s=oa(l,t);s in n.entities?a.push({id:s,changes:l}):r.push(l)}return[r,a]}function tc(e){function t(v,p){var y=oa(v,e);y in p.entities||(p.ids.push(y),p.entities[y]=v)}function n(v,p){v=Ir(v);for(var y=0,b=v;y<b.length;y++){var C=b[y];t(C,p)}}function r(v,p){var y=oa(v,e);y in p.entities||p.ids.push(y),p.entities[y]=v}function a(v,p){v=Ir(v);for(var y=0,b=v;y<b.length;y++){var C=b[y];r(C,p)}}function i(v,p){v=Ir(v),p.ids=[],p.entities={},n(v,p)}function o(v,p){return l([v],p)}function l(v,p){var y=!1;v.forEach(function(b){b in p.entities&&(delete p.entities[b],y=!0)}),y&&(p.ids=p.ids.filter(function(b){return b in p.entities}))}function s(v){Object.assign(v,{ids:[],entities:{}})}function u(v,p,y){var b=y.entities[p.id],C=Object.assign({},b,p.changes),E=oa(C,e),_=E!==p.id;return _&&(v[p.id]=E,delete y.entities[p.id]),y.entities[E]=C,_}function f(v,p){return c([v],p)}function c(v,p){var y={},b={};v.forEach(function(_){_.id in p.entities&&(b[_.id]={id:_.id,changes:_t(_t({},b[_.id]?b[_.id].changes:null),_.changes)})}),v=Object.values(b);var C=v.length>0;if(C){var E=v.filter(function(_){return u(y,_,p)}).length>0;E&&(p.ids=p.ids.map(function(_){return y[_]||_}))}}function g(v,p){return m([v],p)}function m(v,p){var y=ec(v,e,p),b=y[0],C=y[1];c(C,p),n(b,p)}return{removeAll:pg(s),addOne:st(t),addMany:st(n),setOne:st(r),setMany:st(a),setAll:st(i),updateOne:st(f),updateMany:st(c),upsertOne:st(g),upsertMany:st(m),removeOne:st(o),removeMany:st(l)}}function hg(e,t){var n=tc(e),r=n.removeOne,a=n.removeMany,i=n.removeAll;function o(C,E){return l([C],E)}function l(C,E){C=Ir(C);var _=C.filter(function(B){return!(oa(B,e)in E.entities)});_.length!==0&&b(_,E)}function s(C,E){return u([C],E)}function u(C,E){C=Ir(C),C.length!==0&&b(C,E)}function f(C,E){C=Ir(C),E.entities={},E.ids=[],l(C,E)}function c(C,E){return m([C],E)}function g(C,E,_){if(!(E.id in _.entities))return!1;var B=_.entities[E.id],ue=Object.assign({},B,E.changes),fe=oa(ue,e);return delete _.entities[E.id],C.push(ue),fe!==E.id}function m(C,E){var _=[];C.forEach(function(B){return g(_,B,E)}),_.length!==0&&b(_,E)}function v(C,E){return p([C],E)}function p(C,E){var _=ec(C,e,E),B=_[0],ue=_[1];m(ue,E),l(B,E)}function y(C,E){if(C.length!==E.length)return!1;for(var _=0;_<C.length&&_<E.length;_++)if(C[_]!==E[_])return!1;return!0}function b(C,E){C.forEach(function(fe){E.entities[e(fe)]=fe});var _=Object.values(E.entities);_.sort(t);var B=_.map(e),ue=E.ids;y(ue,B)||(E.ids=B)}return{removeOne:r,removeMany:a,removeAll:i,addOne:st(o),updateOne:st(c),upsertOne:st(v),setOne:st(s),setMany:st(u),setAll:st(f),addMany:st(l),updateMany:st(m),upsertMany:st(p)}}function gg(e){e===void 0&&(e={});var t=_t({sortComparer:!1,selectId:function(l){return l.id}},e),n=t.selectId,r=t.sortComparer,a=dg(),i=fg(),o=r?hg(n,r):tc(n);return _t(_t(_t({selectId:n,sortComparer:r},a),i),o)}var mg="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",$s=function(e){e===void 0&&(e=21);for(var t="",n=e;n--;)t+=mg[Math.random()*64|0];return t},vg=["name","message","stack","code"],Is=function(){function e(t,n){this.payload=t,this.meta=n}return e}(),nc=function(){function e(t,n){this.payload=t,this.meta=n}return e}(),rc=function(e){if(typeof e=="object"&&e!==null){for(var t={},n=0,r=vg;n<r.length;n++){var a=r[n];typeof e[a]=="string"&&(t[a]=e[a])}return t}return{message:String(e)}};function Be(e,t,n){var r=T(e+"/fulfilled",function(s,u,f,c){return{payload:s,meta:xs(_t({},c||{}),{arg:f,requestId:u,requestStatus:"fulfilled"})}}),a=T(e+"/pending",function(s,u,f){return{payload:void 0,meta:xs(_t({},f||{}),{arg:u,requestId:s,requestStatus:"pending"})}}),i=T(e+"/rejected",function(s,u,f,c,g){return{payload:c,error:(n&&n.serializeError||rc)(s||"Rejected"),meta:xs(_t({},g||{}),{arg:f,requestId:u,rejectedWithValue:!!c,requestStatus:"rejected",aborted:(s==null?void 0:s.name)==="AbortError",condition:(s==null?void 0:s.name)==="ConditionError"})}}),o=typeof AbortController!="undefined"?AbortController:function(){function s(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){}}}return s.prototype.abort=function(){},s}();function l(s){return function(u,f,c){var g=(n==null?void 0:n.idGenerator)?n.idGenerator(s):$s(),m=new o,v,p=new Promise(function(E,_){return m.signal.addEventListener("abort",function(){return _({name:"AbortError",message:v||"Aborted"})})}),y=!1;function b(E){y&&(v=E,m.abort())}var C=function(){return Ua(this,null,function(){var E,_,B,ue,fe,R;return za(this,function(N){switch(N.label){case 0:return N.trys.push([0,4,,5]),ue=(E=n==null?void 0:n.condition)==null?void 0:E.call(n,s,{getState:f,extra:c}),yg(ue)?[4,ue]:[3,2];case 1:ue=N.sent(),N.label=2;case 2:if(ue===!1)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return y=!0,u(a(g,s,(_=n==null?void 0:n.getPendingMeta)==null?void 0:_.call(n,{requestId:g,arg:s},{getState:f,extra:c}))),[4,Promise.race([p,Promise.resolve(t(s,{dispatch:u,getState:f,extra:c,requestId:g,signal:m.signal,rejectWithValue:function($,U){return new Is($,U)},fulfillWithValue:function($,U){return new nc($,U)}})).then(function($){if($ instanceof Is)throw $;return $ instanceof nc?r($.payload,g,s,$.meta):r($,g,s)})])];case 3:return B=N.sent(),[3,5];case 4:return fe=N.sent(),B=fe instanceof Is?i(null,g,s,fe.payload,fe.meta):i(fe,g,s),[3,5];case 5:return R=n&&!n.dispatchConditionRejection&&i.match(B)&&B.meta.condition,R||u(B),[2,B]}})})}();return Object.assign(C,{abort:b,requestId:g,arg:s,unwrap:function(){return C.then(ac)}})}}return Object.assign(l,{pending:a,rejected:i,fulfilled:r,typePrefix:e})}function ac(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}function yg(e){return e!==null&&typeof e=="object"&&typeof e.then=="function"}var bg=function(e){return e&&typeof e.match=="function"},ic=function(e,t){return bg(e)?e.match(t):e(t)};function Ba(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(n){return e.some(function(r){return ic(r,n)})}}function Rs(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(n){return e.every(function(r){return ic(r,n)})}}function Wi(e,t){if(!e||!e.meta)return!1;var n=typeof e.meta.requestId=="string",r=t.indexOf(e.meta.requestStatus)>-1;return n&&r}function Ha(e){return typeof e[0]=="function"&&"pending"in e[0]&&"fulfilled"in e[0]&&"rejected"in e[0]}function oc(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.length===0?function(n){return Wi(n,["pending"])}:Ha(e)?function(n){var r=e.map(function(i){return i.pending}),a=Ba.apply(void 0,r);return a(n)}:oc()(e[0])}function Yi(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.length===0?function(n){return Wi(n,["rejected"])}:Ha(e)?function(n){var r=e.map(function(i){return i.rejected}),a=Ba.apply(void 0,r);return a(n)}:Yi()(e[0])}function sc(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=function(r){return r&&r.meta&&r.meta.rejectedWithValue};return e.length===0?function(r){var a=Rs(Yi.apply(void 0,e),n);return a(r)}:Ha(e)?function(r){var a=Rs(Yi.apply(void 0,e),n);return a(r)}:sc()(e[0])}function lc(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.length===0?function(n){return Wi(n,["fulfilled"])}:Ha(e)?function(n){var r=e.map(function(i){return i.fulfilled}),a=Ba.apply(void 0,r);return a(n)}:lc()(e[0])}function uc(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.length===0?function(n){return Wi(n,["pending","fulfilled","rejected"])}:Ha(e)?function(n){for(var r=[],a=0,i=e;a<i.length;a++){var o=i[a];r.push(o.pending,o.rejected,o.fulfilled)}var l=Ba.apply(void 0,r);return l(n)}:uc()(e[0])}var As=function(e,t){if(typeof e!="function")throw new TypeError(t+" is not a function")},Sg=function(){},Ts=function(e,t){return t===void 0&&(t=Sg),e.catch(t),e},cc=function(e,t){e.addEventListener("abort",t,{once:!0})},sa=function(e,t){var n=e.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},wg="task",dc="listener",fc="completed",qs="cancelled",Cg="task-"+qs,Og="task-"+fc,pc=dc+"-"+qs,xg=dc+"-"+fc,Qa=function(){function e(t){this.code=t,this.name="TaskAbortError",this.message=wg+" "+qs+" (reason: "+t+")"}return e}(),la=function(e){if(e.aborted)throw new Qa(e.reason)},hc=function(e){return Ts(new Promise(function(t,n){var r=function(){return n(new Qa(e.reason))};e.aborted?r():cc(e,r)}))},Eg=function(e,t){return Ua(void 0,null,function(){var n,r;return za(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,4,5]),[4,Promise.resolve()];case 1:return a.sent(),[4,e()];case 2:return n=a.sent(),[2,{status:"ok",value:n}];case 3:return r=a.sent(),[2,{status:r instanceof Qa?"cancelled":"rejected",error:r}];case 4:return t==null||t(),[7];case 5:return[2]}})})},Ki=function(e){return function(t){return Ts(Promise.race([hc(e),t]).then(function(n){return la(e),n}))}},gc=function(e){var t=Ki(e);return function(n){return t(new Promise(function(r){return setTimeout(r,n)}))}},$g=Object.assign,mc={},Wa="listenerMiddleware",Ig=function(e){var t=function(n){return cc(e,function(){return sa(n,e.reason)})};return function(n){As(n,"taskExecutor");var r=new AbortController;t(r);var a=Eg(function(){return Ua(void 0,null,function(){var i;return za(this,function(o){switch(o.label){case 0:return la(e),la(r.signal),[4,n({pause:Ki(r.signal),delay:gc(r.signal),signal:r.signal})];case 1:return i=o.sent(),la(r.signal),[2,i]}})})},function(){return sa(r,Og)});return{result:Ki(e)(a),cancel:function(){sa(r,Cg)}}}},Rg=function(e,t){var n=function(r,a){return Ua(void 0,null,function(){var i,o,l,s;return za(this,function(u){switch(u.label){case 0:la(t),i=function(){},o=new Promise(function(f){i=e({predicate:r,effect:function(c,g){g.unsubscribe(),f([c,g.getState(),g.getOriginalState()])}})}),l=[hc(t),o],a!=null&&l.push(new Promise(function(f){return setTimeout(f,a,null)})),u.label=1;case 1:return u.trys.push([1,,3,4]),[4,Promise.race(l)];case 2:return s=u.sent(),la(t),[2,s];case 3:return i(),[7];case 4:return[2]}})})};return function(r,a){return Ts(n(r,a))}},vc=function(e){var t=e.type,n=e.actionCreator,r=e.matcher,a=e.predicate,i=e.effect;if(t)a=T(t).match;else if(n)t=n.type,a=n.match;else if(r)a=r;else if(!a)throw new Error("Creating or removing a listener requires one of the known fields for matching an action");return As(i,"options.listener"),{predicate:a,type:t,effect:i}},Ag=function(e){var t=vc(e),n=t.type,r=t.predicate,a=t.effect,i=$s(),o={id:i,effect:a,type:n,predicate:r,pending:new Set,unsubscribe:function(){throw new Error("Unsubscribe not initialized")}};return o},Tg=function(e){return function(){e.forEach(Fs),e.clear()}},yc=function(e,t,n){try{e(t,n)}catch(r){setTimeout(function(){throw r},0)}},bc=T(Wa+"/add"),Sc=T(Wa+"/removeAll"),wc=T(Wa+"/remove"),qg=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.error.apply(console,ia([Wa+"/error"],e))},Fs=function(e){e.pending.forEach(function(t){sa(t,pc)})};function Fg(e){var t=this;e===void 0&&(e={});var n=new Map,r=e.extra,a=e.onError,i=a===void 0?qg:a;As(i,"onError");var o=function(m){return m.unsubscribe=function(){return n.delete(m.id)},n.set(m.id,m),function(v){m.unsubscribe(),(v==null?void 0:v.cancelActive)&&Fs(m)}},l=function(m){for(var v=0,p=n.values();v<p.length;v++){var y=p[v];if(m(y))return y}},s=function(m){var v=l(function(p){return p.effect===m.effect});return v||(v=Ag(m)),o(v)},u=function(m){var v=vc(m),p=v.type,y=v.effect,b=v.predicate,C=l(function(E){var _=typeof p=="string"?E.type===p:E.predicate===b;return _&&E.effect===y});return C&&(C.unsubscribe(),m.cancelActive&&Fs(C)),!!C},f=function(m,v,p,y){return Ua(t,null,function(){var b,C,E;return za(this,function(_){switch(_.label){case 0:b=new AbortController,C=Rg(s,b.signal),_.label=1;case 1:return _.trys.push([1,3,4,5]),m.pending.add(b),[4,Promise.resolve(m.effect(v,$g({},p,{getOriginalState:y,condition:function(B,ue){return C(B,ue).then(Boolean)},take:C,delay:gc(b.signal),pause:Ki(b.signal),extra:r,signal:b.signal,fork:Ig(b.signal),unsubscribe:m.unsubscribe,subscribe:function(){n.set(m.id,m)},cancelActiveListeners:function(){m.pending.forEach(function(B,ue,fe){B!==b&&(sa(B,pc),fe.delete(B))})}})))];case 2:return _.sent(),[3,5];case 3:return E=_.sent(),E instanceof Qa||yc(i,E,{raisedBy:"effect"}),[3,5];case 4:return sa(b,xg),m.pending.delete(b),[7];case 5:return[2]}})})},c=Tg(n),g=function(m){return function(v){return function(p){if(bc.match(p))return s(p.payload);if(Sc.match(p)){c();return}if(wc.match(p))return u(p.payload);var y=m.getState(),b=function(){if(y===mc)throw new Error(Wa+": getOriginalState can only be called synchronously");return y},C;try{if(C=v(p),n.size>0)for(var E=m.getState(),_=Array.from(n.values()),B=0,ue=_;B<ue.length;B++){var fe=ue[B],R=!1;try{R=fe.predicate(p,E,y)}catch(N){R=!1,yc(i,N,{raisedBy:"predicate"})}!R||f(fe,p,m,b)}}finally{y=mc}return C}}};return{middleware:g,startListening:s,stopListening:u,clearListeners:c}}kh();function kg(e){return{statusCode:e.statusCode,type:e.name,message:e.message}}function ks(e){if(e instanceof zt)return{error:kg(e)};throw e}var Xn=(e,t,n,r)=>({accessToken:e.accessToken,method:t,contentType:n,url:`${e.url}${r}?${Lg(e)}`}),Lg=e=>`organizationId=${e.organizationId}`;function _g(e){return((e.headers.get("content-type")||"").split(";").find(t=>t.indexOf("charset=")!==-1)||"").split("=")[1]||"UTF-8"}var Pg=TextDecoder;function Rr(e){let{url:t,accessToken:n,organizationId:r,...a}=e;return a}var Ar=e=>{let{response:t}=e;return t.body?jg(e):Mg(t)},jg=e=>Ng(e)?Vg(e):Dg(e)?e.body:{message:"unknown",statusCode:0,type:"unknown"},Mg=e=>{let t=JSON.parse(JSON.stringify(e,Object.getOwnPropertyNames(e)));return{...t,message:`Client side error: ${t.message||""}`,statusCode:400,type:"ClientError"}};function Dg(e){return e.body.statusCode!==void 0}function Ng(e){return e.body.exception!==void 0}var Vg=e=>({message:e.body.exception.code,statusCode:e.response.status,type:e.body.exception.code}),zg=async(e,t)=>{let n=await xt.call({...Xn(e,"POST","application/x-www-form-urlencoded","/html"),requestParams:Rr(e),...t});if(n instanceof Error)throw n;let r=_g(n),a=await n.arrayBuffer(),i=new Pg(r).decode(a);return Ug(i)?{success:i}:{error:Ar({response:n,body:i})}};function Ug(e){return typeof e=="string"}var Cc=class{constructor(e){this.options=e,this.searchAbortController=null}async plan(e){let t=await xt.call({...Xn(e,"POST","application/json","/plan"),requestParams:Rr(e),...this.options});if(t instanceof Error)return ks(t);let n=await t.json();return Hg(n)?{success:n}:{error:Ar({response:t,body:n})}}async querySuggest(e){let t=await xt.call({...Xn(e,"POST","application/json","/querySuggest"),requestParams:Rr(e),...this.options});if(t instanceof Error)return ks(t);let n=await t.json(),r={response:t,body:n};return Bg(n)?{success:(await this.options.postprocessQuerySuggestResponseMiddleware(r)).body}:{error:Ar(r)}}async search(e){var t;this.searchAbortController&&(this.options.logger.warn("Cancelling current pending search query"),this.searchAbortController.abort()),this.searchAbortController=this.getAbortControllerInstanceIfAvailable();let n=await xt.call({...Xn(e,"POST","application/json",""),requestParams:Rr(e),...this.options,signal:(t=this.searchAbortController)==null?void 0:t.signal});if(n instanceof Error)return ks(n);this.searchAbortController=null;let r=await n.json(),a={response:n,body:r};return Ls(r)?(a.body=Wg(r),{success:(await this.options.postprocessSearchResponseMiddleware(a)).body}):{error:Ar(a)}}async facetSearch(e){let t=await xt.call({...Xn(e,"POST","application/json","/facet"),requestParams:Rr(e),...this.options});if(t instanceof Error)throw t;let n=await t.json(),r={response:t,body:n};return(await this.options.postprocessFacetSearchResponseMiddleware(r)).body}async recommendations(e){let t=await xt.call({...Xn(e,"POST","application/json",""),requestParams:Rr(e),...this.options});if(t instanceof Error)throw t;let n=await t.json();return Ls(n)?{success:n}:{error:Ar({response:t,body:n})}}async html(e){return zg(e,this.options)}async productRecommendations(e){let t=await xt.call({...Xn(e,"POST","application/json",""),requestParams:Rr(e),...this.options});if(t instanceof Error)throw t;let n=await t.json();return Ls(n)?{success:n}:{error:Ar({response:t,body:n})}}async fieldDescriptions(e){let t=await xt.call({...Xn(e,"GET","application/json","/fields"),requestParams:{},...this.options});if(t instanceof Error)throw t;let n=await t.json();return Qg(n)?{success:n}:{error:Ar({response:t,body:n})}}getAbortControllerInstanceIfAvailable(){if(typeof window=="undefined"){let e=ya();return new e}return typeof AbortController=="undefined"?null:new AbortController}},ft=e=>e.error!==void 0;function Bg(e){return e.completions!==void 0}function Hg(e){return e.preprocessingOutput!==void 0}function Qg(e){return e.fields!==void 0}function Ls(e){return e.results!==void 0}function Wg(e){let t=Vo();return De(e.questionAnswer)?(e.questionAnswer=t,e):(e.questionAnswer={...t,...e.questionAnswer},e)}var re=new ne({required:!0,emptyAllowed:!1}),lt=new ne({required:!1,emptyAllowed:!1}),wt=new ne({required:!0,emptyAllowed:!0}),ua=({message:e,name:t,stack:n})=>({message:e,name:t,stack:n}),er=(e,t)=>{if("required"in t)return{payload:new at({value:t}).validate({value:e}).value};let n=new $e({options:{required:!0},values:t}).validate(e);if(n)throw new Ko(n);return{payload:e}},M=(e,t)=>{try{return er(e,t)}catch(n){return{payload:e,error:ua(n)}}},Tr=(e,t,n,r)=>{let a=`Check the initialState of ${r}`;return Oc(e,t,n,a,"Controller initialization error")},Gt=(e,t,n,r)=>{let a=`Check the options of ${r}`;return Oc(e,t,n,a,"Controller initialization error")},Oc=(e,t,n,r,a)=>{try{return t.validate(n,r)}catch(i){throw e.logger.error(i,a),i}},Ya=()=>({duration:0,error:null,isLoading:!1,id:"Recommendation",recommendations:[],searchUid:""}),Yg=class extends Uo{constructor(e){super(e);this.state=e}getPipeline(){return this.state.pipeline||"default"}getSearchEventRequestPayload(){return{queryText:jt().q,responseTime:this.responseTime,results:this.mapResultsToAnalyticsDocument(),numberOfResults:this.numberOfResults}}getSearchUID(){var e;return((e=this.state.recommendation)==null?void 0:e.searchUid)||Ya().searchUid}get responseTime(){var e;return((e=this.state.recommendation)==null?void 0:e.duration)||Ya().duration}mapResultsToAnalyticsDocument(){var e;return(e=this.state.recommendation)==null?void 0:e.recommendations.map(t=>({documentUri:t.uri,documentUriHash:t.raw.urihash}))}get numberOfResults(){var e;return((e=this.state.recommendation)==null?void 0:e.recommendations.length)||Ya().recommendations.length}},Kg=ae(mn()),_s=(e,t=5)=>e+Math.random().toString(36).substring(2,2+t);function xc(e){return Array.isArray(e)}function Ps(e){return e.trim()===""}function Jg(e,t){return Object.values(e.reduce((n,r,a)=>({...n,[t(r,a)]:r}),{}))}function Gg(e){return(typeof btoa!="undefined"?btoa:Kg.btoa)(encodeURI(e))}function Ec(e){let t=$c(e),n=[e,...t].filter(r=>r.parentResult).map(r=>r.parentResult);return Jg([e,...t,...n],r=>r.uniqueId)}function $c(e){return e.childResults?e.childResults.flatMap(t=>[t,...$c(t)]):[]}var le=(e=>(e[e.Search=0]="Search",e[e.Custom=1]="Custom",e[e.Click=2]="Click",e))(le||{}),Zg=e=>e(),ce=(e,t,n,r=a=>new pu(a))=>Be(e,async(a,{getState:i,extra:{analyticsClientMiddleware:o,preprocessRequest:l,logger:s}})=>{let u=Zg(i),f=ch({state:u,logger:s,analyticsClientMiddleware:o,preprocessRequest:l,provider:r(u)}),c=await n(f,u);return s.info({client:f.coveoAnalyticsClient,response:c},"Analytics response"),{analyticsType:t}}),Xg=e=>Be("analytics/noop",async()=>({analyticsType:e}));Xg(0);var Ji=(e,t)=>{var n;let r=o=>{var l,s;return o+((s=(l=t.pagination)==null?void 0:l.firstResult)!=null?s:0)},a=-1,i=(n=t.search)==null?void 0:n.results;return a=Rc(e,i),a<0&&(a=im(e,i)),a<0&&(a=0),em(e,r(a),t)};function em(e,t,n){let r=e.raw.collection;return{collectionName:typeof r=="string"?r:"default",documentAuthor:rm(e),documentPosition:t+1,documentTitle:e.title,documentUri:e.uri,documentUriHash:e.raw.urihash,documentUrl:e.clickUri,rankingModifier:e.rankingModifier||"",sourceName:am(e),queryPipeline:n.pipeline||Xr()}}var js=e=>(e.raw.permanentid||console.warn("Missing field permanentid on result. This might cause many issues with your Coveo deployment. See https://docs.coveo.com/en/1913 and https://docs.coveo.com/en/1640 for more information.",e),{contentIDKey:"permanentid",contentIDValue:e.raw.permanentid||""}),Ic={urihash:new ne,sourcetype:new ne,permanentid:new ne},Ms={uniqueId:re,raw:new $e({values:Ic}),title:re,uri:re,clickUri:re,rankingModifier:new ne({required:!1,emptyAllowed:!0})};function tm(e){return Object.assign({},...Object.keys(Ic).map(t=>({[t]:e[t]})))}function nm(e){return Object.assign({},...Object.keys(Ms).map(t=>({[t]:e[t]})),{raw:tm(e.raw)})}function rm(e){let t=e.raw.author;return De(t)?"unknown":Array.isArray(t)?t.join(";"):`${t}`}function am(e){let t=e.raw.source;return De(t)?"unknown":t}var Gi=e=>new at(Ms).validate(nm(e));function im(e,t){for(let[n,r]of t.entries()){let a=Ec(r);if(Rc(e,a)!==-1)return n}return-1}function Rc(e,t=[]){return t.findIndex(({uniqueId:n})=>n===e.uniqueId)}var om=ce("analytics/recommendation/update",le.Search,e=>e.logRecommendationInterfaceLoad(),e=>new Yg(e)),sm=T("recommendation/set",e=>M(e,{id:re})),Zi=Be("recommendation/get",async(e,{getState:t,rejectWithValue:n,extra:{apiClient:r}})=>{let a=t(),i=new Date().getTime(),o=await r.recommendations(await lm(a)),l=new Date().getTime()-i;return ft(o)?n(o.error):{recommendations:o.success.results,analyticsAction:om(),duration:l,searchUid:o.success.searchUid}}),lm=async e=>({accessToken:e.configuration.accessToken,organizationId:e.configuration.organizationId,url:e.configuration.search.apiBaseUrl,recommendation:e.recommendation.id,tab:e.configuration.analytics.originLevel2,referrer:e.configuration.analytics.originLevel3,timezone:e.configuration.search.timezone,locale:e.configuration.search.locale,actionsHistory:e.configuration.analytics.enabled?Kr.getHistory():[],...e.advancedSearchQueries&&{aq:e.advancedSearchQueries.aq,cq:e.advancedSearchQueries.cq},...e.pipeline&&{pipeline:e.pipeline},...e.searchHub&&{searchHub:e.searchHub},...e.context&&{context:e.context.contextValues},...e.dictionaryFieldContext&&{dictionaryFieldContext:e.dictionaryFieldContext.contextValues},...e.fields&&{fieldsToInclude:e.fields.fieldsToInclude},...e.configuration.analytics.enabled&&{visitorId:await un()},...e.configuration.analytics.enabled&&await _i(e.configuration.analytics)}),Ac=T("history/undo"),Tc=T("history/redo"),qr=T("history/snapshot"),qc=Be("history/back",async(e,{dispatch:t})=>{t(Ac()),await t(Ct())}),um=Be("history/forward",async(e,{dispatch:t})=>{t(Tc()),await t(Ct())}),Ct=Be("history/change",async(e,{getState:t})=>t().history.present),cm=ce("analytics/didyoumean/click",le.Search,e=>e.logDidYouMeanClick()),dm=ce("analytics/didyoumean/automatic",le.Search,e=>e.logDidYouMeanAutomatic()),Fc=T("didYouMean/enable"),fm=T("didYouMean/disable"),Xi=T("didYouMean/correction",e=>M(e,re)),Ka=T("query/updateQuery",e=>M(e,{q:new ne,enableQuerySyntax:new Ne})),pm=ce("search/logFetchMoreResults",le.Search,e=>e.logFetchMoreResults()),tr=e=>ce("search/queryError",le.Search,(t,n)=>{var r,a,i;return t.logQueryError({query:((r=n.query)==null?void 0:r.q)||jt().q,aq:((a=n.advancedSearchQueries)==null?void 0:a.aq)||Jn().aq,cq:((i=n.advancedSearchQueries)==null?void 0:i.cq)||Jn().cq,dq:"",errorType:e.type,errorMessage:e.message})})(),eo=ae(ht()),Ds=ae(ht()),hm=ae(ot());Ds.default.extend(hm.default);var kc="YYYY/MM/DD@HH:mm:ss",gm="1401-01-01";function Ns(e){return e.format(kc)}function mm(e){return Ns((0,Ds.default)(e))===e}function Lc(e,t){let n=(0,Ds.default)(e,t);if(!n.isValid()){let r=". Please provide a date format string in the configuration options. See https://day.js.org/docs/en/parse/string-format for more information.",a=` with the format "${t}""`;throw new Error(`Could not parse the provided date "${e}"${t?a:r}`)}_c(n)}function _c(e){if(e.isBefore(gm))throw new Error(`Date is before year 1401, which is unsupported by the API: ${e}`)}var vm=ae(dr());eo.default.extend(vm.default);var Pc=["past","now","next"],jc=["minute","hour","day","week","month","quarter","year"],ym=e=>{let t=e==="now";return{amount:new we({required:!t,min:1}),unit:new ne({required:!t,constrainTo:jc}),period:new ne({required:!0,constrainTo:Pc})}};function to(e){if(typeof e=="string"&&!ca(e))throw new Error(`The value "${e}" is not respecting the relative date format "period-amount-unit"`);let t=typeof e=="string"?zs(e):e;new at(ym(t.period)).validate(t);let n=Mc(t),r=JSON.stringify(t);if(!n.isValid())throw new Error(`Date is invalid: ${r}`);_c(n)}function bm(e){let{period:t,amount:n,unit:r}=e;switch(t){case"past":case"next":return`${t}-${n}-${r}`;case"now":return t}}function Mc(e){let{period:t,amount:n,unit:r}=e;switch(t){case"past":return(0,eo.default)().subtract(n,r);case"next":return(0,eo.default)().add(n,r);case"now":return(0,eo.default)()}}function Vs(e){return Ns(Mc(zs(e)))}function Dc(e){return e.toLocaleLowerCase().split("-")}function ca(e){let[t,n,r]=Dc(e);if(t==="now")return!0;if(!Pc.includes(t)||!jc.includes(r))return!1;let a=parseInt(n);return!(isNaN(a)||a<=0)}function Sm(e){return!!e&&typeof e=="object"&&"period"in e}function zs(e){let[t,n,r]=Dc(e);return t==="now"?{period:"now"}:{period:t,amount:n?parseInt(n):void 0,unit:r||void 0}}function wm(e){return to(e),zs(e)}function Cm(e){return e.type==="dateRange"}function Nc(e){return`start${e}`}function Vc(e){return`end${e}`}var Om=()=>({dateFacetValueMap:{}});function xm(e,t,n){let r=e.start,a=e.end;return ca(r)&&(r=Vs(r),n.dateFacetValueMap[t][Nc(r)]=e.start),ca(a)&&(a=Vs(a),n.dateFacetValueMap[t][Vc(a)]=e.end),{...e,start:r,end:a}}function Em(e,t){if(Cm(e)){let{facetId:n,currentValues:r}=e;return t.dateFacetValueMap[n]={},{...e,currentValues:r.map(a=>xm(a,n,t))}}return e}function zc(e){var t;let n=Om();return{request:{...e,facets:(t=e.facets)==null?void 0:t.map(r=>Em(r,n))},mappings:n}}function $m(e,t,n){return{...e,start:n.dateFacetValueMap[t][Nc(e.start)]||e.start,end:n.dateFacetValueMap[t][Vc(e.end)]||e.end}}function Im(e,t){return e.facetId in t.dateFacetValueMap}function Rm(e,t){return Im(e,t)?{...e,values:e.values.map(n=>$m(n,e.facetId,t))}:e}function Uc(e,t){var n;return"success"in e?{success:{...e.success,facets:(n=e.success.facets)==null?void 0:n.map(r=>Rm(r,t))}}:e}var no=new we({required:!0,min:0}),Bc=T("pagination/registerNumberOfResults",e=>M(e,no)),Hc=T("pagination/updateNumberOfResults",e=>M(e,no)),Qc=T("pagination/registerPage",e=>M(e,no)),ro=T("pagination/updatePage",e=>M(e,no)),Wc=T("pagination/nextPage"),Yc=T("pagination/previousPage");function Us(e,t){let n={};e.forEach(i=>n[i.facetId]=i);let r=[];t.forEach(i=>{i in n&&(r.push(n[i]),delete n[i])});let a=Object.values(n);return[...r,...a]}var Bs=async e=>{var t,n,r,a;return{accessToken:e.configuration.accessToken,organizationId:e.configuration.organizationId,url:e.configuration.search.apiBaseUrl,locale:e.configuration.search.locale,debug:e.debug,tab:e.configuration.analytics.originLevel2,referrer:e.configuration.analytics.originLevel3,timezone:e.configuration.search.timezone,...e.configuration.analytics.enabled&&{visitorId:await un(),actionsHistory:Kr.getHistory()},...((t=e.advancedSearchQueries)==null?void 0:t.aq)&&{aq:e.advancedSearchQueries.aq},...((n=e.advancedSearchQueries)==null?void 0:n.cq)&&{cq:e.advancedSearchQueries.cq},...((r=e.advancedSearchQueries)==null?void 0:r.lq)&&{lq:e.advancedSearchQueries.lq},...((a=e.advancedSearchQueries)==null?void 0:a.dq)&&{dq:e.advancedSearchQueries.dq},...e.context&&{context:e.context.contextValues},...e.fields&&!e.fields.fetchAllFields&&{fieldsToInclude:e.fields.fieldsToInclude},...e.dictionaryFieldContext&&{dictionaryFieldContext:e.dictionaryFieldContext.contextValues},...e.pipeline&&{pipeline:e.pipeline},...e.query&&{q:e.query.q,enableQuerySyntax:e.query.enableQuerySyntax},...e.searchHub&&{searchHub:e.searchHub},...e.sortCriteria&&{sortCriteria:e.sortCriteria},...e.configuration.analytics.enabled&&await _i(e.configuration.analytics),...e.excerptLength&&!De(e.excerptLength.length)&&{excerptLength:e.excerptLength.length}}},Fr=async e=>{var t;let n=km(e),r=Am(e),a=await Bs(e);return zc({...a,...e.didYouMean&&{enableDidYouMean:e.didYouMean.enableDidYouMean},...n&&{cq:n},...r.length&&{facets:r},...e.pagination&&{numberOfResults:e.pagination.numberOfResults,firstResult:e.pagination.firstResult},...e.facetOptions&&{facetOptions:{freezeFacetOrder:e.facetOptions.freezeFacetOrder}},...((t=e.folding)==null?void 0:t.enabled)&&{filterField:e.folding.fields.collection,childField:e.folding.fields.parent,parentField:e.folding.fields.child,filterFieldRange:e.folding.filterFieldRange}})};function Am(e){var t;return Us(Tm(e),(t=e.facetOrder)!=null?t:[])}function Tm(e){return qm(e).filter(({facetId:t})=>{var n,r,a;return(a=(r=(n=e.facetOptions)==null?void 0:n.facets[t])==null?void 0:r.enabled)!=null?a:!0})}function qm(e){return[...Hs(e.facetSet),...Hs(e.numericFacetSet),...Hs(e.dateFacetSet),...Fm(e.categoryFacetSet)]}function Fm(e){return Object.values(e||{}).map(t=>t.request)}function Hs(e={}){return Object.keys(e).map(t=>e[t])}function km(e){var t;let n=((t=e.advancedSearchQueries)==null?void 0:t.cq.trim())||"",r=Object.values(e.tabSet||{}).find(o=>o.isActive),a=(r==null?void 0:r.expression.trim())||"",i=Lm(e);return[n,a,...i].filter(o=>!!o).join(" AND ")}function Lm(e){return Object.values(e.staticFilterSet||{}).map(t=>{let n=t.values.filter(a=>a.state==="selected"&&!!a.expression.trim()),r=n.map(a=>a.expression).join(" OR ");return n.length>1?`(${r})`:r})}var nr=T("breadcrumb/deselectAll"),Ja=T("facet/deselectAllFacets"),Qs=T("facet/updateFacetAutoSelection",e=>M(e,{allow:new Ne({required:!0})})),Ws={id:re},_m={...Ws,q:wt},Kc=T("instantResults/register",e=>M(e,Ws)),Ys=T("instantResults/updateQuery",e=>M(e,_m)),Jc=T("instantResults/clearExpired",e=>M(e,Ws)),Ga=async(e,t,{request:n,mappings:r})=>{var a;let i=new Date().getTime(),o=Uc(await e.search(n),r),l=new Date().getTime()-i,s=((a=t.query)==null?void 0:a.q)||"";return{response:o,duration:l,queryExecuted:s,requestExecuted:n}},Gc=Be("search/prepareForSearchWithQuery",(e,t)=>{let{dispatch:n}=t;M(e,{q:new ne,enableQuerySyntax:new Ne}),n(nr()),n(Qs({allow:!0})),n(Ka(e)),n(ro(1))}),pe=Be("search/executeSearch",async(e,{getState:t,dispatch:n,rejectWithValue:r,extra:a})=>{let i=t();ed(i);let o=await Ga(a.apiClient,i,await Fr(i));if(ft(o.response))return n(tr(o.response.error)),r(o.response.error);if(!Xc(i,o.response.success))return n(qr(ea(i))),{...o,response:o.response.success,automaticallyCorrected:!1,originalQuery:Xa(i),analyticsAction:e};let{correctedQuery:l}=o.response.success.queryCorrections[0],s=await jm(a.apiClient,l,t,n);if(ft(s.response))return n(tr(s.response.error)),r(s.response.error);let u=o.response.success;return e(n,()=>Pm(o.queryExecuted,o.duration,i,u),a),n(qr(ea(t()))),{...s,response:{...s.response.success,queryCorrections:o.response.success.queryCorrections},automaticallyCorrected:!0,originalQuery:Xa(i),analyticsAction:dm()}}),kr=Be("search/fetchPage",async(e,{getState:t,dispatch:n,rejectWithValue:r,extra:a})=>{let i=t();ed(i);let o=await Ga(a.apiClient,i,await Fr(i));return ft(o.response)?(n(tr(o.response.error)),r(o.response.error)):(n(qr(ea(i))),{...o,response:o.response.success,automaticallyCorrected:!1,originalQuery:Xa(i),analyticsAction:e})}),Za=Be("search/fetchMoreResults",async(e,{getState:t,dispatch:n,rejectWithValue:r,extra:{apiClient:a}})=>{let i=t(),o=await Ga(a,i,await Mm(i));return ft(o.response)?(n(tr(o.response.error)),r(o.response.error)):(n(qr(ea(i))),{...o,response:o.response.success,automaticallyCorrected:!1,originalQuery:Xa(i),analyticsAction:pm()})}),Lr=Be("search/fetchFacetValues",async(e,{getState:t,dispatch:n,rejectWithValue:r,extra:{apiClient:a}})=>{let i=t(),o=await Ga(a,i,await Nm(i));return ft(o.response)?(n(tr(o.response.error)),r(o.response.error)):(n(qr(ea(i))),{...o,analyticsAction:e,response:o.response.success,automaticallyCorrected:!1,originalQuery:Xa(i)})}),ao=Be("instantResults/fetch",async(e,{getState:t,dispatch:n,rejectWithValue:r,extra:{apiClient:a,validatePayload:i}})=>{i(e,{id:re,q:re,maxResultsPerQuery:new we({required:!0,min:1}),cacheTimeout:new we});let o=e.q,l=t(),s=await Zc(a,l,o);if(ft(s))return n(tr(s.error)),r(s.error);let u=g=>g.success.results.slice(0,e.maxResultsPerQuery);if(!Xc(l,s.success))return{results:u(s)};let{correctedQuery:f}=s.success.queryCorrections[0];n(Ys({q:f,id:e.id}));let c=await Zc(a,l,f);return ft(c)?(n(tr(c.error)),r(c.error)):{results:u(c)}});async function Zc(e,t,n){let{request:r,mappings:a}=await Dm(t,n);return Uc(await e.search(r),a)}var Pm=(e,t,n,r)=>{var a,i;return{...n,query:{q:e,enableQuerySyntax:(i=(a=n.query)==null?void 0:a.enableQuerySyntax)!=null?i:jt().enableQuerySyntax},search:{...Yn(),duration:t,response:r,results:r.results}}},jm=async(e,t,n,r)=>{r(Ka({q:t}));let a=await Ga(e,n(),await Fr(n()));return r(Xi(t)),a},Xc=(e,t)=>{var n;return((n=e.didYouMean)==null?void 0:n.enableDidYouMean)===!0&&t.results.length===0&&t.queryCorrections.length!==0},Mm=async e=>{var t,n,r,a;let i=await Fr(e);return i.request={...i.request,firstResult:((n=(t=e.pagination)==null?void 0:t.firstResult)!=null?n:0)+((a=(r=e.search)==null?void 0:r.results.length)!=null?a:0)},i},Dm=async(e,t)=>{let n=await Bs(e);return zc({...n,...e.didYouMean&&{enableDidYouMean:e.didYouMean.enableDidYouMean},q:t})},Nm=async e=>{let t=await Fr(e);return t.request.numberOfResults=0,t},ed=e=>{var t;e.configuration.analytics.enabled&&Kr.addElement({name:"Query",...((t=e.query)==null?void 0:t.q)&&{value:e.query.q},time:JSON.stringify(new Date)})},Xa=e=>{var t;return((t=e.query)==null?void 0:t.q)!==void 0?e.query.q:""},Vm=["permanentid","ec_name","ec_brand","ec_category","ec_price","ec_promo_price","ec_shortdesc","ec_thumbnails","ec_images","ec_in_stock","ec_rating","childResults","totalNumberOfChildResults"],Ks=()=>({id:"",skus:[],maxNumberOfRecommendations:5,filter:{brand:"",category:""},additionalFields:[],recommendations:[],error:null,isLoading:!1,searchUid:"",duration:0}),zm=class extends Uo{constructor(e){super(e);this.state=e,this.initialState=Ks()}getPipeline(){return""}getSearchEventRequestPayload(){return{queryText:"",responseTime:this.responseTime,results:this.mapResultsToAnalyticsDocument(),numberOfResults:this.numberOfResults}}getSearchUID(){var e;return((e=this.state.productRecommendations)==null?void 0:e.searchUid)||this.initialState.searchUid}mapResultsToAnalyticsDocument(){return[]}get responseTime(){var e;return((e=this.state.productRecommendations)==null?void 0:e.duration)||this.initialState.duration}get numberOfResults(){var e;return((e=this.state.productRecommendations)==null?void 0:e.recommendations.length)||this.initialState.recommendations.length}},Um=ce("analytics/productrecommendations/load",le.Search,e=>e.logRecommendationInterfaceLoad(),e=>new zm(e));function Bm(e){return e&&"childResults"in e&&"totalNumberOfChildResults"in e}var Hm=T("productrecommendations/setId",e=>M(e,{id:re})),Qm=T("productrecommendations/setSku",e=>M(e,{skus:new tt({required:!0,min:1,each:lt})})),Wm=T("productrecommendations/setBrand",e=>M(e,{brand:new ne({required:!0,emptyAllowed:!0})})),Ym=T("productrecommendations/setCategory",e=>M(e,{category:new ne({required:!0,emptyAllowed:!0})})),Km=T("productrecommendations/setAdditionalFields",e=>M(e,{additionalFields:new tt({required:!0,each:lt})})),Jm=T("productrecommendations/setMaxNumberOfRecommendations",e=>M(e,{number:new we({required:!0,max:50,min:1})})),io=Be("productrecommendations/get",async(e,{getState:t,rejectWithValue:n,extra:{apiClient:r}})=>{let a=t(),i=new Date().getTime(),o=await r.productRecommendations(await Gm(a)),l=new Date().getTime()-i;if(ft(o))return n(o.error);let s=a.productRecommendations.additionalFields||[];return{recommendations:o.success.results.map(u=>td(u,{additionalFields:s})),analyticsAction:Um(),searchUid:o.success.searchUid,duration:l}}),td=(e,{additionalFields:t})=>{let n=e.raw.ec_price,r=e.raw.ec_promo_price,a=e.raw.ec_in_stock,i={permanentid:e.raw.permanentid,clickUri:e.clickUri,ec_name:e.raw.ec_name,ec_brand:e.raw.ec_brand,ec_category:e.raw.ec_category,ec_price:n,ec_shortdesc:e.raw.ec_shortdesc,ec_thumbnails:e.raw.ec_thumbnails,ec_images:e.raw.ec_images,ec_promo_price:r===void 0||n!==void 0&&r>=n?void 0:r,ec_in_stock:a===void 0?void 0:a.toLowerCase()==="yes"||a.toLowerCase()==="true",ec_rating:e.raw.ec_rating,additionalFields:t.reduce((o,l)=>({...o,[l]:e.raw[l]}),{}),childResults:[],totalNumberOfChildResults:0};return Bm(e)&&(i.childResults=e.childResults.map(o=>td(o,{additionalFields:t})),i.totalNumberOfChildResults=e.totalNumberOfChildResults),i},Gm=async e=>({accessToken:e.configuration.accessToken,organizationId:e.configuration.organizationId,url:e.configuration.search.apiBaseUrl,locale:e.configuration.search.locale,timezone:e.configuration.search.timezone,...e.configuration.analytics.enabled&&{visitorId:await un()},recommendation:e.productRecommendations.id,numberOfResults:e.productRecommendations.maxNumberOfRecommendations,fieldsToInclude:[...Vm,...e.productRecommendations.additionalFields||[]],mlParameters:{...e.productRecommendations.skus&&e.productRecommendations.skus.length>0&&{itemIds:e.productRecommendations.skus},...e.productRecommendations.filter.brand&&{brandFilter:e.productRecommendations.filter.brand},...e.productRecommendations.filter.category&&{categoryFilter:e.productRecommendations.filter.category}},actionsHistory:e.configuration.analytics.enabled?Kr.getHistory():[],...e.context&&{context:e.context.contextValues},...e.dictionaryFieldContext&&{dictionaryFieldContext:e.dictionaryFieldContext.contextValues},...e.searchHub&&{searchHub:e.searchHub}}),nd=e=>t=>n=>{var r,a;let i=(r=n.payload)==null?void 0:r.analyticsAction;i!==void 0&&((a=n.payload)==null||delete a.analyticsAction);let o=t(n);return n.type===pe.fulfilled.type&&i===void 0&&console.error("No analytics action associated with search:",n),n.type===Zi.fulfilled&&i===void 0&&console.error("No analytics action associated with recommendation:",n),n.type===io.fulfilled&&i===void 0&&console.error("No analytics action associated with product recommendation:",n),i!==void 0&&e.dispatch(i),o};function Zm(e={}){return{configuration:Cr(),advancedSearchQueries:Jn(),context:Zr(),dictionaryFieldContext:Ma(),fields:Zo(),searchHub:Kn(),pipeline:Xr(),recommendation:Ya(),debug:xr(),version:"unit-testing-version",...e}}function Xm(e={}){return{configuration:Cr(),context:Zr(),dictionaryFieldContext:Ma(),searchHub:Kn(),productRecommendations:Ks(),version:"unit-testing-version",...e}}var ev=ae(qn()),rd=e=>()=>t=>n=>{if(!n.error)return t(n);let r=n.error;if(e.error(r.stack||r.message||r.name||"Error",`Action dispatch error ${n.type}`,n),n.error.name!=="SchemaValidationError")return t(n)},ad=e=>t=>n=>r=>(e.debug({action:r,nextState:t.getState()},`Action dispatched: ${r.type}`),n(r)),tv=ae(qn()),Js=e=>e,id=e=>e,od=e=>e,sd=e=>e;function ld(e){return new Cc({logger:(0,tv.default)({level:"silent"}),preprocessRequest:Js,postprocessSearchResponseMiddleware:id,postprocessFacetSearchResponseMiddleware:od,postprocessQuerySuggestResponseMiddleware:sd,...e})}var oo=(e=>(e.Relevance="relevance",e.Fields="fields",e))(oo||{}),nv=(e=>(e.Ascending="asc",e.Descending="desc",e))(nv||{}),rv=()=>({by:"relevance"});function ud(){return rv()}function av(e={}){return{configuration:Cr(),productListing:Ho(),sort:ud(),facetSearchSet:es(),categoryFacetSet:Ta(),categoryFacetSearchSet:ts(),dateFacetSet:qa(),facetOptions:Mi(),facetOrder:Di(),facetSet:ka(),numericFacetSet:Fa(),pagination:In(),version:"unit-testing-version",context:Zr(),...e}}var cd=()=>({caseAssistId:"",locale:"en-US"}),dd=()=>({status:{loading:!1,error:null,lastResponseId:""},fields:{}}),fd=()=>({}),pd=()=>({status:{loading:!1,error:null,lastResponseId:""},documents:[]});function iv(e={}){return{configuration:Cr(),caseAssistConfiguration:cd(),caseField:dd(),caseInput:fd(),documentSuggestion:pd(),debug:xr(),version:"unit-testing-version",resultPreview:is(),searchHub:Kn(),...e}}var ov=()=>({insightId:""}),sv=()=>({loading:!1,config:void 0});function lv(e={}){return{...ei(e,Tu),executeFirstSearch:jest.fn(),executeFirstSearchAfterStandaloneSearchBoxRedirect:jest.fn()}}function uv(e={}){return ei(e,Zm)}function cv(e={}){return ei(e,Xm)}function dv(e={}){return ei(e,av)}function fv(e={}){return ei(e,iv)}function ei(e={},t){let n=(0,ev.default)({level:"silent"}),r=pv(n),a=hd(e,t),i=r(a),o=()=>{},{state:l,...s}=e;return{store:i,state:hd(e,t),subscribe:jest.fn(()=>o),get dispatch(){return i.dispatch},get actions(){return i.getActions()},findAsyncAction(u){let f=this.actions.find(c=>c.type===u.type);return hv(f)?f:void 0},logger:n,addReducers:jest.fn(),enableAnalytics:jest.fn(),disableAnalytics:jest.fn(),...s}}function hd(e,t){let n=e.state||t();return n.configuration.analytics.enabled=!1,n}var pv=e=>{let t={searchAPIClient:ld({logger:e}),apiClient:ld({logger:e}),validatePayload:er,logger:e};return(0,Ih.default)([rd(e),nd,Os.withExtraArgument(t),...Es(),ad(e)])};function hv(e){return e?"meta"in e:!1}function gd(e={}){return{urihash:"",parents:"",sfid:"",sfparentid:"",sfinsertedbyid:"",documenttype:"",sfcreatedbyid:"",permanentid:"",date:0,objecttype:"",sourcetype:"",sftitle:"",size:0,sffeeditemid:"",clickableuri:"",sfcreatedby:"",source:"",collection:"",connectortype:"",filetype:"",sfcreatedbyname:"",sflikecount:0,language:[],...e}}function gv(e={}){return{title:"",uri:"",printableUri:"",clickUri:"",uniqueId:"",excerpt:"",firstSentences:"",summary:null,flags:"",hasHtmlVersion:!1,score:0,percentScore:0,rankingInfo:null,isTopResult:!1,isRecommendation:!1,titleHighlights:[],firstSentencesHighlights:[],excerptHighlights:[],printableUriHighlights:[],summaryHighlights:[],absentTerms:[],raw:gd(),...e}}var md={};he(md,{escape:()=>da,getHighlightedSuggestion:()=>vd,highlightString:()=>mv});function mv(e){if(Ps(e.openingDelimiter)||Ps(e.closingDelimiter))throw Error("delimiters should be a non-empty string");if(De(e.content)||Ps(e.content))return e.content;if(e.highlights.length===0)return da(e.content);let t=e.content.length,n="",r=0;for(let a=0;a<e.highlights.length;a++){let i=e.highlights[a],o=i.offset,l=o+i.length;if(l>t)break;n+=da(e.content.slice(r,o)),n+=e.openingDelimiter,n+=da(e.content.slice(o,l)),n+=e.closingDelimiter,r=l}return r!==t&&(n+=da(e.content.slice(r))),n}function vd(e,t){return e=da(e),e.replace(/\[(.*?)\]|\{(.*?)\}|\((.*?)\)/g,(n,r,a,i)=>r?Gs(r,t.notMatchDelimiters):a?Gs(a,t.exactMatchDelimiters):i?Gs(i,t.correctionDelimiters):n)}function Gs(e,t){return t?t.open+e+t.close:e}function da(e){return e.replace(/&/g,"&amp").replace(/</g,"&lt").replace(/>/g,"&gt").replace(/"/g,"&quot").replace(/`/g,"&#96").replace(/'/g,"&#x27")}var Zs=()=>lt,yd=()=>re,Xs=T("configuration/updateBasicConfiguration",e=>M(e,{accessToken:lt,organizationId:lt,platformUrl:lt})),fa=T("configuration/updateSearchConfiguration",e=>M(e,{apiBaseUrl:lt,pipeline:lt,searchHub:lt,timezone:lt,locale:lt})),el=T("configuration/updateAnalyticsConfiguration",e=>M(e,{enabled:new Ne({default:!0}),originContext:Zs(),originLevel2:Zs(),originLevel3:Zs(),apiBaseUrl:lt,runtimeEnvironment:new bt,anonymous:new Ne({default:!1}),deviceId:lt,userDisplayName:lt,documentLocation:lt})),bd=T("configuration/analytics/disable"),Sd=T("configuration/analytics/enable"),vv=T("configuration/analytics/originlevel2",e=>M(e,{originLevel2:yd()})),yv=T("configuration/analytics/originlevel3",e=>M(e,{originLevel3:yd()}));function bv(e){let t={...e},n,r=a=>(i,o)=>{let l=a(i,o);return n?n(l,o):l};return{get combinedReducer(){return r((0,ls.combineReducers)(t))},containsAll(a){return Object.keys(a).every(i=>i in t)},add(a){Object.keys(a).filter(i=>!(i in t)).forEach(i=>t[i]=a[i])},addCrossReducer(a){n=a}}}function Sv({reducer:e,preloadedState:t,middlewares:n=[],thunkExtraArguments:r,name:a}){return Zu({reducer:e,preloadedState:t,devTools:{stateSanitizer:i=>i.history?{...i,history:"<<OMIT>>"}:i,name:a,shouldHotReload:!1},middleware:i=>[...n,...i({thunk:{extraArgument:r}}),ad(r.logger)]})}var rr=()=>new ne({required:!1,emptyAllowed:!0}),wv=T("advancedSearchQueries/update",e=>M(e,{aq:rr(),cq:rr(),lq:rr(),dq:rr()})),Cv=T("advancedSearchQueries/register",e=>M(e,{aq:rr(),cq:rr(),lq:rr(),dq:rr()})),wd={q:new ne,enableQuerySyntax:new Ne,aq:new ne,cq:new ne,firstResult:new we({min:0}),numberOfResults:new we({min:0}),sortCriteria:new ne,f:new $e,cf:new $e,nf:new $e,df:new $e,debug:new Ne,sf:new $e,tab:new ne},Ot=T("searchParameters/restore",e=>M(e,wd));ye(Jn(),e=>{e.addCase(wv,(t,n)=>{let{aq:r,cq:a,lq:i,dq:o}=n.payload;St(r)||(t.aq=r,t.aqWasSet=!0),St(a)||(t.cq=a,t.cqWasSet=!0),St(i)||(t.lq=i,t.lqWasSet=!0),St(o)||(t.dq=o,t.dqWasSet=!0)}).addCase(Cv,(t,n)=>{let{aq:r,cq:a,lq:i,dq:o}=n.payload;St(r)||(t.defaultFilters.aq=r,t.aqWasSet||(t.aq=r)),St(a)||(t.defaultFilters.cq=a,t.cqWasSet||(t.cq=a)),St(i)||(t.defaultFilters.lq=i,t.lqWasSet||(t.lq=i)),St(o)||(t.defaultFilters.dq=o,t.dqWasSet||(t.dq=o))}).addCase(Ct.fulfilled,(t,n)=>{var r,a;return(a=(r=n.payload)==null?void 0:r.advancedSearchQueries)!=null?a:t}).addCase(Ot,(t,n)=>{let{aq:r,cq:a}=n.payload;St(r)||(t.aq=r,t.aqWasSet=!0),St(a)||(t.cq=a,t.cqWasSet=!0)})});var Ov=T("tab/register",e=>{let t=new $e({values:{id:re,expression:wt}});return M(e,t)}),Cd=T("tab/updateActiveTab",e=>M(e,re));function xv(e,t){if(/^https:\/\/platform(dev|stg|hipaa)?(-)?(eu|au)?\.cloud\.coveo\.com/.test(e))return e.replace(/^(https:\/\/)platform/,"$1analytics")+Wo;let n=e.match(new RegExp(`^https://(${t}\\.org)\\.coveo.com`));return n?e.replace(n[1],"analytics.cloud")+Wo:e}var Ev=ye(Cr(),e=>e.addCase(Xs,(t,n)=>{n.payload.accessToken&&(t.accessToken=n.payload.accessToken),n.payload.organizationId&&(t.organizationId=n.payload.organizationId),n.payload.platformUrl&&(t.platformUrl=n.payload.platformUrl,t.search.apiBaseUrl=`${n.payload.platformUrl}${gu}`,t.analytics.apiBaseUrl=xv(n.payload.platformUrl,t.organizationId))}).addCase(fa,(t,n)=>{n.payload.apiBaseUrl&&(t.search.apiBaseUrl=n.payload.apiBaseUrl),n.payload.locale&&(t.search.locale=n.payload.locale),n.payload.timezone&&(t.search.timezone=n.payload.timezone)}).addCase(el,(t,n)=>{De(n.payload.enabled)||(t.analytics.enabled=n.payload.enabled),De(n.payload.originContext)||(t.analytics.originContext=n.payload.originContext),De(n.payload.originLevel2)||(t.analytics.originLevel2=n.payload.originLevel2),De(n.payload.originLevel3)||(t.analytics.originLevel3=n.payload.originLevel3),De(n.payload.apiBaseUrl)||(t.analytics.apiBaseUrl=n.payload.apiBaseUrl),De(n.payload.runtimeEnvironment)||(t.analytics.runtimeEnvironment=n.payload.runtimeEnvironment),De(n.payload.anonymous)||(t.analytics.anonymous=n.payload.anonymous),De(n.payload.deviceId)||(t.analytics.deviceId=n.payload.deviceId),De(n.payload.userDisplayName)||(t.analytics.userDisplayName=n.payload.userDisplayName),De(n.payload.documentLocation)||(t.analytics.documentLocation=n.payload.documentLocation)}).addCase(bd,t=>{t.analytics.enabled=!1}).addCase(Sd,t=>{t.analytics.enabled=!0}).addCase(vv,(t,n)=>{t.analytics.originLevel2=n.payload.originLevel2}).addCase(yv,(t,n)=>{t.analytics.originLevel3=n.payload.originLevel3}).addCase(Cd,(t,n)=>{t.analytics.originLevel2=n.payload}).addCase(Ot,(t,n)=>{t.analytics.originLevel2=n.payload.tab||t.analytics.originLevel2})),$v=new tt({each:re,required:!0}),Od=(e,t)=>(M(e,re),Pi(t)?M(t,re):M(t,$v),{payload:{contextKey:e,contextValue:t}}),Iv=T("context/set",e=>{for(let[t,n]of Object.entries(e))Od(t,n);return{payload:e}}),Rv=T("context/add",e=>Od(e.contextKey,e.contextValue)),Av=T("context/remove",e=>M(e,re));ye(Zr(),e=>{e.addCase(Iv,(t,n)=>{t.contextValues=n.payload}).addCase(Rv,(t,n)=>{t.contextValues[n.payload.contextKey]=n.payload.contextValue}).addCase(Av,(t,n)=>{delete t.contextValues[n.payload]}).addCase(Ct.fulfilled,(t,n)=>{!n.payload||(t.contextValues=n.payload.context.contextValues)})});var so=T("debug/enable"),xd=T("debug/disable"),Tv=ye(xr(),e=>{e.addCase(so,()=>!0).addCase(xd,()=>!1).addCase(Ot,(t,n)=>{var r;return(r=n.payload.debug)!=null?r:t})}),qv=ye(zo,e=>e),Fv=ye(wu(),e=>{e.addCase(Fc,t=>{t.enableDidYouMean=!0}).addCase(fm,t=>{t.enableDidYouMean=!1}).addCase(pe.pending,t=>{t.queryCorrection=Go(),t.wasAutomaticallyCorrected=!1,t.wasCorrectedTo=""}).addCase(pe.fulfilled,(t,n)=>{t.queryCorrection=n.payload.response.queryCorrections[0]||Go(),t.originalQuery=n.payload.originalQuery,t.wasAutomaticallyCorrected=n.payload.automaticallyCorrected}).addCase(Xi,(t,n)=>{t.wasCorrectedTo=n.payload})}),ke=re,kv={state:new bt({required:!0}),numberOfResults:new we({required:!0,min:0}),value:new ne({required:!0,emptyAllowed:!0}),path:new tt({required:!0,each:re}),moreValuesAvailable:new Ne({required:!1})};function Ed(e){e.children.forEach(t=>{Ed(t)}),er({state:e.state,numberOfResults:e.numberOfResults,value:e.value,path:e.path,moreValuesAvailable:e.moreValuesAvailable},kv)}var Lv={facetId:ke,field:re,delimitingCharacter:new ne({required:!1,emptyAllowed:!0}),filterFacetCount:new Ne({required:!1}),injectionDepth:new we({required:!1,min:0}),numberOfValues:new we({required:!1,min:1}),sortCriteria:new bt({required:!1}),basePath:new tt({required:!1,each:re}),filterByBasePath:new Ne({required:!1})},tl=T("categoryFacet/register",e=>M(e,Lv)),nl=T("categoryFacet/toggleSelectValue",e=>{try{return er(e.facetId,re),Ed(e.selection),{payload:e,error:null}}catch(t){return{payload:e,error:ua(t)}}}),lo=T("categoryFacet/deselectAll",e=>M(e,ke)),rl=T("categoryFacet/updateNumberOfValues",e=>M(e,{facetId:ke,numberOfValues:new we({required:!0,min:1})})),$d=T("categoryFacet/updateSortCriterion",e=>M(e,{facetId:ke,criterion:new bt})),Id={value:re,numberOfResults:new we({min:0}),state:re},_v={facetId:ke,field:new ne({required:!0,emptyAllowed:!0}),delimitingCharacter:new ne({required:!1,emptyAllowed:!0}),filterFacetCount:new Ne({required:!1}),injectionDepth:new we({required:!1,min:0}),numberOfValues:new we({required:!1,min:1}),sortCriteria:new bt({required:!1})},al=T("facet/register",e=>M(e,_v)),uo=T("facet/toggleSelectValue",e=>M(e,{facetId:ke,selection:new $e({values:Id})})),dn=T("facet/deselectAll",e=>M(e,ke)),Rd=T("facet/updateSortCriterion",e=>M(e,{facetId:ke,criterion:new bt({required:!0})})),il=T("facet/updateNumberOfValues",e=>M(e,{facetId:ke,numberOfValues:new we({required:!0,min:1})})),ol=T("facet/updateIsFieldExpanded",e=>M(e,{facetId:ke,isFieldExpanded:new Ne({required:!0})})),sl=T("facet/updateFreezeCurrentValues",e=>M(e,{facetId:ke,freezeCurrentValues:new Ne({required:!0})})),Ad=ae(ht()),co={state:re,start:new we({required:!0}),end:new we({required:!0}),endInclusive:new Ne({required:!0}),numberOfResults:new we({required:!0,min:0})},fo={start:re,end:re,endInclusive:new Ne({required:!0}),state:re,numberOfResults:new we({required:!0,min:0})},ll=e=>({facetId:ke,selection:typeof e.start=="string"?new $e({values:fo}):new $e({values:co})}),ul=T("rangeFacet/updateSortCriterion",e=>M(e,{facetId:ke,criterion:new bt({required:!0})})),Td=ae(ht()),Pv=ae(ot());Td.default.extend(Pv.default);function cl(e){var t,n;St(e.useLocalTime)||console.warn('The "useLocalTime" option for "buildDateRange" is deprecated. Please use the "timezone" engine configuration option instead.');let r=qd(e.start,e),a=qd(e.end,e),i=(t=e.endInclusive)!=null?t:!1,o=(n=e.state)!=null?n:"idle";return{start:r,end:a,endInclusive:i,state:o}}function qd(e,t){let{dateFormat:n}=t;return Sm(e)?(to(e),bm(e)):typeof e=="string"&&ca(e)?(to(e),e):(Lc(e,n),Ns((0,Td.default)(e,n)))}var jv={start:re,end:re,endInclusive:new Ne({required:!0}),state:re},Mv={facetId:ke,field:re,currentValues:new tt({required:!1,each:new $e({values:jv})}),generateAutomaticRanges:new Ne({required:!0}),filterFacetCount:new Ne({required:!1}),injectionDepth:new we({required:!1,min:0}),numberOfValues:new we({required:!1,min:1}),sortCriteria:new bt({required:!1}),rangeAlgorithm:new bt({required:!1})};function Fd(e){return ca(e)?Vs(e):e}function dl(e){!e.currentValues||e.currentValues.forEach(t=>{let{start:n,end:r}=cl(t);if((0,Ad.default)(Fd(n)).isAfter((0,Ad.default)(Fd(r))))throw new Error(`The start value is greater than the end value for the date range ${t.start} to ${t.end}`)})}var ti=T("dateFacet/register",e=>{try{return er(e,Mv),dl(e),{payload:e,error:null}}catch(t){return{payload:e,error:ua(t)}}}),ni=T("dateFacet/toggleSelectValue",e=>M(e,{facetId:ke,selection:new $e({values:fo})})),ri=T("dateFacet/updateFacetValues",e=>{try{return er(e,{facetId:ke,values:new tt({each:new $e({values:fo})})}),dl({currentValues:e.values}),{payload:e,error:null}}catch(t){return{payload:e,error:ua(t)}}}),kd=ul,Ld=dn,Dv={state:re,start:new we({required:!0}),end:new we({required:!0}),endInclusive:new Ne({required:!0})},Nv={facetId:ke,field:re,currentValues:new tt({required:!1,each:new $e({values:Dv})}),generateAutomaticRanges:new Ne({required:!0}),filterFacetCount:new Ne({required:!1}),injectionDepth:new we({required:!1,min:0}),numberOfValues:new we({required:!1,min:1}),sortCriteria:new bt({required:!1}),rangeAlgorithm:new bt({required:!1})};function fl(e){!e.currentValues||e.currentValues.forEach(({start:t,end:n})=>{if(t>n)throw new Error(`The start value is greater than the end value for the numeric range ${t} to ${n}`)})}var ai=T("numericFacet/register",e=>{try{return M(e,Nv),fl(e),{payload:e,error:null}}catch(t){return{payload:e,error:ua(t)}}}),ii=T("numericFacet/toggleSelectValue",e=>M(e,{facetId:ke,selection:new $e({values:co})})),oi=T("numericFacet/updateFacetValues",e=>{try{return er(e,{facetId:ke,values:new tt({each:new $e({values:co})})}),fl({currentValues:e.values}),{payload:e,error:null}}catch(t){return{payload:e,error:ua(t)}}}),_d=ul,Pd=dn,ut=T("facetOptions/update",e=>M(e,{freezeFacetOrder:new Ne({required:!1})})),_r=T("facetOptions/facet/enable",e=>M(e,ke)),Zt=T("facetOptions/facet/disable",e=>M(e,ke)),Vv=ye(Mi(),e=>{e.addCase(ut,(t,n)=>({...t,...n.payload})).addCase(pe.fulfilled,t=>{t.freezeFacetOrder=!1}).addCase(pe.rejected,t=>{t.freezeFacetOrder=!1}).addCase(Ct.fulfilled,(t,n)=>{var r,a;return(a=(r=n.payload)==null?void 0:r.facetOptions)!=null?a:t}).addCase(tl,(t,n)=>{t.facets[n.payload.facetId]=ja()}).addCase(al,(t,n)=>{t.facets[n.payload.facetId]=ja()}).addCase(ti,(t,n)=>{t.facets[n.payload.facetId]=ja()}).addCase(ai,(t,n)=>{t.facets[n.payload.facetId]=ja()}).addCase(_r,(t,n)=>{t.facets[n.payload].enabled=!0}).addCase(Zt,(t,n)=>{t.facets[n.payload].enabled=!1}).addCase(Ot,(t,n)=>{var r,a,i,o;[...Object.keys((r=n.payload.f)!=null?r:{}),...Object.keys((a=n.payload.cf)!=null?a:{}),...Object.keys((i=n.payload.nf)!=null?i:{}),...Object.keys((o=n.payload.df)!=null?o:{})].forEach(l=>{l in t||(t.facets[l]=ja()),t.facets[l].enabled=!0})})});function pl(e,t){let{facetId:n,criterion:r}=t,a=e[n];!a||(a.sortCriteria=r)}function po(e){!e||(e.currentValues=e.currentValues.map(t=>({...t,state:"idle"})),e.preventAutoSelect=!0)}function jd(e,t){!e||(e.numberOfValues=t)}var hl={facetId:ke,captions:new $e({options:{required:!1}}),numberOfValues:new we({required:!1,min:1}),query:new ne({required:!1,emptyAllowed:!0})},zv={path:new tt({required:!0,each:re}),displayValue:wt,rawValue:wt,count:new we({required:!0,min:0})},gl=T("categoryFacet/selectSearchResult",e=>M(e,{facetId:ke,value:new $e({values:zv})})),ml=T("categoryFacetSearch/register",e=>M(e,hl));function ho(e,t){let n=e[t];!n||(n.request.numberOfValues=n.initialNumberOfValues,n.request.currentValues=[],n.request.preventAutoSelect=!0)}function Md(e,t,n){e.currentValues=Uv(t,n),e.numberOfValues=t.length?1:n,e.preventAutoSelect=!0}function Uv(e,t){if(!e.length)return[];let n=Dd(e[0],t),r=n;for(let a of e.splice(1)){let i=Dd(a,t);r.children.push(i),r=i}return r.state="selected",r.retrieveChildren=!0,[n]}function Dd(e,t){return{value:e,retrieveCount:t,children:[],state:"idle",retrieveChildren:!1}}var Bv=ye(Ta(),e=>{e.addCase(tl,(t,n)=>{let r=n.payload,{facetId:a}=r;if(a in t)return;let i=Qv(r),o=i.numberOfValues;t[a]={request:i,initialNumberOfValues:o}}).addCase(Ct.fulfilled,(t,n)=>{var r,a;return(a=(r=n.payload)==null?void 0:r.categoryFacetSet)!=null?a:t}).addCase(Ot,(t,n)=>{let r=n.payload.cf||{};Object.keys(t).forEach(a=>{let i=t[a].request,o=r[a]||[];(o.length||i.currentValues.length)&&Md(i,o,t[a].initialNumberOfValues)})}).addCase($d,(t,n)=>{var r;let{facetId:a,criterion:i}=n.payload,o=(r=t[a])==null?void 0:r.request;!o||(o.sortCriteria=i)}).addCase(nl,(t,n)=>{var r;let{facetId:a,selection:i,retrieveCount:o}=n.payload,l=(r=t[a])==null?void 0:r.request;if(!l)return;let{path:s}=i,u=s.slice(0,s.length-1),f=Hv(l,u,o);if(f.length){let g=f[0];g.retrieveChildren=!0,g.state="selected",g.children=[];return}let c=Vd(i.value,o);c.state="selected",f.push(c),l.numberOfValues=1}).addCase(lo,(t,n)=>{let r=n.payload;ho(t,r)}).addCase(Ja,t=>{Object.keys(t).forEach(n=>ho(t,n))}).addCase(nr,t=>{Object.keys(t).forEach(n=>ho(t,n))}).addCase(Qs,(t,n)=>Object.keys(t).forEach(r=>{t[r].request.preventAutoSelect=!n.payload.allow})).addCase(rl,(t,n)=>{var r;let{facetId:a,numberOfValues:i}=n.payload,o=(r=t[a])==null?void 0:r.request;if(o){if(!o.currentValues.length)return jd(o,i);Wv(t,n.payload)}}).addCase(gl,(t,n)=>{let{facetId:r,value:a}=n.payload,i=t[r];if(!i)return;let o=[...a.path,a.rawValue];Md(i.request,o,i.initialNumberOfValues)}).addCase(Lr.fulfilled,(t,n)=>{zd(t,n.payload.response.facets)}).addCase(pe.fulfilled,(t,n)=>{zd(t,n.payload.response.facets)}).addCase(Zt,(t,n)=>{ho(t,n.payload)})}),Nd={delimitingCharacter:";",filterFacetCount:!0,injectionDepth:1e3,numberOfValues:5,sortCriteria:"occurrences",basePath:[],filterByBasePath:!0};function Hv(e,t,n){let r=e.currentValues;for(let a of t){let i=r[0];(!i||a!==i.value)&&(i=Vd(a,n),r.length=0,r.push(i)),i.retrieveChildren=!1,i.state="idle",r=i.children}return r}function Qv(e){return{...Nd,currentValues:[],preventAutoSelect:!1,type:"hierarchical",...e}}function Vd(e,t){return{value:e,state:"idle",children:[],retrieveChildren:!0,retrieveCount:t}}function zd(e,t){t.forEach(n=>{var r;if(!Yv(e,n))return;let a=n.facetId,i=(r=e[a])==null?void 0:r.request;if(!i)return;let o=Kv(i,n);i.currentValues=o?[]:i.currentValues,i.preventAutoSelect=!1})}function Wv(e,t){var n;let{facetId:r,numberOfValues:a}=t,i=(n=e[r])==null?void 0:n.request.currentValues[0];if(i){for(;i.children.length&&(i==null?void 0:i.state)!=="selected";)i=i.children[0];i.retrieveCount=a}}function Yv(e,t){return t.facetId in e}function Kv(e,t){let n=wr(e.currentValues).parents,r=wr(t.values).parents;return n.length!==r.length}var Jv=ye(Di(),e=>{e.addCase(pe.fulfilled,(t,n)=>n.payload.response.facets.map(r=>r.facetId)).addCase(Ct.fulfilled,(t,n)=>{var r,a;return(a=(r=n.payload)==null?void 0:r.facetOrder)!=null?a:t})});function Ud(e,t,n){let{facetId:r}=t;if(e[r])return;let a=!1,i={...pa,...t},o=n();e[r]={options:i,isLoading:a,response:o,initialNumberOfValues:i.numberOfValues,requestId:""}}function Bd(e,t){let{facetId:n,...r}=t,a=e[n];!a||(a.options={...a.options,...r})}function Hd(e,t,n){let r=e[t];!r||(r.requestId=n,r.isLoading=!0)}function Qd(e,t){let n=e[t];!n||(n.isLoading=!1)}function Wd(e,t,n){let{facetId:r,response:a}=t,i=e[r];!i||i.requestId===n&&(i.isLoading=!1,i.response=a)}function vl(e,t,n){let{facetId:r}=t,a=e[r];!a||(a.requestId="",a.isLoading=!1,a.response=n(),a.options.numberOfValues=a.initialNumberOfValues,a.options.query=pa.query)}function Yd(e,t){Object.keys(e).forEach(n=>vl(e,{facetId:n},t))}var pa={captions:{},numberOfValues:10,query:""},Gv={facetId:ke,value:new $e({values:{displayValue:wt,rawValue:wt,count:new we({required:!0,min:0})}})},Kd=T("facetSearch/register",e=>M(e,hl)),si=T("facetSearch/update",e=>M(e,hl)),go=T("facetSearch/toggleSelectValue",e=>M(e,Gv)),Jd=e=>ce("analytics/facet/showMore",le.Search,(t,n)=>{M(e,ke);let r=Yr(e,$n(n));return t.logFacetShowMore(r)})(),Gd=e=>ce("analytics/facet/showLess",le.Search,(t,n)=>{M(e,ke);let r=Yr(e,$n(n));return t.logFacetShowLess(r)})(),Zv=e=>ce("analytics/facet/search",le.Search,(t,n)=>{M(e,ke);let r=$n(n),a=Yr(e,r);return t.logFacetSearch(a)})(),mo=e=>ce("analytics/facet/sortChange",le.Search,(t,n)=>{M(e,{facetId:ke,criterion:new bt({required:!0})});let{facetId:r,criterion:a}=e,i=$n(n),o={...Yr(r,i),criteria:a};return t.logFacetUpdateSort(o)})(),Pr=e=>ce("analytics/facet/reset",le.Search,(t,n)=>{M(e,ke);let r=$n(n),a=Yr(e,r);return t.logFacetClearAll(a)})(),An=e=>ce("analytics/facet/select",le.Search,(t,n)=>{M(e,{facetId:ke,facetValue:re});let r=$n(n),a=Qo(e,r);return t.logFacetSelect(a)})(),li=e=>ce("analytics/facet/deselect",le.Search,(t,n)=>{M(e,{facetId:ke,facetValue:re});let r=$n(n),a=Qo(e,r);return t.logFacetDeselect(a)})(),Xv=e=>ce("analytics/facet/breadcrumb",le.Search,(t,n)=>{M(e,{facetId:ke,facetValue:re});let r=Qo(e,$n(n));return t.logBreadcrumbFacet(r)})(),ey=async(e,t)=>{let{captions:n,query:r,numberOfValues:a}=t.facetSearchSet[e].options,{field:i,currentValues:o,filterFacetCount:l}=t.facetSet[e],s=(await Fr(t)).request,u=o.filter(c=>c.state!=="idle").map(c=>c.value),f=`*${r}*`;return{url:t.configuration.search.apiBaseUrl,accessToken:t.configuration.accessToken,organizationId:t.configuration.organizationId,captions:n,numberOfValues:a,query:f,field:i,ignoreValues:u,searchContext:s,filterFacetCount:l,type:"specific"}},ty=async(e,t)=>{let n=t.categoryFacetSearchSet[e].options,r=t.categoryFacetSet[e].request,{captions:a,query:i,numberOfValues:o}=n,{field:l,delimitingCharacter:s,basePath:u,filterFacetCount:f}=r,c=(await Fr(t)).request,g=ny(r),m=g.length?[g]:[],v=`*${i}*`;return{url:t.configuration.search.apiBaseUrl,accessToken:t.configuration.accessToken,organizationId:t.configuration.organizationId,basePath:u,captions:a,numberOfValues:o,query:v,field:l,delimitingCharacter:s,ignorePaths:m,searchContext:c,filterFacetCount:f,type:"hierarchical"}},ny=e=>{let t=[],n=e.currentValues[0];for(;n;)t.push(n.value),n=n.children[0];return t},ar=Be("facetSearch/executeSearch",async(e,{dispatch:t,getState:n,extra:{apiClient:r,validatePayload:a}})=>{let i=n(),o;a(e,re),ry(i,e)?o=await ey(e,i):o=await ty(e,i);let l=await r.facetSearch(o);return t(Zv(e)),{facetId:e,response:l}}),yl=T("facetSearch/clearResults",e=>M(e,{facetId:ke})),ry=(e,t)=>e.facetSearchSet!==void 0&&e.facetSet!==void 0&&e.facetSet[t]!==void 0,ay=ye(ts(),e=>{e.addCase(ml,(t,n)=>{let r=n.payload;Ud(t,r,bl)}).addCase(si,(t,n)=>{Bd(t,n.payload)}).addCase(ar.pending,(t,n)=>{let r=n.meta.arg;Hd(t,r,n.meta.requestId)}).addCase(ar.rejected,(t,n)=>{let r=n.meta.arg;Qd(t,r)}).addCase(ar.fulfilled,(t,n)=>{Wd(t,n.payload,n.meta.requestId)}).addCase(yl,(t,{payload:{facetId:n}})=>{vl(t,{facetId:n},bl)}).addCase(pe.fulfilled,t=>{Yd(t,bl)})});function bl(){return{moreValuesAvailable:!1,values:[]}}var iy=ye(es(),e=>{e.addCase(Kd,(t,n)=>{let r=n.payload;Ud(t,r,Sl)}).addCase(si,(t,n)=>{Bd(t,n.payload)}).addCase(ar.pending,(t,n)=>{let r=n.meta.arg;Hd(t,r,n.meta.requestId)}).addCase(ar.rejected,(t,n)=>{let r=n.meta.arg;Qd(t,r)}).addCase(ar.fulfilled,(t,n)=>{Wd(t,n.payload,n.meta.requestId)}).addCase(yl,(t,{payload:n})=>{vl(t,n,Sl)}).addCase(pe.fulfilled,t=>{Yd(t,Sl)})});function Sl(){return{moreValuesAvailable:!1,values:[]}}var oy=T("productlisting/setUrl",e=>M(e,{url:new ne({required:!0,url:!0})})),sy=T("productlisting/setAdditionalFields",e=>M(e,{additionalFields:new tt({required:!0,each:new ne({required:!0,emptyAllowed:!1})})})),ui=Be("productlisting/fetch",async(e,{getState:t,dispatch:n,rejectWithValue:r,extra:a})=>{let i=t(),{apiClient:o}=a,l=await o.getProducts(await ly(i));return ft(l)?(n(tr(l.error)),r(l.error)):{response:l.success}}),ly=async e=>{var t,n,r;let a=cy(e),i=await un();return{accessToken:e.configuration.accessToken,organizationId:e.configuration.organizationId,platformUrl:e.configuration.platformUrl,url:(t=e.productListing)==null?void 0:t.url,...e.configuration.analytics.enabled&&i?{clientId:i}:{},...((n=e.productListing.additionalFields)==null?void 0:n.length)?{additionalFields:e.productListing.additionalFields}:{},...e.productListing.advancedParameters&&uy(e.productListing.advancedParameters)?{advancedParameters:e.productListing.advancedParameters||{}}:{},...a.length&&{facets:{requests:a}},...e.pagination&&{pagination:{numberOfValues:e.pagination.numberOfResults,page:Math.ceil(e.pagination.firstResult/(e.pagination.numberOfResults||1))+1}},...(((r=e.sort)==null?void 0:r.by)||oo.Relevance)!==oo.Relevance&&{sort:e.sort},...e.context&&{userContext:e.context.contextValues}}};function uy(e){return e.debug}function cy(e){var t;return Us(dy(e),(t=e.facetOrder)!=null?t:[])}function dy(e){return[...wl(e.facetSet),...wl(e.numericFacetSet),...wl(e.dateFacetSet),...fy(e.categoryFacetSet)]}function fy(e){return Object.values(e||{}).map(t=>t.request)}function wl(e={}){return Object.keys(e).map(t=>e[t])}var py=ye(ka(),e=>{e.addCase(al,(t,n)=>{let{facetId:r}=n.payload;r in t||(t[r]=hy(n.payload))}).addCase(Ct.fulfilled,(t,n)=>{if(!!n.payload&&Object.keys(n.payload.facetSet).length!==0)return n.payload.facetSet}).addCase(Ot,(t,n)=>{let r=n.payload.f||{};Object.keys(t).forEach(a=>{let i=t[a],o=r[a]||[];i.currentValues=o.map(ef),i.preventAutoSelect=o.length>0,i.numberOfValues=Math.max(o.length,i.numberOfValues)})}).addCase(uo,(t,n)=>{let{facetId:r,selection:a}=n.payload,i=t[r];if(!i)return;i.preventAutoSelect=!0;let o=i.currentValues.find(s=>s.value===a.value);if(!o){Zd(i,a);return}let l=o.state==="selected";o.state=l?"idle":"selected",i.freezeCurrentValues=!0}).addCase(sl,(t,n)=>{let{facetId:r,freezeCurrentValues:a}=n.payload,i=t[r];!i||(i.freezeCurrentValues=a)}).addCase(dn,(t,n)=>{let r=t[n.payload];po(r)}).addCase(Ja,t=>{Object.keys(t).forEach(n=>{let r=t[n];po(r)})}).addCase(nr,t=>{Object.keys(t).forEach(n=>{let r=t[n];po(r)})}).addCase(Qs,(t,n)=>Object.keys(t).forEach(r=>{t[r].preventAutoSelect=!n.payload.allow})).addCase(Rd,(t,n)=>{pl(t,n.payload)}).addCase(il,(t,n)=>{let{facetId:r,numberOfValues:a}=n.payload;jd(t[r],a)}).addCase(ol,(t,n)=>{let{facetId:r,isFieldExpanded:a}=n.payload,i=t[r];!i||(i.isFieldExpanded=a)}).addCase(pe.fulfilled,(t,n)=>{n.payload.response.facets.forEach(r=>Cl(t[r.facetId],r))}).addCase(ui.fulfilled,(t,n)=>{var r,a;(((a=(r=n.payload.response)==null?void 0:r.facets)==null?void 0:a.results)||[]).forEach(i=>Cl(t[i.facetId],i))}).addCase(Lr.fulfilled,(t,n)=>{n.payload.response.facets.forEach(r=>Cl(t[r.facetId],r))}).addCase(go,(t,n)=>{let{facetId:r,value:a}=n.payload,i=t[r];if(!i)return;let{rawValue:o}=a,{currentValues:l}=i,s=l.find(f=>f.value===o);if(s){s.state="selected";return}let u=ef(o);Zd(i,u),i.freezeCurrentValues=!0,i.preventAutoSelect=!0}).addCase(Zt,(t,n)=>{if(!(n.payload in t))return;let r=t[n.payload];po(r)})});function Zd(e,t){let{currentValues:n}=e,r=n.findIndex(l=>l.state==="idle"),a=r===-1?n.length:r,i=n.slice(0,a),o=n.slice(a+1);e.currentValues=[...i,t,...o],e.numberOfValues=e.currentValues.length}function Cl(e,t){!e||(e.currentValues=t.values.map(gy),e.freezeCurrentValues=!1,e.preventAutoSelect=!1)}var Xd={delimitingCharacter:">",filterFacetCount:!0,injectionDepth:1e3,numberOfValues:8,sortCriteria:"automatic"};function hy(e){return{...Xd,type:"specific",currentValues:[],freezeCurrentValues:!1,isFieldExpanded:!1,preventAutoSelect:!1,...e}}function gy(e){let{value:t,state:n}=e;return{value:t,state:n}}function ef(e){return{value:e,state:"selected"}}var tf={filterFacetCount:!0,injectionDepth:1e3,numberOfValues:8,sortCriteria:"ascending",rangeAlgorithm:"even"};function nf(e,t){let{facetId:n}=t;if(n in e)return;let r=lf(t);e[n]={...t,numberOfValues:r}}function rf(e,t,n){let r=e[t];!r||(r.currentValues=n,r.numberOfValues=lf(r))}function af(e,t,n){let r=e[t];if(!r)return;let a=Ol(r.currentValues,n);if(!a)return;let i=a.state==="selected";a.state=i?"idle":"selected",r.preventAutoSelect=!0}function ir(e,t){let n=e[t];!n||n.currentValues.forEach(r=>r.state="idle")}function of(e,t){Object.entries(e).forEach(([n,r])=>{let a=t[n]||[];r.currentValues.forEach(l=>{let s=!!Ol(a,l);return l.state=s?"selected":"idle",l});let i=a.filter(l=>!Ol(r.currentValues,l)),o=r.currentValues;o.push(...i),r.numberOfValues=Math.max(r.numberOfValues,o.length)})}function sf(e,t,n){t.forEach(r=>{let a=r.facetId,i=e[a];if(!i)return;let o=n(r.values);i.currentValues=o,i.preventAutoSelect=!1})}function Ol(e,t){let{start:n,end:r}=t;return e.find(a=>a.start===n&&a.end===r)}function lf(e){let{generateAutomaticRanges:t,currentValues:n,numberOfValues:r}=e;return t?Math.max(r,n.length):n.length}var my=ye(qa(),e=>{e.addCase(ti,(t,n)=>{let{payload:r}=n,a=vy(r);nf(t,a)}).addCase(Ct.fulfilled,(t,n)=>{var r,a;return(a=(r=n.payload)==null?void 0:r.dateFacetSet)!=null?a:t}).addCase(Ot,(t,n)=>{let r=n.payload.df||{};of(t,r)}).addCase(ni,(t,n)=>{let{facetId:r,selection:a}=n.payload;af(t,r,a)}).addCase(ri,(t,n)=>{let{facetId:r,values:a}=n.payload;rf(t,r,a)}).addCase(Ld,(t,n)=>{ir(t,n.payload)}).addCase(Ja,t=>{Object.keys(t).forEach(n=>{ir(t,n)})}).addCase(nr,t=>{Object.keys(t).forEach(n=>{ir(t,n)})}).addCase(kd,(t,n)=>{pl(t,n.payload)}).addCase(pe.fulfilled,(t,n)=>{let r=n.payload.response.facets;sf(t,r,yy)}).addCase(Zt,(t,n)=>{ir(t,n.payload)})});function vy(e){return{...tf,currentValues:[],preventAutoSelect:!1,type:"dateRange",...e}}function yy(e){return e.map(t=>{let{numberOfResults:n,...r}=t;return r})}var by=ye(Fa(),e=>{e.addCase(ai,(t,n)=>{let{payload:r}=n,a=Sy(r);nf(t,a)}).addCase(Ct.fulfilled,(t,n)=>{var r,a;return(a=(r=n.payload)==null?void 0:r.numericFacetSet)!=null?a:t}).addCase(Ot,(t,n)=>{let r=n.payload.nf||{};of(t,r)}).addCase(ii,(t,n)=>{let{facetId:r,selection:a}=n.payload;af(t,r,a)}).addCase(oi,(t,n)=>{let{facetId:r,values:a}=n.payload;rf(t,r,a)}).addCase(Pd,(t,n)=>{ir(t,n.payload)}).addCase(Ja,t=>{Object.keys(t).forEach(n=>{ir(t,n)})}).addCase(nr,t=>{Object.keys(t).forEach(n=>{ir(t,n)})}).addCase(_d,(t,n)=>{pl(t,n.payload)}).addCase(pe.fulfilled,(t,n)=>{let r=n.payload.response.facets;sf(t,r,wy)}).addCase(Zt,(t,n)=>{ir(t,n.payload)})});function Sy(e){return{...tf,currentValues:[],preventAutoSelect:!1,type:"numericalRange",...e}}function wy(e){return e.map(t=>{let{numberOfResults:n,...r}=t;return r})}var Cy=new tt({each:re,required:!0}),xl=T("fields/registerFieldsToInclude",e=>M(e,Cy)),uf=T("fields/fetchall/enable"),El=T("fields/fetchall/disable"),cf=Be("fields/description",async(e,{extra:t,getState:n,rejectWithValue:r})=>{let a=n(),{accessToken:i,organizationId:o}=a.configuration,{apiBaseUrl:l}=a.configuration.search,s=await t.apiClient.fieldDescriptions({accessToken:i,organizationId:o,url:l});return ft(s)?r(s.error):s.success.fields}),df={collectionField:new ne({emptyAllowed:!1,required:!1}),parentField:new ne({emptyAllowed:!1,required:!1}),childField:new ne({emptyAllowed:!1,required:!1}),numberOfFoldedResults:new we({min:0,required:!1})},$l=T("folding/register",e=>M(e,df)),vo=Be("folding/loadCollection",async(e,{getState:t,rejectWithValue:n,extra:{apiClient:r}})=>{let a=t(),i=await Bs(a),o=await r.search({...i,q:Oy(a),enableQuerySyntax:!0,cq:`@${a.folding.fields.collection}=${e}`,filterField:a.folding.fields.collection,childField:a.folding.fields.parent,parentField:a.folding.fields.child,filterFieldRange:100});return ft(o)?n(o.error):{collectionId:e,results:o.success.results,rootResult:a.folding.collections[e].result}});function Oy(e){return e.query.q===""?"":e.query.enableQuerySyntax?`${e.query.q} OR @uri`:`( <@- ${e.query.q} -@> ) OR @uri`}var ff=e=>ce("analytics/folding/showMore",le.Click,(t,n)=>(Gi(e),t.logShowMoreFoldedResults(Ji(e,n),js(e))))(),xy=ce("analytics/folding/showLess",le.Custom,e=>e.logShowLessFoldedResults()),Ey=ye(Zo(),e=>e.addCase(xl,(t,n)=>{t.fieldsToInclude=[...new Set(t.fieldsToInclude.concat(n.payload))]}).addCase(uf,t=>{t.fetchAllFields=!0}).addCase(El,t=>{t.fetchAllFields=!1}).addCase(cf.fulfilled,(t,{payload:n})=>{t.fieldsDescription=n}).addCase($l,(t,{payload:n})=>{var r,a,i;let o=os().fields;t.fieldsToInclude.push((r=n.collectionField)!=null?r:o.collection,(a=n.parentField)!=null?a:o.parent,(i=n.childField)!=null?i:o.child)}));function $y(e,t){return e.raw[t.collection]}function Il(e,t){return e.raw[t.parent]}function ci(e,t){let n=e.raw[t.child];return xc(n)?n[0]:n}function Iy(e,t){return(e||t)!==void 0&&e===t}function pf(e,t,n,r=[]){let a=ci(e,n);return a?r.indexOf(a)!==-1?[]:t.filter(i=>{let o=ci(i,n)===ci(e,n);return Il(i,n)===a&&!o}).map(i=>({result:i,children:pf(i,t,n,[...r,a])})):[]}function Ry(e,t){return e.find(n=>{let r=Il(n,t)===void 0,a=Iy(Il(n,t),ci(n,t));return r||a})}function hf(e){return e.parentResult?hf(e.parentResult):e}function Ay(e,t,n){var r;let a=Ec(e),i=(r=n??Ry(a,t))!=null?r:hf(e);return{result:i,children:pf(i,a,t),moreResultsAvailable:!0,isLoadingMoreResults:!1}}function Rl(e,t,n){let r={};return e.forEach(a=>{let i=$y(a,t);!i||!ci(a,t)&&!a.parentResult||(r[i]=Ay(a,t,n))}),r}function gf(e,t){if(!e.collections[t])throw new Error(`Missing collection ${t} from ${Object.keys(e.collections)}: Folding most probably in an invalid state...`);return e.collections[t]}var Ty=ye(os(),e=>e.addCase(pe.fulfilled,(t,{payload:n})=>{t.collections=t.enabled?Rl(n.response.results,t.fields):{}}).addCase(Za.fulfilled,(t,{payload:n})=>{t.collections=t.enabled?{...t.collections,...Rl(n.response.results,t.fields)}:{}}).addCase($l,(t,{payload:n})=>{var r,a,i,o;return t.enabled?t:{enabled:!0,collections:{},fields:{collection:(r=n.collectionField)!=null?r:t.fields.collection,parent:(a=n.parentField)!=null?a:t.fields.parent,child:(i=n.childField)!=null?i:t.fields.child},filterFieldRange:(o=n.numberOfFoldedResults)!=null?o:t.filterFieldRange}}).addCase(vo.pending,(t,{meta:n})=>{let r=n.arg;gf(t,r).isLoadingMoreResults=!0}).addCase(vo.rejected,(t,{meta:n})=>{let r=n.arg;gf(t,r).isLoadingMoreResults=!1}).addCase(vo.fulfilled,(t,{payload:{collectionId:n,results:r,rootResult:a}})=>{let i=Rl(r,t.fields,a);if(!i||!i[n])throw new Error(`Unable to create collection ${n} from received results: ${JSON.stringify(r)}. Folding most probably in an invalid state... `);t.collections[n]=i[n],t.collections[n].moreResultsAvailable=!1})),qy=ae(Ee());function Fy(e,t,n=(r,a)=>r===a){return e.length===t.length&&e.findIndex((r,a)=>!n(t[a],r))===-1}var mf=(0,qy.createCustomEqual)(e=>(t,n)=>Array.isArray(t)&&Array.isArray(n)?t.length!==n.length?!1:t.every(r=>n.findIndex(a=>e(r,a))!==-1):e(t,n)),ky=ye(xu(),e=>{e.addCase(qr,(t,n)=>Ly(t,n.payload)?void 0:n.payload)}),Ly=(e,t)=>_y(e.context,t.context)&&Py(e.dictionaryFieldContext,t.dictionaryFieldContext)&&zy(e.advancedSearchQueries,t.advancedSearchQueries)&&jy(e.tabSet,t.tabSet)&&My(e.staticFilterSet,t.staticFilterSet)&&Al(e.facetSet,t.facetSet)&&Al(e.dateFacetSet,t.dateFacetSet)&&Al(e.numericFacetSet,t.numericFacetSet)&&Dy(e.categoryFacetSet,t.categoryFacetSet)&&Ny(e.pagination,t.pagination)&&Vy(e.query,t.query)&&Uy(e,t)&&By(e.pipeline,t.pipeline)&&Hy(e.searchHub,t.searchHub)&&Qy(e.facetOrder,t.facetOrder)&&Wy(e.debug,t.debug),_y=(e,t)=>JSON.stringify(e.contextValues)===JSON.stringify(t.contextValues),Py=(e,t)=>JSON.stringify(e.contextValues)===JSON.stringify(t.contextValues),jy=(e,t)=>{let n=vf(e),r=vf(t);return(n==null?void 0:n.id)===(r==null?void 0:r.id)},vf=e=>Object.values(e).find(t=>t.isActive),My=(e,t)=>{for(let[n,r]of Object.entries(t)){if(!e[n])return!1;let a=yf(e[n]),i=yf(r);if(JSON.stringify(a)!==JSON.stringify(i))return!1}return!0},yf=e=>e.values.filter(t=>t.state!=="idle"),Al=(e,t)=>{for(let[n,r]of Object.entries(t)){if(!e[n])return!1;let a=e[n].currentValues.filter(o=>o.state==="selected"),i=r.currentValues.filter(o=>o.state==="selected");if(JSON.stringify(a)!==JSON.stringify(i))return!1}return!0},Dy=(e,t)=>{var n;for(let[r,a]of Object.entries(t)){if(!e[r])return!1;let i=wr((n=e[r])==null?void 0:n.request.currentValues).parents.map(({value:l})=>l),o=wr(a==null?void 0:a.request.currentValues).parents.map(({value:l})=>l);if(JSON.stringify(i)!==JSON.stringify(o))return!1}return!0},Ny=(e,t)=>e.firstResult===t.firstResult&&e.numberOfResults===t.numberOfResults,Vy=(e,t)=>JSON.stringify(e)===JSON.stringify(t),zy=(e,t)=>JSON.stringify(e)===JSON.stringify(t),Uy=(e,t)=>e.sortCriteria===t.sortCriteria,By=(e,t)=>e===t,Hy=(e,t)=>e===t,Qy=(e,t)=>Fy(e,t),Wy=(e,t)=>e===t,yo=1,Yy=5e3,Ky=ye(In(),e=>{e.addCase(Bc,(t,n)=>{let r=Tl(t),a=n.payload;t.defaultNumberOfResults=t.numberOfResults=a,t.firstResult=di(r,a)}).addCase(Hc,(t,n)=>{t.numberOfResults=n.payload,t.firstResult=0}).addCase(Qc,(t,n)=>{let r=n.payload;t.firstResult=di(r,t.numberOfResults)}).addCase(ro,(t,n)=>{let r=n.payload;t.firstResult=di(r,t.numberOfResults)}).addCase(Yc,t=>{let n=Tl(t),r=Math.max(n-1,yo);t.firstResult=di(r,t.numberOfResults)}).addCase(Wc,t=>{let n=Tl(t),r=Jy(t),a=Math.min(n+1,r);t.firstResult=di(a,t.numberOfResults)}).addCase(Ct.fulfilled,(t,n)=>{n.payload&&(t.numberOfResults=n.payload.pagination.numberOfResults,t.firstResult=n.payload.pagination.firstResult)}).addCase(Ot,(t,n)=>{var r,a;t.firstResult=(r=n.payload.firstResult)!=null?r:t.firstResult,t.numberOfResults=(a=n.payload.numberOfResults)!=null?a:t.defaultNumberOfResults}).addCase(pe.fulfilled,(t,n)=>{let{response:r}=n.payload;t.totalCountFiltered=r.totalCountFiltered}).addCase(ui.fulfilled,(t,n)=>{let{response:r}=n.payload;t.totalCountFiltered=r.pagination.totalCount}).addCase(dn,t=>{Ht(t)}).addCase(uo,t=>{Ht(t)}).addCase(lo,t=>{Ht(t)}).addCase(nl,t=>{Ht(t)}).addCase(gl,t=>{Ht(t)}).addCase(ni,t=>{Ht(t)}).addCase(ii,t=>{Ht(t)}).addCase(Ja,t=>{Ht(t)}).addCase(nr,t=>{Ht(t)}).addCase(ri,t=>{Ht(t)}).addCase(oi,t=>{Ht(t)}).addCase(go,t=>{Ht(t)})});function Ht(e){e.firstResult=In().firstResult}function Tl(e){let{firstResult:t,numberOfResults:n}=e;return bf(t,n)}function Jy(e){let{totalCountFiltered:t,numberOfResults:n}=e;return Sf(t,n)}function di(e,t){return(e-1)*t}function bf(e,t){return e/t+1}function Sf(e,t){let n=Math.min(e,Yy);return Math.ceil(n/t)}var wf=T("pipeline/set",e=>M(e,new ne({required:!0,emptyAllowed:!0}))),Gy=ye(Xr(),e=>{e.addCase(wf,(t,n)=>n.payload).addCase(Ct.fulfilled,(t,n)=>{var r,a;return(a=(r=n.payload)==null?void 0:r.pipeline)!=null?a:t}).addCase(fa,(t,n)=>n.payload.pipeline||t)});ye(Ho(),e=>{e.addCase(oy,(t,n)=>{t.url=n.payload.url}).addCase(sy,(t,n)=>{t.additionalFields=n.payload.additionalFields}).addCase(ui.rejected,(t,n)=>{t.error=n.payload?n.payload:null,t.isLoading=!1}).addCase(ui.fulfilled,(t,n)=>{t.error=null,t.facets=n.payload.response.facets,t.products=n.payload.response.products,t.responseId=n.payload.response.responseId,t.isLoading=!1}).addCase(ui.pending,t=>{t.isLoading=!0})}),ye(Ks(),e=>{e.addCase(Hm,(t,n)=>{t.id=n.payload.id}).addCase(Qm,(t,n)=>{t.skus=n.payload.skus}).addCase(Wm,(t,n)=>{t.filter.brand=n.payload.brand}).addCase(Ym,(t,n)=>{t.filter.category=n.payload.category}).addCase(Jm,(t,n)=>{t.maxNumberOfRecommendations=n.payload.number}).addCase(Km,(t,n)=>{t.additionalFields=n.payload.additionalFields}).addCase(io.rejected,(t,n)=>{t.error=n.payload?n.payload:null,t.isLoading=!1}).addCase(io.fulfilled,(t,n)=>{t.error=null,t.searchUid=n.payload.searchUid,t.recommendations=n.payload.recommendations,t.isLoading=!1}).addCase(io.pending,t=>{t.isLoading=!0})});var Cf={id:re,query:wt},ql=T("querySet/register",e=>M(e,Cf)),fi=T("querySet/update",e=>M(e,Cf)),pi={id:re},Fl=T("querySuggest/register",e=>M(e,{...pi,q:new ne,count:new we({min:0})})),Zy=T("querySuggest/unregister",e=>M(e,pi)),ha=T("querySuggest/selectSuggestion",e=>M(e,{...pi,expression:wt})),hi=T("querySuggest/clear",e=>M(e,pi)),gi=Be("querySuggest/fetch",async(e,{getState:t,rejectWithValue:n,extra:{apiClient:r,validatePayload:a}})=>{a(e,pi);let i=e.id,o=await Xy(i,t()),l=await r.querySuggest(o);return ft(l)?n(l.error):{id:i,q:o.q,...l.success}}),Xy=async(e,t)=>{var n;return{accessToken:t.configuration.accessToken,organizationId:t.configuration.organizationId,url:t.configuration.search.apiBaseUrl,count:t.querySuggest[e].count,q:(n=t.querySet)==null?void 0:n[e],locale:t.configuration.search.locale,timezone:t.configuration.search.timezone,actionsHistory:t.configuration.analytics.enabled?Kr.getHistory():[],...t.context&&{context:t.context.contextValues},...t.pipeline&&{pipeline:t.pipeline},...t.searchHub&&{searchHub:t.searchHub},...t.configuration.analytics.enabled&&{visitorId:await un(),...t.configuration.analytics.enabled&&await _i(t.configuration.analytics)}}},eb=ye(Yo(),e=>{e.addCase(ql,(t,n)=>{let{id:r,query:a}=n.payload;r in t||(t[r]=a)}).addCase(fi,(t,n)=>{let{id:r,query:a}=n.payload;kl(t,r,a)}).addCase(ha,(t,n)=>{let{id:r,expression:a}=n.payload;kl(t,r,a)}).addCase(pe.fulfilled,(t,n)=>{let{queryExecuted:r}=n.payload;Of(t,r)}).addCase(Ot,(t,n)=>{De(n.payload.q)||Of(t,n.payload.q)}).addCase(Ct.fulfilled,(t,n)=>{if(n.payload)for(let[r,a]of Object.entries(n.payload.querySet))kl(t,r,a)})});function Of(e,t){Object.keys(e).forEach(n=>e[n]=t)}var kl=(e,t,n)=>{t in e&&(e[t]=n)},tb=()=>({}),nb=ye(tb(),e=>e.addCase(Fl,(t,n)=>{let r=n.payload.id;r in t||(t[r]=rb(n.payload))}).addCase(Zy,(t,n)=>{delete t[n.payload.id]}).addCase(gi.pending,(t,n)=>{let r=t[n.meta.arg.id];!r||(r.currentRequestId=n.meta.requestId,r.isLoading=!0)}).addCase(gi.fulfilled,(t,n)=>{let r=t[n.meta.arg.id];if(!r||n.meta.requestId!==r.currentRequestId)return;let{q:a}=n.payload;a&&r.partialQueries.push(a.replace(/;/,encodeURIComponent(";"))),r.responseId=n.payload.responseId,r.completions=n.payload.completions,r.isLoading=!1,r.error=null}).addCase(gi.rejected,(t,n)=>{let r=t[n.meta.arg.id];!r||(r.error=n.payload||null,r.isLoading=!1)}).addCase(fi,(t,n)=>{let{id:r,query:a}=n.payload;r in t&&xf(t[r],a)}).addCase(hi,(t,n)=>{let r=t[n.payload.id];!r||(r.responseId="",r.completions=[],r.partialQueries=[])}).addCase(ha,(t,n)=>{let{id:r,expression:a}=n.payload,i=t[r];!i||(i.q=a)}).addCase(Ot,(t,n)=>{De(n.payload.q)||Ef(t,n.payload.q)}).addCase(pe.fulfilled,(t,n)=>{let{queryExecuted:r}=n.payload;Ef(t,r)}));function xf(e,t){e.q=t}function Ef(e,t){Object.keys(e).forEach(n=>xf(e[n],t))}function rb(e){return{id:"",completions:[],responseId:"",count:5,q:"",currentRequestId:"",error:null,partialQueries:[],isLoading:!1,...e}}var ab=ye(jt(),e=>e.addCase(Ka,(t,n)=>({...t,...n.payload})).addCase(Xi,(t,n)=>{t.q=n.payload}).addCase(ha,(t,n)=>{t.q=n.payload.expression}).addCase(Ct.fulfilled,(t,n)=>{var r,a;return(a=(r=n.payload)==null?void 0:r.query)!=null?a:t}).addCase(Ot,(t,n)=>{var r,a;t.q=(r=n.payload.q)!=null?r:t.q,t.enableQuerySyntax=(a=n.payload.enableQuerySyntax)!=null?a:t.enableQuerySyntax})),ib=()=>new $e({values:{documentId:new $e({values:{contentIdKey:re,contentIdValue:re}})},options:{required:!0}}),$f=()=>new $e({values:{questionAnswerId:re},options:{required:!0}});function bo(e){return!("contentIdKey"in e||"contentIdValue"in e)}function So(e){return bo(e)?M(e,$f()):M(e,ib())}var If=T("smartSnippet/expand"),Rf=T("smartSnippet/collapse"),Af=T("smartSnippet/like"),Tf=T("smartSnippet/dislike"),qf=T("smartSnippet/feedbackModal/open"),wo=T("smartSnippet/feedbackModal/close"),Ff=T("smartSnippet/related/expand",e=>So(e)),kf=T("smartSnippet/related/collapse",e=>So(e)),Lf=(e,t)=>e.findIndex(n=>bo(t)?n.questionAnswerId===t.questionAnswerId:n.contentIdValue===t.contentIdValue&&n.contentIdKey===t.contentIdKey);function _f({question:e,answerSnippet:t,documentId:{contentIdKey:n,contentIdValue:r}}){return Gg(JSON.stringify({question:e,answerSnippet:t,contentIdKey:n,contentIdValue:r}))}function ob(e,t){let n=_f(e);return t&&n===t.questionAnswerId?t:{contentIdKey:e.documentId.contentIdKey,contentIdValue:e.documentId.contentIdValue,expanded:!1,questionAnswerId:n}}var sb=ye(ss(),e=>e.addCase(If,t=>{t.expanded=!0}).addCase(Rf,t=>{t.expanded=!1}).addCase(Af,t=>{t.liked=!0,t.disliked=!1,t.feedbackModalOpen=!1}).addCase(Tf,t=>{t.liked=!1,t.disliked=!0}).addCase(qf,t=>{t.feedbackModalOpen=!0}).addCase(wo,t=>{t.feedbackModalOpen=!1}).addCase(pe.fulfilled,(t,n)=>{let r=n.payload.response.questionAnswer.relatedQuestions.map((i,o)=>ob(i,t.relatedQuestions[o])),a=_f(n.payload.response.questionAnswer);return t.questionAnswerId===a?{...t,relatedQuestions:r}:{...ss(),relatedQuestions:r,questionAnswerId:a}}).addCase(Ff,(t,n)=>{let r=Lf(t.relatedQuestions,n.payload);r!==-1&&(t.relatedQuestions[r].expanded=!0)}).addCase(kf,(t,n)=>{let r=Lf(t.relatedQuestions,n.payload);r!==-1&&(t.relatedQuestions[r].expanded=!1)})),lb={results:new tt({required:!0,each:new $e({values:Ms})}),maxLength:new we({required:!0,min:1,default:10})},ub=T("recentResults/registerRecentResults",e=>M(e,lb)),Co=T("recentResults/pushRecentResult",e=>(Gi(e),{payload:e})),cb=T("recentResults/clearRecentResults");ye(Iu(),e=>{e.addCase(ub,(t,n)=>{t.results=n.payload.results.slice(0,n.payload.maxLength),t.maxLength=n.payload.maxLength}).addCase(cb,t=>{t.results=[]}).addCase(Co,(t,n)=>{let r=n.payload;t.results=t.results.filter(i=>i.uniqueId!==r.uniqueId);let a=t.results.slice(0,t.maxLength-1);t.results=[r,...a]})});var db={queries:new tt({required:!0,each:new ne({emptyAllowed:!1})}),maxLength:new we({required:!0,min:1,default:10})},Pf=T("recentQueries/registerRecentQueries",e=>M(e,db)),jf=T("recentQueries/clearRecentQueries"),fb=ye(Ru(),e=>{e.addCase(Pf,(t,n)=>{t.queries=n.payload.queries.slice(0,n.payload.maxLength),t.maxLength=n.payload.maxLength}).addCase(jf,t=>{t.queries=[]}).addCase(pe.fulfilled,(t,n)=>{let r=n.payload.queryExecuted.trim();if(!r.length)return;t.queries=t.queries.filter(i=>i!==r);let a=t.queries.slice(0,t.maxLength-1);t.queries=[r,...a]})});ye(Ya(),e=>{e.addCase(sm,(t,n)=>{t.id=n.payload.id}).addCase(Zi.rejected,(t,n)=>{t.error=n.payload?n.payload:null,t.isLoading=!1}).addCase(Zi.fulfilled,(t,n)=>{t.error=null,t.recommendations=n.payload.recommendations,t.duration=n.payload.duration,t.isLoading=!1,t.searchUid=n.payload.searchUid}).addCase(Zi.pending,t=>{t.isLoading=!0})});function pb(e){return e.type==="redirect"}var Mf=class{constructor(e){this.response=e}get basicExpression(){return this.response.parsedInput.basicExpression}get largeExpression(){return this.response.parsedInput.largeExpression}get redirectionUrl(){let e=this.response.preprocessingOutput.triggers.filter(pb);return e.length?e[0].content:null}},hb=ce("analytics/redirection",le.Search,(e,t)=>{var n;if((n=t.redirection)==null?void 0:n.redirectTo)return e.logTriggerRedirect({redirectedTo:t.redirection.redirectTo})}),Df=T("standaloneSearchBox/register",e=>M(e,{id:re,redirectionUrl:re})),Nf=T("standaloneSearchBox/updateAnalyticsToSearchFromLink",e=>M(e,{id:re})),Vf=T("standaloneSearchBox/updateAnalyticsToOmniboxFromLink"),Oo=Be("standaloneSearchBox/fetchRedirect",async(e,{dispatch:t,getState:n,rejectWithValue:r,extra:{apiClient:a,validatePayload:i}})=>{i(e,{id:new ne({emptyAllowed:!1})});let o=await zf(n()),l=await a.plan(o);if(ft(l))return r(l.error);let{redirectionUrl:s}=new Mf(l.success);return s&&t(gb(s)),s||""}),gb=e=>ce("analytics/standaloneSearchBox/redirect",le.Custom,t=>t.logTriggerRedirect({redirectedTo:e}))(),zf=async e=>({accessToken:e.configuration.accessToken,organizationId:e.configuration.organizationId,url:e.configuration.search.apiBaseUrl,locale:e.configuration.search.locale,timezone:e.configuration.search.timezone,q:e.query.q,...e.context&&{context:e.context.contextValues},...e.pipeline&&{pipeline:e.pipeline},...e.searchHub&&{searchHub:e.searchHub},...e.configuration.analytics.enabled&&{visitorId:await un()},...e.configuration.analytics.enabled&&await _i(e.configuration.analytics)}),mb=Be("redirection/check",async(e,{dispatch:t,getState:n,rejectWithValue:r,extra:{apiClient:a,validatePayload:i}})=>{i(e,{defaultRedirectionUrl:new ne({emptyAllowed:!1})});let o=await a.plan(await zf(n()));if(ft(o))return r(o.error);let l=new Mf(o.success).redirectionUrl;return l&&t(hb()),l||e.defaultRedirectionUrl});ye(mu(),e=>e.addCase(mb.fulfilled,(t,n)=>{t.redirectTo=n.payload}));async function vb(e,t){var n;let{search:r,accessToken:a,organizationId:i,analytics:o}=e.configuration,l=((n=e.query)==null?void 0:n.q)||"";return{url:r.apiBaseUrl,accessToken:a,organizationId:i,enableNavigation:!1,...o.enabled&&{visitorId:await un()},q:l,...t,requestedOutputSize:t.requestedOutputSize||0}}var Uf=Be("resultPreview/fetchResultContent",async(e,{extra:t,getState:n,rejectWithValue:r})=>{let a=n(),i=await vb(a,e),o=await t.apiClient.html(i);return ft(o)?r(o.error):{content:o.success,uniqueId:e.uniqueId}});ye(is(),e=>{e.addCase(Uf.pending,t=>{t.isLoading=!0}).addCase(Uf.fulfilled,(t,n)=>{let{content:r,uniqueId:a}=n.payload;t.content=r,t.uniqueId=a,t.isLoading=!1})});var Ll=T("searchHub/set",e=>M(e,new ne({required:!0,emptyAllowed:!0}))),yb=ye(Kn(),e=>{e.addCase(Ll,(t,n)=>n.payload).addCase(Ct.fulfilled,(t,n)=>{var r,a;return(a=(r=n.payload)==null?void 0:r.searchHub)!=null?a:t}).addCase(fa,(t,n)=>n.payload.searchHub||t)});function _l(e,t){var n;let r=(n=t.payload)!=null?n:null;r&&(e.response=Yn().response,e.results=[]),e.error=r,e.isLoading=!1}function Pl(e,t){e.error=null,e.response=t.payload.response,e.queryExecuted=t.payload.queryExecuted,e.duration=t.payload.duration,e.isLoading=!1}function jl(e,t){e.isLoading=!0,e.requestId=t.meta.requestId}var bb=ye(Yn(),e=>{e.addCase(pe.rejected,(t,n)=>_l(t,n)),e.addCase(Za.rejected,(t,n)=>_l(t,n)),e.addCase(kr.rejected,(t,n)=>_l(t,n)),e.addCase(pe.fulfilled,(t,n)=>{Pl(t,n),t.results=n.payload.response.results,t.searchResponseId=n.payload.response.searchUid}),e.addCase(Za.fulfilled,(t,n)=>{Pl(t,n),t.results=[...t.results,...n.payload.response.results]}),e.addCase(kr.fulfilled,(t,n)=>{Pl(t,n),t.results=n.payload.response.results}),e.addCase(Lr.fulfilled,(t,n)=>{t.response.facets=n.payload.response.facets,t.response.searchUid=n.payload.response.searchUid}),e.addCase(pe.pending,jl),e.addCase(Za.pending,jl),e.addCase(kr.pending,jl)}),Bf={by:new ji({enum:Or,required:!0})},Hf=T("sortCriteria/register",e=>Wf(e)),Qf=T("sortCriteria/update",e=>Wf(e)),Wf=e=>Jo(e)?(e.forEach(t=>M(t,Bf)),{payload:e}):M(e,Bf),Sb=ye(Gr(),e=>{e.addCase(Hf,(t,n)=>Pa(n.payload)).addCase(Qf,(t,n)=>Pa(n.payload)).addCase(Ct.fulfilled,(t,n)=>{var r,a;return(a=(r=n.payload)==null?void 0:r.sortCriteria)!=null?a:t}).addCase(Ot,(t,n)=>{var r;return(r=n.payload.sortCriteria)!=null?r:t})}),wb=ye($u(),e=>e.addCase(Df,(t,n)=>{let{id:r,redirectionUrl:a}=n.payload;r in t||(t[r]=Cb(a))}).addCase(Oo.pending,(t,n)=>{let r=t[n.meta.arg.id];!r||(r.isLoading=!0)}).addCase(Oo.fulfilled,(t,n)=>{let r=n.payload,a=t[n.meta.arg.id];!a||(a.redirectTo=r||a.defaultRedirectionUrl,a.isLoading=!1)}).addCase(Oo.rejected,(t,n)=>{let r=t[n.meta.arg.id];!r||(r.isLoading=!1)}).addCase(Nf,(t,n)=>{let r=t[n.payload.id];!r||(r.analytics.cause="searchFromLink")}).addCase(Vf,(t,n)=>{let r=t[n.payload.id];!r||(r.analytics.cause="omniboxFromLink",r.analytics.metadata=n.payload.metadata)}));function Cb(e){return{defaultRedirectionUrl:e,redirectTo:"",isLoading:!1,analytics:{cause:"",metadata:null}}}ye(Eu(),e=>e.addCase(pe.fulfilled,(t,n)=>{var r,a,i,o;let l=[],s=[],u=[],f=[];n.payload.response.triggers.forEach(c=>{switch(c.type){case"redirect":l.push(c.content);break;case"query":s.push(c.content);break;case"execute":u.push({functionName:c.content.name,params:c.content.params});break;case"notify":f.push(c.content);break}}),t.redirectTo=(r=l[0])!=null?r:"",t.query=(a=s[0])!=null?a:"",t.execute=(i=u[0])!=null?i:{functionName:"",params:[]},t.executions=u,t.notification=(o=f[0])!=null?o:"",t.notifications=f}));var Ob={by:new ji({enum:oo,required:!0})},xb=T("sort/register",e=>Yf(e)),Eb=T("sort/update",e=>Yf(e)),Yf=e=>M(e,Ob);ye(ud(),e=>{e.addCase(xb,(t,n)=>n.payload).addCase(Eb,(t,n)=>n.payload)});var $b=T("dictionaryFieldContext/set",e=>{let t=new $e({options:{required:!0}}),n=M(e,t).error;if(n)return{payload:e,error:n};let r=Object.values(e),a=new tt({each:wt}),i=M(r,a).error;return i?{payload:e,error:i}:{payload:e}}),Ib=T("dictionaryFieldContext/add",e=>{let t=new $e({options:{required:!0},values:{field:wt,key:wt}});return M(e,t)}),Rb=T("dictionaryFieldContext/remove",e=>M(e,wt));ye(Ma(),e=>{e.addCase($b,(t,n)=>{t.contextValues=n.payload}).addCase(Ib,(t,n)=>{let{field:r,key:a}=n.payload;t.contextValues[r]=a}).addCase(Rb,(t,n)=>{delete t.contextValues[n.payload]}).addCase(Ct.fulfilled,(t,n)=>{!n.payload||(t.contextValues=n.payload.dictionaryFieldContext.contextValues)})}),ye(as(),e=>{e.addCase(Ov,(t,n)=>{let r=n.payload,{id:a}=r;a in t||(t[a]={...r,isActive:!1})}).addCase(Cd,(t,n)=>{let r=n.payload;Kf(t,r)}).addCase(Ot,(t,n)=>{let r=n.payload.tab||"";Kf(t,r)})});function Kf(e,t){t in e&&Object.keys(e).forEach(n=>{e[n].isActive=n===t})}var Ml=re,Jf=new $e({options:{required:!0},values:{caption:wt,expression:wt,state:new ne({constrainTo:["idle","selected"]})}}),Ab=new tt({required:!0,each:Jf}),Tb=T("staticFilter/register",e=>M(e,{id:Ml,values:Ab})),Gf=T("staticFilter/toggleSelect",e=>M(e,{id:Ml,value:Jf})),qb=T("staticFilter/deselectAllFilterValues",e=>M(e,Ml)),Fb=e=>ce("analytics/staticFilter/deselect",le.Search,t=>t.logStaticFilterDeselect(e))();ye(rs(),e=>e.addCase(Tb,(t,n)=>{let r=n.payload,{id:a}=r;a in t||(t[a]=r)}).addCase(Gf,(t,n)=>{let{id:r,value:a}=n.payload,i=t[r];if(!i)return;let o=i.values.find(s=>s.caption===a.caption);if(!o)return;let l=o.state==="selected";o.state=l?"idle":"selected"}).addCase(qb,(t,n)=>{let r=n.payload,a=t[r];!a||a.values.forEach(i=>i.state="idle")}).addCase(nr,t=>{Object.values(t).forEach(n=>{n.values.forEach(r=>r.state="idle")})}).addCase(Ot,(t,n)=>{let r=n.payload.sf||{};Object.entries(t).forEach(([a,i])=>{let o=r[a]||[];i.values.forEach(l=>{l.state=o.includes(l.caption)?"selected":"idle"})})}));var kb=T("caseAssistConfiguration/set",e=>M(e,{caseAssistId:re,locale:lt}));ye(cd(),e=>{e.addCase(kb,(t,n)=>{t.caseAssistId=n.payload.caseAssistId,t.locale=n.payload.locale})});var Lb=T("caseAssist/caseInput/update",e=>M(e,{fieldName:re,fieldValue:wt}));ye(fd(),e=>{e.addCase(Lb,(t,n)=>{t[n.payload.fieldName]={value:n.payload.fieldValue}})});var Zf=e=>Object.keys(e).filter(t=>e[t].value!=="").reduce((t,n)=>({...t,[n]:e[n].value}),{}),_b=T("caseAssist/caseField/register",e=>M(e,{fieldName:re,fieldValue:wt})),Pb=T("caseAssist/caseField/update",e=>M(e,{fieldName:re,fieldValue:wt})),Dl=Be("caseAssist/classifications/fetch",async(e,{getState:t,rejectWithValue:n,extra:{apiClient:r}})=>{let a=t(),i=await r.getCaseClassifications(await jb(a));return ft(i)?n(i.error):{response:i.success}}),jb=async e=>({accessToken:e.configuration.accessToken,organizationId:e.configuration.organizationId,url:e.configuration.platformUrl,caseAssistId:e.caseAssistConfiguration.caseAssistId,...e.configuration.analytics.enabled&&{visitorId:await un()},fields:e.caseInput,context:e.caseField?Zf(e.caseField.fields):void 0,locale:e.caseAssistConfiguration.locale,debug:e.debug});ye(dd(),e=>{e.addCase(_b,(t,n)=>{let{fieldName:r,fieldValue:a}=n.payload;t.fields[r]={value:a,suggestions:[]}}).addCase(Pb,(t,n)=>{let{fieldName:r,fieldValue:a}=n.payload;t.fields[r].value=a}).addCase(Dl.rejected,(t,n)=>{var r;t.status.error=(r=n.payload)!=null?r:null,t.status.loading=!1}).addCase(Dl.fulfilled,(t,n)=>{let r={value:"",suggestions:[]};Object.entries(n.payload.response.fields).forEach(([a,i])=>{t.fields[a]||(t.fields[a]={...r}),t.fields[a].suggestions=i.predictions}),t.status.lastResponseId=n.payload.response.responseId,t.status.error=null,t.status.loading=!1}).addCase(Dl.pending,t=>{t.status.loading=!0})});var Nl=Be("caseAssist/documentSuggestions/fetch",async(e,{getState:t,rejectWithValue:n,extra:{apiClient:r}})=>{let a=t(),i=await r.getDocumentSuggestions(await Mb(a));return ft(i)?n(i.error):{response:i.success}}),Mb=async e=>({accessToken:e.configuration.accessToken,organizationId:e.configuration.organizationId,url:e.configuration.platformUrl,caseAssistId:e.caseAssistConfiguration.caseAssistId,...e.configuration.analytics.enabled&&{visitorId:await un()},fields:e.caseInput,context:e.caseField?Zf(e.caseField.fields):void 0,locale:e.caseAssistConfiguration.locale,debug:e.debug});ye(pd(),e=>{e.addCase(Nl.rejected,(t,n)=>{var r;t.status.error=(r=n.payload)!=null?r:null,t.status.loading=!1}).addCase(Nl.fulfilled,(t,n)=>{t.documents=n.payload.response.documents,t.status.lastResponseId=n.payload.response.responseId,t.status.error=null,t.status.loading=!1}).addCase(Nl.pending,t=>{t.status.loading=!0})});var Db=T("excerptLength/set",e=>M(e,new we({min:0,required:!0})));ye(Au(),e=>{e.addCase(Db,(t,n)=>{t.length=n.payload})});var Nb=ye(ns(),e=>{e.addCase(Kc,(t,n)=>{let{id:r}=n.payload;t[r]||(t[r]={q:"",cache:{}})}),e.addCase(Ys,(t,n)=>{let{q:r,id:a}=n.payload;!r||(t[a].q=r)}),e.addCase(Jc,(t,n)=>{let{id:r}=n.payload;Object.entries(t[r].cache).forEach(([a,i])=>{Ou(i)&&delete t[r].cache[a]})}),e.addCase(ao.pending,(t,n)=>{if(!xo(t,n.meta))Vb(t,n.meta);else{let r=xo(t,n.meta);r.isLoading=!0,r.error=null}}),e.addCase(ao.fulfilled,(t,n)=>{let{results:r}=n.payload,{cacheTimeout:a}=n.meta.arg,i=xo(t,n.meta);i.isLoading=!1,i.error=null,i.results=r,i.expiresAt=a?a+Date.now():0}),e.addCase(ao.rejected,(t,n)=>{let r=xo(t,n.meta);r.error=n.error||null,r.isLoading=!1})}),Vb=(e,t)=>{let{q:n,id:r}=t.arg;e[r].cache[n]={isLoading:!0,error:null,results:[],expiresAt:0}},xo=(e,t)=>{let{q:n,id:r}=t.arg;return e[r].cache[n]||null},zb=T("insightConfiguration/set",e=>M(e,{insightId:re}));ye(ov(),e=>{e.addCase(zb,(t,n)=>{t.insightId=n.payload.insightId})});var Vl=Be("insight/interface/fetch",async(e,{getState:t,dispatch:n,rejectWithValue:r,extra:{apiClient:a}})=>{let i=t(),o=await a.getInterface(Ub(i));return ft(o)?r(o.error):(n(Ll(o.success.searchHub)),{response:o.success})}),Ub=e=>({accessToken:e.configuration.accessToken,organizationId:e.configuration.organizationId,url:e.configuration.platformUrl,insightId:e.insightConfiguration.insightId});ye(sv(),e=>{e.addCase(Vl.pending,t=>{t.loading=!0,t.error=void 0}).addCase(Vl.rejected,(t,n)=>{t.loading=!1,t.error=n.payload}).addCase(Vl.fulfilled,(t,n)=>{t.loading=!1,t.error=void 0;let{searchHub:r,...a}=n.payload.response;t.config=a})});var He=Ev,Eo=Ky,zl=py,Xf=iy,nt=bb,Bb=Ty,mi=my,Hb=Jv,ga=by,Ul=Bv,or=Vv,ep=ay,$o=ab,tp=eb,Qb=Nb,Bl=nb,Wb=Sb,Yb=Fv,Hl=Ey,np=Gy,rp=yb,ap=Tv,Kb=qv,Ql=sb,Jb=wb,Gb=fb,Zb=$h({actionTypes:{redo:Tc.type,undo:Ac.type,snapshot:qr.type},reducer:ky});function ip(e,t,n){var r,a,i;t===void 0&&(t=50),n===void 0&&(n={});var o=(r=n.isImmediate)!=null&&r,l=(a=n.callback)!=null&&a,s=n.maxWait,u=Date.now(),f=[];function c(){if(s!==void 0){var m=Date.now()-u;if(m+t>=s)return s-m}return t}var g=function(){var m=[].slice.call(arguments),v=this;return new Promise(function(p,y){var b=o&&i===void 0;if(i!==void 0&&clearTimeout(i),i=setTimeout(function(){if(i=void 0,u=Date.now(),!o){var E=e.apply(v,m);l&&l(E),f.forEach(function(_){return(0,_.resolve)(E)}),f=[]}},c()),b){var C=e.apply(v,m);return l&&l(C),p(C)}f.push({resolve:p,reject:y})})};return g.cancel=function(m){i!==void 0&&clearTimeout(i),f.forEach(function(v){return(0,v.reject)(m)}),f=[]},g}function Xb(e,t){let n=0,r=ip(()=>n=0,500);return a=>i=>async o=>{if(typeof o!="function")return i(o);let l=await i(o);if(!eS(l))return l;if(typeof t!="function")return e.warn("Unable to renew the expired token because a renew function was not provided. Please specify the #renewAccessToken option when initializing the engine."),l;if(n>=5)return e.warn("Attempted to renew the token but was not successful. Please check the #renewAccessToken function."),l;n++,r();let s=await tS(t);a.dispatch(Xs({accessToken:s})),a.dispatch(o)}}function eS(e){var t;return((t=e.error)==null?void 0:t.name)===new vn().name}async function tS(e){try{return await e()}catch{return""}}var nS={configuration:He,version:Kb};function rS(e,t){let n=aS(e,t),{accessToken:r,organizationId:a,platformUrl:i,analytics:o}=e.configuration;if(n.dispatch(Xs({accessToken:r,organizationId:a,platformUrl:i})),o){let{analyticsClientMiddleware:l,...s}=o;n.dispatch(el(s))}return n}function aS(e,t){let{reducers:n}=e,r=bv({...nS,...n});e.crossReducer&&r.addCrossReducer(e.crossReducer);let a=t.logger,i=iS(e,t,r);return{addReducers(o){r.containsAll(o)||(r.add(o),i.replaceReducer(r.combinedReducer))},dispatch:i.dispatch,subscribe:i.subscribe,enableAnalytics(){i.dispatch(Sd())},disableAnalytics(){i.dispatch(bd())},get state(){return i.getState()},logger:a,store:i}}function iS(e,t,n){let{preloadedState:r,configuration:a}=e,i=a.name||"coveo-headless",o=oS(e,t.logger);return Sv({preloadedState:r,reducer:n.combinedReducer,middlewares:o,thunkExtraArguments:t,name:i})}function oS(e,t){let{renewAccessToken:n}=e.configuration;return[Xb(t,n),rd(t),nd].concat(e.middlewares||[])}var sS=ae(qn());function lS(e){return(0,sS.default)({name:"@coveo/headless",level:(e==null?void 0:e.level)||"warn",formatters:{log:e==null?void 0:e.logFormatter},browser:{transmit:{send:(e==null?void 0:e.browserPostLogHook)||(()=>{})}}})}function uS(e,t){let n=cS(e),r=er,a=dS(e);return{analyticsClientMiddleware:n,validatePayload:r,preprocessRequest:a,logger:t}}function cS(e){let{analytics:t}=e,n=(r,a)=>a;return(t==null?void 0:t.analyticsClientMiddleware)||n}function dS(e){return e.preprocessRequest||Js}var fS={organizationId:re,accessToken:re,platformUrl:new ne({required:!1,emptyAllowed:!1}),name:new ne({required:!1,emptyAllowed:!1}),analytics:new $e({options:{required:!1},values:{enabled:new Ne({required:!1}),originContext:new ne({required:!1}),originLevel2:new ne({required:!1}),originLevel3:new ne({required:!1})}})},pS=new at({...fS,search:new $e({options:{required:!1},values:{pipeline:lt,searchHub:lt,locale:lt,timezone:lt}})}),hS=ce("analytics/interface/load",le.Search,e=>e.logInterfaceLoad()),Wl=ce("analytics/interface/change",le.Search,(e,t)=>e.logInterfaceChange({interfaceChangeTo:t.configuration.analytics.originLevel2})),gS=ce("analytics/interface/searchFromLink",le.Search,e=>e.logSearchFromLink()),mS=e=>ce("analytics/interface/omniboxFromLink",le.Search,t=>t.logOmniboxFromLink(e))(),sr=(e,t)=>{let n=e;return De(n[t])?De(e.raw[t])?null:e.raw[t]:n[t]},vS=e=>t=>e.every(n=>!De(sr(t,n))),yS=e=>t=>e.every(n=>De(sr(t,n))),bS=(e,t)=>n=>{let r=op(e,n);return t.some(a=>r.some(i=>`${i}`.toLowerCase()===a.toLowerCase()))},SS=(e,t)=>n=>{let r=op(e,n);return t.every(a=>r.every(i=>`${i}`.toLowerCase()!==a.toLowerCase()))},op=(e,t)=>{let n=sr(t,e);return xc(n)?n:[n]};function sp(e){return e.search.response.searchUid!==""}function wS(e,t,n){var r;return(r=e.search.results.find(a=>sr(a,t)===n))!=null?r:null}var CS=ae(mn()),Yl=(e,t,n,r,a,i)=>{let o=e[t];De(o)||n!==o&&(De(a)||a!==o&&a!==r&&(i.warn(`Mismatch on access token (JWT Token) ${t} and engine configuration.`),i.warn(`To remove this warning, make sure that access token value [${o}] matches engine configuration value [${n}]`)))},Kl=(e,t)=>!(De(e)||t===e),Io=e=>{try{let t=typeof atob!="undefined"?atob:CS.atob,n=e.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),r=t(n);if(!r)return!1;let a=decodeURIComponent(r.split("").map(i=>"%"+("00"+i.charCodeAt(0).toString(16)).slice(-2)).join(""));return JSON.parse(a)}catch{return!1}},lp=(e,t,n,r)=>(Yl(e,"searchHub",t.searchHub,Kn(),n,r),Kl(e.searchHub,t.searchHub)&&(t.searchHub=e.searchHub),t),up=(e,t,n,r)=>(Yl(e,"pipeline",t.pipeline,Xr(),n,r),Kl(e.pipeline,t.pipeline)&&(t.pipeline=e.pipeline),t),OS=(e,t,n,r)=>(Yl(e,"userDisplayName",t.configuration.analytics.userDisplayName,Cr().analytics.userDisplayName,n,r),Kl(e.userDisplayName,t.configuration.analytics.userDisplayName)&&(t.configuration.analytics.userDisplayName=e.userDisplayName),t),xS=e=>ye({},t=>{t.addCase(Ll,(n,r)=>{let a=Io(n.configuration.accessToken);return a?lp(a,n,r.payload,e):n}).addCase(wf,(n,r)=>{let a=Io(n.configuration.accessToken);return a?up(a,n,r.payload,e):n}).addCase(fa,(n,r)=>{var a;let i=Io(n.configuration.accessToken);if(!i)return n;let o=lp(i,n,r.payload.searchHub,e);return up(i,o,(a=r.payload)==null?void 0:a.pipeline,e)}).addCase(el,(n,r)=>{let a=Io(n.configuration.accessToken);return a?OS(a,n,r.payload.userDisplayName,e):n})}),ES={debug:ap,pipeline:np,searchHub:rp,search:nt};function $S(e){let t=lS(e.loggerOptions);IS(e.configuration,t);let n=RS(e.configuration,t),r={...uS(e.configuration,t),searchAPIClient:n,apiClient:n},a={...e,reducers:ES,crossReducer:xS(t)},i=rS(a,r),{search:o}=e.configuration;return o&&i.dispatch(fa(o)),{...i,get state(){return i.state},executeFirstSearch(l=hS()){if(sp(i.state))return;let s=pe(l);i.dispatch(s)},executeFirstSearchAfterStandaloneSearchBoxRedirect(l){let{cause:s,metadata:u}=l,f=u&&s==="omniboxFromLink"?mS(u):gS();this.executeFirstSearch(f)}}}function IS(e,t){try{pS.validate(e)}catch(n){throw t.error(n,"Search engine configuration error"),n}}function RS(e,t){let{search:n}=e;return new Cc({logger:t,preprocessRequest:e.preprocessRequest||Js,postprocessSearchResponseMiddleware:(n==null?void 0:n.preprocessSearchResponseMiddleware)||id,postprocessFacetSearchResponseMiddleware:(n==null?void 0:n.preprocessFacetSearchResponseMiddleware)||od,postprocessQuerySuggestResponseMiddleware:(n==null?void 0:n.preprocessQuerySuggestResponseMiddleware)||sd})}function rt(e){let t,n=new Map,r=()=>n.size===0,a=i=>{try{let o=JSON.stringify(i),l=t!==o;return t=o,l}catch(o){return console.warn('Could not detect if state has changed, check the controller "get state method"',o),!0}};return{subscribe(i){i();let o=Symbol(),l;return r()&&(t=JSON.stringify(this.state),l=e.subscribe(()=>{a(this.state)&&n.forEach(s=>s())})),n.set(o,i),()=>{n.delete(o),r()&&l&&l()}},get state(){return{}}}}var AS=e=>{let t=/Document weights:\n((?:.)*?)\n+/g,n=/Terms weights:\n((?:.|\n)*)\n+/g,r=/Total weight: ([0-9]+)/g;if(!e)return null;let a=t.exec(e),i=n.exec(e),o=r.exec(e),l=qS(e),s=cp(a?a[1]:null),u=TS(i),f=o?Number(o[1]):null;return{documentWeights:s,termsWeight:u,totalWeight:f,qreWeights:l}},cp=e=>{let t=/(\w+(?:\s\w+)*): ([-0-9]+)/g,n=/^(\w+(?:\s\w+)*): ([-0-9]+)$/;if(!e)return null;let r=e.match(t);if(!r)return null;let a={};for(let i of r){let o=i.match(n);if(o){let l=o[1],s=o[2];a[l]=Number(s)}}return a},dp=(e,t)=>{let n=[],r;for(;(r=t.exec(e))!==null;)n.push(r);return n},TS=e=>{let t=/((?:[^:]+: [0-9]+, [0-9]+; )+)\n((?:\w+: [0-9]+; )+)/g,n=/([^:]+): ([0-9]+), ([0-9]+); /g;if(!e||!e[1])return null;let r=dp(e[1],t);if(!r)return null;let a={};for(let i of r){let o=dp(i[1],n),l={};for(let u of o)l[u[1]]={Correlation:Number(u[2]),"TF-IDF":Number(u[3])};let s=cp(i[2]);a[Object.keys(l).join(", ")]={terms:l,Weights:s}}return a},qS=e=>{let t=/(Expression:\s".*")\sScore:\s(?!0)([0-9]+)\n+/g,n=t.exec(e),r=[];for(;n;)r.push({expression:n[1],score:parseInt(n[2],10)}),n=t.exec(e);return r};function FS(e){return e.search.response.results.map(t=>{let n=AS(t.rankingInfo);return{result:t,ranking:n}})}var kS=new at({enabled:new Ne({default:!1})});function LS(e,t={}){!_S(e);let n=rt(e),{dispatch:r}=e,a=()=>e.state;Tr(e,kS,t.initialState,"buildRelevanceInspector").enabled&&r(so());let i=o=>{e.logger.warn(`Flag [ ${o} ] is now activated. This should *not* be used in any production environment as it negatively impact performance.`)};return{...n,get state(){let o=a(),l=o.debug;if(!o.debug)return{isEnabled:l};let{executionReport:s,basicExpression:u,advancedExpression:f,constantExpression:c,userIdentities:g,rankingExpressions:m}=o.search.response,{fieldsDescription:v,fetchAllFields:p}=o.fields;return{isEnabled:l,rankingInformation:FS(o),executionReport:s,expressions:{basicExpression:u,advancedExpression:f,constantExpression:c},userIdentities:g,rankingExpressions:m,fieldsDescription:v,fetchAllFields:p}},enable(){r(so()),i("debug")},disable(){r(xd()),r(El())},enableFetchAllFields(){r(uf()),i("fetchAllFields")},disableFetchAllFields(){r(El())},fetchFieldsDescription(){!this.state.isEnabled&&r(so()),r(cf()),i("fieldsDescription"),e.logger.warn(`For production environment, please specify the necessary fields either when instantiating a ResultList controller, or by dispatching a registerFieldsToInclude action.
        
        https://docs.coveo.com/en/headless/latest/reference/search/controllers/result-list/#resultlistoptions
        https://docs.coveo.com/en/headless/latest/reference/search/actions/field/#registerfieldstoinclude`)},fetchFieldDescriptions(){this.fetchFieldsDescription()}}}function _S(e){return e.addReducers({debug:ap,search:nt,configuration:He,fields:Hl}),!0}function PS(e){!jS(e);let t=rt(e),{dispatch:n}=e;n(Fc());let r=()=>e.state;return{...t,get state(){let a=r();return{originalQuery:a.didYouMean.originalQuery,wasCorrectedTo:a.didYouMean.wasCorrectedTo,wasAutomaticallyCorrected:a.didYouMean.wasAutomaticallyCorrected,queryCorrection:a.didYouMean.queryCorrection,hasQueryCorrection:a.didYouMean.queryCorrection.correctedQuery!==""||a.didYouMean.wasCorrectedTo!==""}},applyCorrection(){n(Xi(this.state.queryCorrection.correctedQuery)),n(pe(cm()))}}}function jS(e){return e.addReducers({configuration:He,didYouMean:Yb}),!0}var MS=["alphanumeric","occurrences"],Ro=new ne({regex:/^[a-zA-Z0-9-_]+$/}),Ao=new ne({required:!0}),DS=new tt({each:new ne}),fp=new ne,NS=new Ne,To=new Ne,qo=new we({min:0}),vi=new we({min:1}),pp=new Ne({required:!0}),VS=new $e,zS=new ne,US={captions:VS,numberOfValues:vi,query:zS},hp=new $e({values:US}),BS=new at({field:Ao,basePath:DS,delimitingCharacter:fp,facetId:Ro,facetSearch:hp,filterByBasePath:NS,filterFacetCount:To,injectionDepth:qo,numberOfValues:vi,sortCriteria:new ne({constrainTo:MS})});function HS(e,t){let{field:n,state:r}=e;if(!QS(e))return n;let a=`${n}_`,i=WS(a,r);return KS(n,t),`${a}${i}`}function QS(e){let{field:t,state:n}=e;return gp(n).some(r=>r&&t in r)}function WS(e,t){let n=gp(t).map(r=>Object.keys(r||{})).reduce((r,a)=>r.concat(a),[]);return YS(n,e)+1}function gp(e){let{facetSet:t,numericFacetSet:n,dateFacetSet:r,categoryFacetSet:a}=e;return[t,n,r,a]}function YS(e,t){let n=0,r=e.map(a=>{let i=a.split(t)[1],o=parseInt(i,10);return Number.isNaN(o)?n:o}).sort().pop();return r??n}function KS(e,t){let n=`A facet with field "${e}" already exists.
  To avoid unexpected behaviour, configure the #id option on the facet controller.`;t.warn(n)}function ma(e,t){let{state:n,logger:r}=e,{field:a,facetId:i}=t;return i||HS({field:a,state:n},r)}var yi=(e,t)=>{var n,r;return(r=(n=e.facetOptions.facets[t])==null?void 0:n.enabled)!=null?r:!0};function JS(e,t){!GS(e);let n=rt(e),{dispatch:r}=e,a=ma(e,t.options),i={facetSearch:{...pa},...Nd,...t.options,facetId:a};Gt(e,BS,i,"buildCategoryFacet");let o=()=>nh(e.state,a),l=()=>uu(e.state,a),s=()=>_a(e.state),u=()=>yi(e.state,a);return r(tl(i)),{...n,toggleSelect(f){let c=i.numberOfValues;r(nl({facetId:a,selection:f,retrieveCount:c})),r(ut({freezeFacetOrder:!0}))},deselectAll(){r(lo(a)),r(ut({freezeFacetOrder:!0}))},sortBy(f){r($d({facetId:a,criterion:f})),r(ut({freezeFacetOrder:!0}))},isSortedBy(f){return o().sortCriteria===f},showMoreValues(){let{numberOfValues:f}=i,{values:c}=this.state,g=c.length+f;r(rl({facetId:a,numberOfValues:g})),r(ut({freezeFacetOrder:!0}))},showLessValues(){let{numberOfValues:f}=i;r(rl({facetId:a,numberOfValues:f})),r(ut({freezeFacetOrder:!0}))},enable(){r(_r(a))},disable(){r(Zt(a))},get state(){let f=o(),c=l(),g=s(),m=u(),{parents:v,values:p}=wr(c==null?void 0:c.values),y=v.length!==0,b=v.length>0?v[v.length-1].moreValuesAvailable:(c==null?void 0:c.moreValuesAvailable)||!1,C=p.length>i.numberOfValues;return{facetId:a,parents:v,values:p,isLoading:g,hasActiveValues:y,canShowMoreValues:b,canShowLessValues:C,sortCriteria:f.sortCriteria,enabled:m}}}}function GS(e){return e.addReducers({categoryFacetSet:Ul,categoryFacetSearchSet:ep,facetOptions:or,configuration:He,search:nt}),!0}function Jl(e,t){let n=e.dispatch,{options:r,getFacetSearch:a}=t,{facetId:i}=r;return{updateText(o){n(si({facetId:i,query:o,numberOfValues:a().initialNumberOfValues}))},showMoreResults(){let{initialNumberOfValues:o,options:l}=a();n(si({facetId:i,numberOfValues:l.numberOfValues+o})),n(ar(i))},search(){n(ar(i))},clear(){n(yl({facetId:i}))},updateCaptions(o){n(si({facetId:i,captions:o}))},get state(){let{response:o,isLoading:l,options:s}=a(),{query:u}=s,f=o.values;return{...o,values:f,isLoading:l,query:u}}}}function ZS(e,t){let{dispatch:n}=e,r={...pa,...t.options},{facetId:a}=r,i=()=>e.state.categoryFacetSearchSet[a];n(ml(r));let o=Jl(e,{options:r,getFacetSearch:i});return{...o,select(l){n(gl({facetId:a,value:l}))},get state(){return o.state}}}function XS(e,t){let{dispatch:n}=e,r={...pa,...t.options},{facetId:a}=r,i=()=>e.state.categoryFacetSearchSet[a],o=ZS(e,{options:{...r}});n(ml(r));let l=Jl(e,{options:r,getFacetSearch:i});return{...l,...o,select:s=>{o.select(s),n(ut({freezeFacetOrder:!0})),n(pe(An({facetId:a,facetValue:s.rawValue})))},get state(){return{...l.state,...o.state}}}}function e0(e,t){!t0(e);let n=JS(e,t),{dispatch:r}=e,a=()=>n.state.facetId,i=XS(e,{options:{facetId:a(),...t.options.facetSearch}}),{state:o,...l}=i;return{...n,facetSearch:l,toggleSelect(s){n.toggleSelect(s);let u=n0(a(),s);r(pe(u))},deselectAll(){n.deselectAll(),r(pe(Pr(a())))},sortBy(s){n.sortBy(s),r(pe(mo({facetId:a(),criterion:s})))},showMoreValues(){n.showMoreValues(),r(Lr(Jd(a())))},showLessValues(){n.showLessValues(),r(Lr(Gd(a())))},get state(){return{...n.state,facetSearch:i.state}}}}function t0(e){return e.addReducers({categoryFacetSet:Ul,categoryFacetSearchSet:ep,configuration:He,search:nt}),!0}function n0(e,t){let n={facetId:e,facetValue:t.value};return t.state==="selected"?li(n):An(n)}var mp=e=>e.state==="selected",r0=(e,t)=>{let n={facetId:e,facetValue:t.value};return mp(t)?li(n):An(n)},a0={facetId:ke,selection:new $e({values:Id})},i0=Be("facet/executeToggleSelect",({facetId:e,selection:t},n)=>{let{dispatch:r,extra:{validatePayload:a}}=n;a({facetId:e,selection:t},a0),r(uo({facetId:e,selection:t})),r(ut({freezeFacetOrder:!0}))}),o0=["score","alphanumeric","occurrences","automatic"],s0=new at({facetId:Ro,field:Ao,delimitingCharacter:fp,filterFacetCount:To,injectionDepth:qo,numberOfValues:vi,sortCriteria:new ne({constrainTo:o0}),facetSearch:hp});function l0(e,t){!u0(e);let{dispatch:n}=e,r=rt(e),a=ma(e,t.options),i={facetSearch:{...pa},...Xd,...t.options,facetId:a};Gt(e,s0,i,"buildFacet");let o=()=>Zp(e.state,a),l=()=>lu(e.state,a),s=()=>_a(e.state),u=()=>yi(e.state,a),f=()=>{let{currentValues:g}=o();return g.filter(m=>m.state!=="idle").length},c=()=>{let{currentValues:g}=o(),m=i.numberOfValues,v=!!g.find(p=>p.state==="idle");return m<g.length&&v};return n(al(i)),{...r,toggleSelect:g=>n(i0({facetId:i.facetId,selection:g})),toggleSingleSelect:function(g){g.state==="idle"&&n(dn(a)),this.toggleSelect(g)},isValueSelected:mp,deselectAll(){n(dn(a)),n(ut({freezeFacetOrder:!0}))},sortBy(g){n(Rd({facetId:a,criterion:g})),n(ut({freezeFacetOrder:!0}))},isSortedBy(g){return this.state.sortCriterion===g},showMoreValues(){let g=o().numberOfValues,m=i.numberOfValues,v=m-g%m,p=g+v;n(il({facetId:a,numberOfValues:p})),n(ol({facetId:a,isFieldExpanded:!0})),n(ut({freezeFacetOrder:!0}))},showLessValues(){let g=i.numberOfValues,m=Math.max(g,f());n(il({facetId:a,numberOfValues:m})),n(ol({facetId:a,isFieldExpanded:!1})),n(ut({freezeFacetOrder:!0}))},enable(){n(_r(a))},disable(){n(Zt(a))},get state(){let g=o(),m=l(),v=s(),p=u(),y=g.sortCriteria,b=m?m.values:[],C=b.some(_=>_.state!=="idle"),E=m?m.moreValuesAvailable:!1;return{facetId:a,values:b,sortCriterion:y,isLoading:v,hasActiveValues:C,canShowMoreValues:E,canShowLessValues:c(),enabled:p}}}}function u0(e){return e.addReducers({facetSet:zl,facetOptions:or,configuration:He,facetSearchSet:Xf}),!0}function c0(e,t){let{dispatch:n}=e,{options:r,select:a}=t,{facetId:i}=r,o=()=>e.state.facetSearchSet[i];n(Kd(r));let l=Jl(e,{options:r,getFacetSearch:o});return{...l,select(s){n(go({facetId:i,value:s})),a(s)},singleSelect(s){n(dn(i)),n(go({facetId:i,value:s})),a(s)},get state(){let{values:s}=l.state;return{...l.state,values:s.map(({count:u,displayValue:f,rawValue:c})=>({count:u,displayValue:f,rawValue:c}))}}}}function d0(e,t){!f0(e);let{dispatch:n}=e,r=l0(e,t),a=()=>r.state.facetId,i=(()=>{let{facetSearch:s}=t.options;return c0(e,{options:{facetId:a(),...s},select:u=>{n(ut({freezeFacetOrder:!0})),n(pe(An({facetId:a(),facetValue:u.rawValue})))}})})(),{state:o,...l}=i;return{...r,facetSearch:l,toggleSelect(s){r.toggleSelect(s),n(pe(r0(a(),s)))},deselectAll(){r.deselectAll(),n(pe(Pr(a())))},sortBy(s){r.sortBy(s),n(pe(mo({facetId:a(),criterion:s})))},isSortedBy(s){return this.state.sortCriterion===s},showMoreValues(){r.showMoreValues(),n(Lr(Jd(a())))},showLessValues(){r.showLessValues(),n(Lr(Gd(a())))},get state(){return{...r.state,facetSearch:i.state}}}}function f0(e){return e.addReducers({facetSet:zl,configuration:He,facetSearchSet:Xf,search:nt}),!0}var vp=e=>e.state==="selected",yp=(e,t)=>{let n=`${t.start}..${t.end}`,r={facetId:e,facetValue:n};return vp(t)?li(r):An(r)};function bp(e,t){let{facetId:n,getRequest:r}=t,a=rt(e),i=e.dispatch,o=()=>yi(e.state,n);return{...a,isValueSelected:vp,deselectAll(){i(dn(n)),i(ut({freezeFacetOrder:!0}))},sortBy(l){i(ul({facetId:n,criterion:l})),i(ut({freezeFacetOrder:!0}))},isSortedBy(l){return this.state.sortCriterion===l},enable(){i(_r(n))},disable(){i(Zt(n))},get state(){let l=r(),s=La(e.state,n),u=l.sortCriteria,f=s?s.values:[],c=_a(e.state),g=o(),m=f.some(v=>v.state!=="idle");return{facetId:n,values:f,sortCriterion:u,hasActiveValues:m,isLoading:c,enabled:g}}}}function Sp(e,t){if(!e.generateAutomaticRanges&&e.currentValues===void 0){let n=`currentValues should be specified for ${t} when generateAutomaticRanges is false.`;throw new Error(n)}}var wp=T("rangeFacet/executeToggleSelect",e=>M(e,ll(e.selection))),p0={facetId:ke,selection:new $e({values:fo})},h0=Be("dateFacet/executeToggleSelect",(e,{dispatch:t,extra:{validatePayload:n}})=>{n(e,p0),t(ni(e)),t(wp(e)),t(ut({freezeFacetOrder:!0}))}),Cp=["idle","selected"],Op=["ascending","descending"],xp=["even","equiprobable"],g0={start:new ne,end:new ne,endInclusive:new Ne,state:new ne({constrainTo:Cp})},m0=new at({facetId:Ro,field:Ao,generateAutomaticRanges:pp,filterFacetCount:To,injectionDepth:qo,numberOfValues:vi,currentValues:new tt({each:new $e({values:g0})}),sortCriteria:new ne({constrainTo:Op}),rangeAlgorithm:new ne({constrainTo:xp})});function Ep(e,t){Gt(e,m0,t,"buildDateFacet"),dl(t)}function v0(e,t){!y0(e),Sp(t.options,"buildDateFacet");let n=e.dispatch,r=ma(e,t.options),a={currentValues:[],...t.options,facetId:r};Ep(e,a),n(ti(a));let i=bp(e,{facetId:r,getRequest:()=>e.state.dateFacetSet[r]});return{...i,toggleSelect:o=>n(h0({facetId:r,selection:o})),toggleSingleSelect:function(o){o.state==="idle"&&n(dn(r)),this.toggleSelect(o)},get state(){return i.state}}}function y0(e){return e.addReducers({configuration:He,search:nt,dateFacetSet:mi,facetOptions:or}),!0}function b0(e,t){let n=v0(e,t),r=e.dispatch,a=()=>n.state.facetId;return{...n,deselectAll(){n.deselectAll(),r(pe(Pr(a())))},sortBy(i){n.sortBy(i),r(pe(mo({facetId:a(),criterion:i})))},toggleSelect:i=>{n.toggleSelect(i),r(pe(yp(a(),i)))},get state(){return n.state}}}var S0={facetId:ke,selection:new $e({values:co})},w0="numericFacet/executeToggleSelect",C0=Be(w0,(e,{dispatch:t,extra:{validatePayload:n}})=>{n(e,S0),t(ii(e)),t(wp(e)),t(ut({freezeFacetOrder:!0}))}),O0={start:new we,end:new we,endInclusive:new Ne,state:new ne({constrainTo:Cp})},x0=new at({facetId:Ro,field:Ao,generateAutomaticRanges:pp,filterFacetCount:To,injectionDepth:qo,numberOfValues:vi,currentValues:new tt({each:new $e({values:O0})}),sortCriteria:new ne({constrainTo:Op}),rangeAlgorithm:new ne({constrainTo:xp})});function $p(e,t){Gt(e,x0,t,"buildNumericFacet"),fl(t)}function Ip(e){return{endInclusive:!1,state:"idle",...e}}function E0(e,t){!$0(e),Sp(t.options,"buildNumericFacet");let n=e.dispatch,r=ma(e,t.options),a={currentValues:[],...t.options,facetId:r};$p(e,a),n(ai(a));let i=bp(e,{facetId:r,getRequest:()=>e.state.numericFacetSet[r]});return{...i,toggleSelect:o=>n(C0({facetId:r,selection:o})),toggleSingleSelect(o){o.state==="idle"&&n(dn(r)),this.toggleSelect(o)},get state(){return i.state}}}function $0(e){return e.addReducers({numericFacetSet:ga,facetOptions:or,configuration:He,search:nt}),!0}function I0(e,t){!R0(e);let n=E0(e,t),r=e.dispatch,a=()=>n.state.facetId;return{...n,deselectAll(){n.deselectAll(),r(pe(Pr(a())))},sortBy(i){n.sortBy(i),r(pe(mo({facetId:a(),criterion:i})))},toggleSelect:i=>{n.toggleSelect(i),r(pe(yp(a(),i)))},get state(){return{...n.state}}}}function R0(e){return e.addReducers({numericFacetSet:ga,configuration:He,search:nt}),!0}function A0(e,t){return!!t&&t.facetId in e.numericFacetSet}var T0=(e,t)=>{let n=La(e,t);if(A0(e,n))return n},Rp=(e,t)=>{let n=T0(e,t);return n?n.values.filter(r=>r.state==="selected"):[]};function q0(e,t){var n;!F0(e);let r=rt(e),{dispatch:a}=e,i=()=>e.state,o=ma(e,t.options),l={...t.options,currentValues:((n=t.initialState)==null?void 0:n.range)?[{...t.initialState.range,endInclusive:!0,state:"selected"}]:[],generateAutomaticRanges:!1,facetId:o};$p(e,l),a(ai(l));let s=()=>yi(e.state,o);return{...r,clear:()=>{a(oi({facetId:o,values:[]})),a(ut({freezeFacetOrder:!0}))},setRange:u=>{let f={...u,state:"selected",numberOfResults:0,endInclusive:!0},c=oi({facetId:o,values:[f]});return c.error?!1:(a(c),a(ut({freezeFacetOrder:!0})),!0)},enable(){a(_r(o))},disable(){a(Zt(o))},get state(){let u=_a(i()),f=s(),c=Rp(i(),o),g=c.length?c[0]:void 0;return{facetId:o,isLoading:u,range:g,enabled:f}}}}function F0(e){return e.addReducers({numericFacetSet:ga,facetOptions:or,configuration:He,search:nt}),!0}function k0(e,t){!L0(e);let n=q0(e,t),{dispatch:r}=e,a=()=>n.state.facetId;return{...n,clear:()=>{n.clear(),r(pe(Pr(a())))},setRange:i=>{let o=n.setRange(i);return o&&r(pe(An({facetId:a(),facetValue:`${i.start}..${i.end}`}))),o},get state(){return{...n.state}}}}function L0(e){return e.addReducers({numericFacetSet:ga,configuration:He,search:nt}),!0}function _0(e,t){return!!t&&t.facetId in e.dateFacetSet}var P0=(e,t)=>{let n=La(e,t);if(_0(e,n))return n},Ap=(e,t)=>{let n=P0(e,t);return n?n.values.filter(r=>r.state==="selected"):[]};function j0(e,t){var n;!M0(e);let r=rt(e),{dispatch:a}=e,i=()=>e.state,o=ma(e,t.options),l={...t.options,currentValues:((n=t.initialState)==null?void 0:n.range)?[{...t.initialState.range,endInclusive:!0,state:"selected"}]:[],generateAutomaticRanges:!1,facetId:o};Ep(e,l),a(ti(l));let s=()=>yi(e.state,o);return{...r,clear:()=>{a(ri({facetId:o,values:[]})),a(ut({freezeFacetOrder:!0}))},setRange:u=>{let f={...u,state:"selected",numberOfResults:0,endInclusive:!0},c=ri({facetId:o,values:[f]});return c.error?!1:(a(c),a(ut({freezeFacetOrder:!0})),!0)},enable(){a(_r(o))},disable(){a(Zt(o))},get state(){let u=_a(i()),f=s(),c=Ap(i(),o),g=c.length?c[0]:void 0;return{facetId:o,isLoading:u,range:g,enabled:f}}}}function M0(e){return e.addReducers({dateFacetSet:mi,facetOptions:or,configuration:He,search:nt}),!0}function D0(e,t){!N0(e);let n=j0(e,t),{dispatch:r}=e,a=()=>n.state.facetId;return{...n,clear:()=>{n.clear(),r(pe(Pr(a())))},setRange:i=>{let o=n.setRange(i);return o&&r(pe(An({facetId:a(),facetValue:`${i.start}..${i.end}`}))),o},get state(){return{...n.state}}}}function N0(e){return e.addReducers({dateFacetSet:mi,configuration:He,search:nt}),!0}var V0=ce("history/analytics/forward",le.Search,e=>e.logSearchEvent("historyForward")),z0=ce("history/analytics/backward",le.Search,e=>e.logSearchEvent("historyBackward")),U0=ce("history/analytics/noresultsback",le.Search,e=>e.logNoResultsBack());function B0(e){!H0(e);let t=rt(e),{dispatch:n}=e,r=()=>e.state,a=i=>i.past.length>0&&!De(i.present);return{...t,get state(){return r().history},async back(){!a(this.state)||(await n(qc()),n(pe(z0())))},async forward(){!this.state.future.length||!this.state.present||(await n(um()),n(pe(V0())))},async backOnNoResults(){!a(this.state)||(await n(qc()),n(pe(U0())))}}}function H0(e){return e.addReducers({history:Zb,configuration:He,facetOrder:Hb}),!0}function Q0(e){return e.pagination.firstResult}function Tp(e){return e.pagination.numberOfResults}function W0(e){return e.pagination.totalCountFiltered}var bi=e=>{let t=Q0(e),n=Tp(e);return bf(t,n)},qp=e=>{let t=W0(e),n=Tp(e);return Sf(t,n)},Y0=(e,t)=>{let n=bi(e),r=qp(e),a=K0(n,t);return a=J0(a),a=G0(a,r),Z0(a)};function K0(e,t){let n=t%2==0,r=Math.floor(t/2),a=n?r-1:r,i=e-r,o=e+a;return{start:i,end:o}}function J0(e){let t=Math.max(yo-e.start,0),n=e.start+t,r=e.end+t;return{start:n,end:r}}function G0(e,t){let n=Math.max(e.end-t,0),r=Math.max(e.start-n,yo),a=e.end-n;return{start:r,end:a}}function Z0(e){let t=[];for(let n=e.start;n<=e.end;++n)t.push(n);return t}var Fp=ce("analytics/pager/resize",le.Search,(e,t)=>{var n;return e.logPagerResize({currentResultsPerPage:((n=t.pagination)==null?void 0:n.numberOfResults)||In().numberOfResults})}),kp=ce("analytics/pager/number",le.Search,(e,t)=>e.logPagerNumber({pagerNumber:bi(t)})),X0=ce("analytics/pager/next",le.Search,(e,t)=>e.logPagerNext({pagerNumber:bi(t)})),ew=ce("analytics/pager/previous",le.Search,(e,t)=>e.logPagerPrevious({pagerNumber:bi(t)})),tw=new at({numberOfPages:new we({default:5,min:0})}),nw=new at({page:new we({min:1})});function rw(e,t={}){!aw(e);let n=rt(e),{dispatch:r}=e,a=Gt(e,tw,t.options,"buildPager"),i=Tr(e,nw,t.initialState,"buildPager").page;i&&r(Qc(i));let o=()=>bi(e.state),l=()=>{let{numberOfPages:u}=a;return Y0(e.state,u)},s=()=>qp(e.state);return{...n,get state(){let u=o(),f=s(),c=u>yo&&f>0,g=u<f;return{currentPage:u,currentPages:l(),maxPage:f,hasPreviousPage:c,hasNextPage:g}},selectPage(u){r(ro(u))},nextPage(){r(Wc())},previousPage(){r(Yc())},isCurrentPage(u){return u===this.state.currentPage}}}function aw(e){return e.addReducers({configuration:He,pagination:Eo}),!0}function iw(e,t={}){let{dispatch:n}=e,r=rw(e,t);return{...r,get state(){return r.state},selectPage(a){r.selectPage(a),n(kr(kp()))},nextPage(){r.nextPage(),n(kr(X0()))},previousPage(){r.previousPage(),n(kr(ew()))}}}function ow(e){!sw(e);let t=rt(e),n=()=>e.state;return{...t,get state(){return{hasError:n().search.error!==null,error:n().search.error}}}}function sw(e){return e.addReducers({search:nt}),!0}function Gl(e){!lw(e);let t=rt(e),n=()=>e.state;return{...t,get state(){let r=n();return{hasError:r.search.error!==null,isLoading:r.search.isLoading,hasResults:!!r.search.results.length,firstSearchExecuted:sp(r)}}}}function lw(e){return e.addReducers({search:nt}),!0}function uw(e){!cw(e);let t=rt(e),n=Gl(e),r=()=>e.state,a=()=>{let i=e.state.search.duration/1e3;return Math.round((i+Number.EPSILON)*100)/100};return{...t,get state(){let i=r();return{...n.state,durationInMilliseconds:i.search.duration,durationInSeconds:a(),firstResult:i.pagination.firstResult+1,hasDuration:i.search.duration!==0,hasQuery:i.search.queryExecuted!=="",lastResult:i.pagination.firstResult+i.search.results.length,query:i.search.queryExecuted,total:i.pagination.totalCountFiltered}}}}function cw(e){return e.addReducers({search:nt,pagination:Eo}),!0}var dw=new at({fieldsToInclude:new tt({required:!1,each:new ne({required:!0,emptyAllowed:!1})})});function Lp(e,t){!fw(e);let n=rt(e),r=Gl(e),{dispatch:a}=e,i=()=>e.state,o=Gt(e,dw,t==null?void 0:t.options,"buildResultList");o.fieldsToInclude&&a(xl(o.fieldsToInclude));let l=()=>e.state.search.results.length<e.state.search.response.totalCountFiltered,s=0,u=0,f=5,c=200,g=!1;return{...n,get state(){let m=i();return{...r.state,results:m.search.results,searchUid:m.search.response.searchUid,moreResultsAvailable:l(),searchResponseId:m.search.searchResponseId}},fetchMoreResults:()=>{if(!e.state.search.isLoading){if(!l()){e.logger.info("No more results are available for the result list to fetch.");return}if(Date.now()-s<c){if(u++,u>=f){s=Date.now(),!g&&e.logger.error(`The result list method "fetchMoreResults" execution prevented because it has been triggered consecutively ${f} times, with little delay. Please verify the conditions under which the function is called.`),g=!0;return}}else u=0;g=!1,a(Za()).then(()=>s=Date.now())}}}}function fw(e){return e.addReducers({search:nt,configuration:He,fields:Hl}),!0}var pw=e=>ce("analytics/result/open",le.Click,(t,n)=>(Gi(e),t.logDocumentOpen(Ji(e,n),js(e)))),hw=e=>pw(e)();function Zl(e,t,n){!gw(e);let r=1e3,a={selectionDelay:r,debounceWait:r,...t.options},i;return{select:ip(n,a.debounceWait,{isImmediate:!0}),beginDelayedSelect(){i=setTimeout(n,a.selectionDelay)},cancelPendingSelect(){i&&clearTimeout(i)}}}function gw(e){return e.addReducers({configuration:He}),!0}function mw(e,t){let n=!1,r=()=>{n||(n=!0,e.dispatch(hw(t.options.result)))};return Zl(e,t,()=>{r(),e.dispatch(Co(t.options.result))})}var vw=new at({numberOfResults:new we({min:0})});function yw(e,t={}){!bw(e);let n=rt(e),{dispatch:r}=e,a=()=>e.state,i=Tr(e,vw,t.initialState,"buildResultsPerPage").numberOfResults;return i!==void 0&&r(Bc(i)),{...n,get state(){return{numberOfResults:a().pagination.numberOfResults}},set(o){r(Hc(o))},isSetTo(o){return o===this.state.numberOfResults}}}function bw(e){return e.addReducers({pagination:Eo,configuration:He}),!0}function Sw(e,t={}){!ww(e);let n=yw(e,t),{dispatch:r}=e;return{...n,get state(){return{...n.state}},set(a){n.set(a),r(kr(Fp()))}}}function ww(e){return e.addReducers({pagination:Eo,configuration:He}),!0}var Cw={searchBoxId:lt,maxResultsPerQuery:new we({required:!0,min:1}),cacheTimeout:new we},Ow=new at(Cw);function xw(e,t){!Ew(e);let n=rt(e),{dispatch:r}=e,a=()=>e.state,i={searchBoxId:t.options.searchBoxId||_s("instant-results-"),cacheTimeout:t.options.cacheTimeout||6e4,maxResultsPerQuery:t.options.maxResultsPerQuery};Gt(e,Ow,i,"buildInstantResults");let o=i.searchBoxId;r(Kc({id:o}));let l=()=>a().instantResults[o],s=c=>l().cache[c],u=()=>l().q,f=()=>{let c=s(u());return c?c.isLoading?[]:c.results:[]};return{...n,updateQuery(c){if(!c)return;let g=s(c);(!g||!g.isLoading&&(g.error||Ou(g)))&&r(ao({id:o,q:c,maxResultsPerQuery:i.maxResultsPerQuery,cacheTimeout:i.cacheTimeout})),r(Ys({id:o,q:c}))},clearExpired(){r(Jc({id:o}))},get state(){let c=u(),g=s(c);return{q:c,isLoading:(g==null?void 0:g.isLoading)||!1,error:(g==null?void 0:g.error)||null,results:f()}}}}function Ew(e){return e.addReducers({instantResults:Qb}),!0}var _p=ce("analytics/searchbox/submit",le.Search,e=>e.logSearchboxSubmit()),Pp={enableQuerySyntax:!1,numberOfSuggestions:5},Xl={open:new ne,close:new ne},jp={id:re,numberOfSuggestions:new we({min:0}),enableQuerySyntax:new Ne,highlightOptions:new $e({values:{notMatchDelimiters:new $e({values:Xl}),exactMatchDelimiters:new $e({values:Xl}),correctionDelimiters:new $e({values:Xl})}})},$w=new at(jp),Iw=e=>ce("analytics/querySuggest",le.Search,(t,n)=>{let r=Mp(n,e);return t.logOmniboxAnalytics(r)})();function Mp(e,t){let{id:n,suggestion:r}=t,a=e.querySuggest&&e.querySuggest[n];if(!a)throw new Error(`Unable to determine the query suggest analytics metadata to send because no query suggest with id "${n}" was found. Please check the sent #id.`);let i=a.completions.map(u=>u.expression),o=a.partialQueries.length-1,l=a.partialQueries[o]||"",s=a.responseId;return{suggestionRanking:i.indexOf(r),partialQuery:l,partialQueries:a.partialQueries,suggestions:i,querySuggestResponseId:s}}function Dp(e,t={}){var n,r;!Aw(e);let a=rt(e),{dispatch:i}=e,o=()=>e.state,l=((n=t.options)==null?void 0:n.id)||_s("search_box"),s={id:l,highlightOptions:{...(r=t.options)==null?void 0:r.highlightOptions},...Pp,...t.options};Gt(e,$w,s,"buildSearchBox"),i(ql({id:l,query:e.state.query.q})),s.numberOfSuggestions&&i(Fl({id:l,q:e.state.query.q,count:s.numberOfSuggestions}));let u=()=>e.state.querySet[s.id],f=async c=>{let{enableQuerySyntax:g}=s;i(Gc({q:u(),enableQuerySyntax:g})),await i(pe(c))};return{...a,updateText(c){i(fi({id:l,query:c})),this.showSuggestions()},clear(){i(fi({id:l,query:""})),i(hi({id:l}))},showSuggestions(){s.numberOfSuggestions&&i(gi({id:l}))},selectSuggestion(c){i(ha({id:l,expression:c})),f(Iw({id:l,suggestion:c})).then(()=>{i(hi({id:l}))})},submit(){f(_p()),i(hi({id:l}))},get state(){let c=o(),g=c.querySuggest[s.id],m=Rw(g,s.highlightOptions),v=g?g.isLoading:!1;return{value:u(),suggestions:m,isLoading:c.search.isLoading,isLoadingSuggestions:v}}}}function Rw(e,t){return e?e.completions.map(n=>({highlightedValue:vd(n.highlighted,t),rawValue:n.expression})):[]}function Aw(e){return e.addReducers({query:$o,querySuggest:Bl,configuration:He,querySet:tp,search:nt}),!0}var Np=ce("analytics/sort/results",le.Search,(e,t)=>e.logResultsSort({resultsSortBy:t.sortCriteria||Gr()}));function Tw(e,t){if(!t)return;let n=new at({criterion:new tt({each:Sh})}),r=qw(t),a={...t,criterion:r};Tr(e,n,a,"buildSort")}function qw(e){return e.criterion?Jo(e.criterion)?e.criterion:[e.criterion]:[]}function Fw(e,t={}){var n;!kw(e);let r=rt(e),{dispatch:a}=e,i=()=>e.state;Tw(e,t.initialState);let o=(n=t.initialState)==null?void 0:n.criterion,l=()=>a(pe(Np()));return o&&a(Hf(o)),{...r,sortBy(s){a(Qf(s)),a(ro(1)),l()},isSortedBy(s){return this.state.sortCriteria===Pa(s)},get state(){return{sortCriteria:i().sortCriteria}}}}function kw(e){return e.addReducers({configuration:He,sortCriteria:Wb}),!0}function Lw(e){!_w(e);let t=rt(e),n=()=>e.state;return{...t,sort(r){return Us(r,this.state.facetIds)},get state(){return{facetIds:n().search.response.facets.map(r=>r.facetId)}}}}function _w(e){return e.addReducers({search:nt,facetOptions:or}),!0}var Pw=()=>ce("analytics/facet/deselectAllBreadcrumbs",le.Search,e=>e.logBreadcrumbResetAll())(),jw={categoryFacetId:ke,categoryFacetPath:new tt({required:!0,each:re})},Mw=(e,{categoryFacetId:t,categoryFacetPath:n})=>{let r=e.categoryFacetSet[t],a=r==null?void 0:r.request.field,i=`${a}_${t}`;return{categoryFacetId:t,categoryFacetPath:n,categoryFacetField:a,categoryFacetTitle:i}},Dw=e=>ce("analytics/categoryFacet/breadcrumb",le.Search,(t,n)=>(M(e,jw),t.logBreadcrumbFacet(Mw(n,e))))(),Vp=(e,{facetId:t,selection:n})=>{let r=e.dateFacetSet[t]||e.numericFacetSet[t],a=r.field,i=`${r.field}_${t}`;return{facetId:t,facetField:a,facetTitle:i,facetRangeEndInclusive:n.endInclusive,facetRangeEnd:`${n.end}`,facetRangeStart:`${n.start}`}},Nw=e=>ce("analytics/numericFacet/breadcrumb",le.Search,(t,n)=>{M(e,ll(e.selection));let r=Vp(n,e);return t.logBreadcrumbFacet(r)})(),Vw=e=>ce("analytics/dateFacet/breadcrumb",le.Search,(t,n)=>{M(e,ll(e.selection));let r=Vp(n,e);return t.logBreadcrumbFacet(r)})();function zw(e){!Uw(e);let t=rt(e),{dispatch:n}=e,r=(m,v,p)=>Object.keys(m).map(y=>{let b=p(e.state,y).map(C=>({value:C,deselect:()=>v({facetId:y,selection:C})}));return{facetId:y,field:m[y].field,values:b}}).filter(y=>y.values.length),a=()=>r(e.state.facetSet,({facetId:m,selection:v})=>{let p=Xv({facetId:m,facetValue:v.value});n(uo({facetId:m,selection:v})),n(sl({facetId:m,freezeCurrentValues:!1})),n(pe(p))},eh),i=()=>r(e.state.numericFacetSet,m=>{n(ii(m)),n(pe(Nw(m)))},Rp),o=()=>r(e.state.dateFacetSet,m=>{n(ni(m)),n(pe(Vw(m)))},Ap),l=m=>{let v=Bo(e.state,m);return{facetId:m,field:e.state.categoryFacetSet[m].request.field,path:v,deselect:()=>{n(lo(m)),n(pe(Dw({categoryFacetPath:v.map(p=>p.value),categoryFacetId:m})))}}},s=()=>Object.keys(e.state.categoryFacetSet).map(l).filter(m=>m.path.length),u=()=>{let m=e.state.staticFilterSet||{};return Object.values(m).map(f)},f=m=>{let{id:v,values:p}=m,y=p.filter(b=>b.state==="selected").map(b=>c(v,b));return{id:v,values:y}},c=(m,v)=>({value:v,deselect:()=>{let{caption:p,expression:y}=v,b=Fb({staticFilterId:m,staticFilterValue:{caption:p,expression:y}});n(Gf({id:m,value:v})),n(pe(b))}});function g(){return!![...a(),...i(),...o(),...s(),...u()].length}return{...t,get state(){return{facetBreadcrumbs:a(),categoryFacetBreadcrumbs:s(),numericFacetBreadcrumbs:i(),dateFacetBreadcrumbs:o(),staticFilterBreadcrumbs:u(),hasBreadcrumbs:g()}},deselectAll:()=>{n(nr()),n(pe(Pw()))},deselectBreadcrumb(m){m.deselect()}}}function Uw(e){return e.addReducers({configuration:He,search:nt,facetSet:zl,numericFacetSet:ga,dateFacetSet:mi,categoryFacetSet:Ul}),!0}var Bw=new at({...jp,redirectionUrl:new ne({required:!0,emptyAllowed:!1})});function Hw(e,t){!Qw(e);let{dispatch:n}=e,r=()=>e.state,a=t.options.id||_s("standalone_search_box"),i={id:a,highlightOptions:{...t.options.highlightOptions},...Pp,...t.options};Gt(e,Bw,i,"buildStandaloneSearchBox");let o=Dp(e,{options:i});return n(Df({id:a,redirectionUrl:i.redirectionUrl})),{...o,updateText(l){o.updateText(l),n(Nf({id:a}))},selectSuggestion(l){let s=Mp(r(),{id:a,suggestion:l});n(ha({id:a,expression:l})),n(Vf({id:a,metadata:s})),this.submit()},submit(){n(Ka({q:this.state.value,enableQuerySyntax:i.enableQuerySyntax})),n(Oo({id:a}))},get state(){let l=r().standaloneSearchBoxSet[a];return{...o.state,isLoading:l.isLoading,redirectTo:l.redirectTo,analytics:l.analytics}}}}function Qw(e){return e.addReducers({standaloneSearchBoxSet:Jb,configuration:He,query:$o,querySuggest:Bl}),!0}function Ww(e){var t,n,r,a,i,o;return{q:jt().q,enableQuerySyntax:jt().enableQuerySyntax,aq:(n=(t=e.advancedSearchQueries)==null?void 0:t.defaultFilters.aq)!=null?n:Jn().defaultFilters.aq,cq:(a=(r=e.advancedSearchQueries)==null?void 0:r.defaultFilters.cq)!=null?a:Jn().defaultFilters.cq,firstResult:In().firstResult,numberOfResults:(o=(i=e.pagination)==null?void 0:i.defaultNumberOfResults)!=null?o:In().defaultNumberOfResults,sortCriteria:Gr(),f:{},cf:{},nf:{},df:{},debug:xr(),sf:{},tab:""}}function Yw(e,t){return e.q!==t.q?_p():e.sortCriteria!==t.sortCriteria?Np():e.firstResult!==t.firstResult?kp():e.numberOfResults!==t.numberOfResults?Fp():Fo(e.f,t.f)?eu(e.f,t.f):Fo(e.cf,t.cf)?eu(e.cf,t.cf):Fo(e.nf,t.nf)?Up(e.nf,t.nf):Fo(e.df,t.df)?Up(e.df,t.df):Wl()}function Fo(e={},t={}){return JSON.stringify(e)!==JSON.stringify(t)}function zp(e){let t={};return Object.keys(e).forEach(n=>t[n]=e[n].map(r=>`${r.start}..${r.end}`)),t}function eu(e={},t={}){let n=Object.keys(e),r=Object.keys(t),a=n.filter(c=>!r.includes(c));if(a.length){let c=a[0];return e[c].length>1?Pr(c):li({facetId:c,facetValue:e[c][0]})}let i=r.filter(c=>!n.includes(c));if(i.length){let c=i[0];return An({facetId:c,facetValue:t[c][0]})}let o=r.find(c=>t[c].filter(g=>e[c].includes(g)));if(!o)return Wl();let l=e[o],s=t[o],u=s.filter(c=>!l.includes(c));if(u.length)return An({facetId:o,facetValue:u[0]});let f=l.filter(c=>!s.includes(c));return f.length?li({facetId:o,facetValue:f[0]}):Wl()}function Up(e={},t={}){return eu(zp(e),zp(t))}var Kw=new at({parameters:new $e({options:{required:!0},values:wd})});function Jw(e,t){let{dispatch:n}=e,r=rt(e);return Tr(e,Kw,t.initialState,"buildSearchParameterManager"),n(Ot(t.initialState.parameters)),{...r,synchronize(a){let i=Hp(e),o=Bp(e,i),l=Bp(e,a);mf(o,l)||(n(Ot(l)),n(pe(Yw(o,l))))},get state(){return{parameters:Hp(e)}}}}function Bp(e,t){return{...Ww(e.state),...t}}function Hp(e){let t=e.state;return{...Gw(t),...Zw(t),...Xw(t),...e1(t),...t1(t),...n1(t),...r1(t),...a1(t),...s1(t),...u1(t),...c1(t),...d1(t),...f1(t),...i1(t)}}function Gw(e){if(e.query===void 0)return{};let t=e.query.q;return t!==jt().q?{q:t}:{}}function Zw(e){if(e.query===void 0)return{};let t=e.query.enableQuerySyntax;return t!==jt().enableQuerySyntax?{enableQuerySyntax:t}:{}}function Xw(e){if(e.advancedSearchQueries===void 0)return{};let{aq:t,defaultFilters:n}=e.advancedSearchQueries;return t!==n.aq?{aq:t}:{}}function e1(e){if(e.advancedSearchQueries===void 0)return{};let{cq:t,defaultFilters:n}=e.advancedSearchQueries;return t!==n.cq?{cq:t}:{}}function t1(e){let t=Object.values(e.tabSet||{}).find(n=>n.isActive);return t?{tab:t.id}:{}}function n1(e){if(e.pagination===void 0)return{};let t=e.pagination.firstResult;return t!==In().firstResult?{firstResult:t}:{}}function r1(e){if(e.pagination===void 0)return{};let{numberOfResults:t,defaultNumberOfResults:n}=e.pagination;return t!==n?{numberOfResults:t}:{}}function a1(e){if(e.sortCriteria===void 0)return{};let t=e.sortCriteria;return t!==Gr()?{sortCriteria:t}:{}}function i1(e){if(e.staticFilterSet===void 0)return{};let t=Object.entries(e.staticFilterSet).map(([n,r])=>{let a=o1(r.values);return a.length?{[n]:a}:{}}).reduce((n,r)=>({...n,...r}),{});return Object.keys(t).length?{sf:t}:{}}function o1(e){return e.filter(t=>t.state==="selected").map(t=>t.caption)}function s1(e){if(e.facetSet===void 0)return{};let t=Object.entries(e.facetSet).filter(([n])=>{var r,a,i;return(i=(a=(r=e.facetOptions)==null?void 0:r.facets[n])==null?void 0:a.enabled)!=null?i:!0}).map(([n,r])=>{let a=l1(r.currentValues);return a.length?{[n]:a}:{}}).reduce((n,r)=>({...n,...r}),{});return Object.keys(t).length?{f:t}:{}}function l1(e){return e.filter(t=>t.state==="selected").map(t=>t.value)}function u1(e){if(e.categoryFacetSet===void 0)return{};let t=Object.entries(e.categoryFacetSet).filter(([n])=>{var r,a,i;return(i=(a=(r=e.facetOptions)==null?void 0:r.facets[n])==null?void 0:a.enabled)!=null?i:!0}).map(([n,r])=>{let{parents:a}=wr(r.request.currentValues),i=a.map(o=>o.value);return i.length?{[n]:i}:{}}).reduce((n,r)=>({...n,...r}),{});return Object.keys(t).length?{cf:t}:{}}function c1(e){if(e.numericFacetSet===void 0)return{};let t=Object.entries(e.numericFacetSet).filter(([n])=>{var r,a,i;return(i=(a=(r=e.facetOptions)==null?void 0:r.facets[n])==null?void 0:a.enabled)!=null?i:!0}).map(([n,r])=>{let a=Qp(r.currentValues);return a.length?{[n]:a}:{}}).reduce((n,r)=>({...n,...r}),{});return Object.keys(t).length?{nf:t}:{}}function d1(e){if(e.dateFacetSet===void 0)return{};let t=Object.entries(e.dateFacetSet).filter(([n])=>{var r,a,i;return(i=(a=(r=e.facetOptions)==null?void 0:r.facets[n])==null?void 0:a.enabled)!=null?i:!0}).map(([n,r])=>{let a=Qp(r.currentValues);return a.length?{[n]:a}:{}}).reduce((n,r)=>({...n,...r}),{});return Object.keys(t).length?{df:t}:{}}function Qp(e){return e.filter(t=>t.state==="selected")}function f1(e){if(e.debug===void 0)return{};let t=e.debug;return t!==xr()?{debug:t}:{}}var ko="&",Si="=",tu="..";function Wp(){return{serialize:p1,deserialize:b1}}function p1(e){return Object.entries(e).map(h1).filter(t=>t).join(ko)}function h1(e){let[t,n]=e;return Kp(t)?t==="f"||t==="cf"||t==="sf"?g1(n)?v1(t,n):"":t==="nf"||t==="df"?m1(n)?y1(t,n):"":`${t}${Si}${encodeURIComponent(n)}`:""}function g1(e){return nu(e)?Yp(e,t=>typeof t=="string"):!1}function m1(e){return nu(e)?Yp(e,t=>nu(t)&&"start"in t&&"end"in t):!1}function nu(e){return!!(e&&typeof e=="object")}function Yp(e,t){return Object.entries(e).filter(n=>{let r=n[1];return!Array.isArray(r)||!r.every(t)}).length===0}function v1(e,t){return Object.entries(t).map(([n,r])=>`${e}[${n}]${Si}${r.map(a=>encodeURIComponent(a)).join(",")}`).join(ko)}function y1(e,t){return Object.entries(t).map(([n,r])=>{let a=r.map(({start:i,end:o})=>`${i}${tu}${o}`).join(",");return`${e}[${n}]${Si}${a}`}).join(ko)}function b1(e){return e.split(ko).map(t=>S1(t)).map(w1).filter($1).map(I1).reduce((t,n)=>{let[r,a]=n;if(Jp(r)){let i={...t[r],...a};return{...t,[r]:i}}return{...t,[r]:a}},{})}function S1(e){let[t,...n]=e.split(Si),r=n.join(Si);return[t,r]}function w1(e){let[t,n]=e,r=/^(f|cf|nf|df|sf)\[(.+)\]$/.exec(t);if(!r)return e;let a=r[1],i=r[2],o=n.split(","),l=C1(a,o),s={[i]:l};return[a,JSON.stringify(s)]}function C1(e,t){return e==="nf"?O1(t):e==="df"?E1(t):t}function O1(e){return e.map(t=>t.split(tu).map(parseFloat)).filter(t=>t.length===2&&t.every(Number.isFinite)).map(([t,n])=>Ip({start:t,end:n,state:"selected"}))}function x1(e){try{return mm(e)?(Lc(e,kc),!0):ca(e)?(to(e),!0):!1}catch{return!1}}function E1(e){return e.map(t=>t.split(tu)).filter(t=>t.length===2&&t.every(n=>x1(n))).map(([t,n])=>cl({start:t,end:n,state:"selected"}))}function $1(e){let t=Kp(e[0]),n=e.length===2;return t&&n}function Kp(e){return e in{q:!0,aq:!0,cq:!0,enableQuerySyntax:!0,firstResult:!0,numberOfResults:!0,sortCriteria:!0,f:!0,cf:!0,nf:!0,df:!0,debug:!0,sf:!0,tab:!0}}function I1(e){let[t,n]=e;return t==="enableQuerySyntax"?[t,n==="true"]:t==="debug"?[t,n==="true"]:t==="firstResult"?[t,parseInt(n)]:t==="numberOfResults"?[t,parseInt(n)]:Jp(t)?[t,R1(n)]:[t,decodeURIComponent(n)]}function R1(e){let t=JSON.parse(e),n={};return Object.entries(t).forEach(r=>{let[a,i]=r;n[a]=i.map(o=>Pi(o)?decodeURIComponent(o):o)}),n}function Jp(e){return["f","cf","nf","df","sf"].includes(e)}var A1=new at({fragment:new ne});function T1(e,t){let n;function r(){n=e.state.search.requestId}function a(){return n!==e.state.search.requestId}!F1(e),Tr(e,A1,t.initialState,"buildUrlManager");let i=rt(e),o=t.initialState.fragment;r();let l=Jw(e,{initialState:{parameters:Lo(o)}});return{...i,subscribe(s){let u=()=>{let f=this.state.fragment;!q1(o,f)&&a()&&(o=f,s()),r()};return u(),e.subscribe(u)},get state(){return{fragment:Wp().serialize(l.state.parameters)}},synchronize(s){o=s;let u=Lo(s);l.synchronize(u)}}}function q1(e,t){if(e===t)return!0;let n=Lo(e),r=Lo(t);return mf(n,r)}function Lo(e){return Wp().deserialize(e)}function F1(e){return e.addReducers({configuration:He}),!0}var k1=new at(df);function L1(e,t={}){var n;!_1(e);let r=Lp(e,t),{dispatch:a}=e,i=()=>e.state,o=((n=t.options)==null?void 0:n.folding)?Gt(e,k1,t.options.folding,"buildFoldedResultList"):{};return a($l({...o})),{...r,loadCollection:l=>{a(vo(l.result.raw[e.state.folding.fields.collection])),a(ff(l.result))},logShowMoreFoldedResults:l=>{a(ff(l))},logShowLessFoldedResults:()=>{a(xy())},findResultById(l){return ru(this.state.results,s=>s.result.uniqueId===l.result.uniqueId)},findResultByCollection(l){return ru(this.state.results,s=>s.result.raw.foldingcollection===l.result.raw.foldingcollection)},get state(){let l=i();return{...r.state,results:r.state.results.map(s=>{let u=s.raw[l.folding.fields.collection];return!u||!l.folding.collections[u]?{result:s,moreResultsAvailable:!1,isLoadingMoreResults:!1,children:[]}:l.folding.collections[u]})}}}}function _1(e){return e.addReducers({search:nt,configuration:He,folding:Bb,query:$o}),!0}function ru(e,t){for(let n=0;n<e.length;n++){let r=e[n];if(t(r))return r;if(r.children.length){let a=ru(r.children,t);if(a)return a}}return null}ce("analytics/trigger/query",le.Search,(e,t)=>{var n;if((n=t.triggers)==null?void 0:n.query)return e.logTriggerQuery()}),ce("analytics/trigger/notify",le.Search,(e,t)=>{var n;if((n=t.triggers)==null?void 0:n.notification)return e.logTriggerNotify({notification:t.triggers.notification})}),ce("analytics/trigger/redirect",le.Search,(e,t)=>{var n;if((n=t.triggers)==null?void 0:n.redirectTo)return e.logTriggerRedirect({redirectedTo:t.triggers.redirectTo})}),ce("analytics/trigger/execute",le.Search,(e,t)=>{var n;if((n=t.triggers)==null?void 0:n.execute)return e.logTriggerExecute({executed:t.triggers.execute.functionName})});function _o(e,t){var n,r,a,i,o,l;let s=(r=(n=e.questionAnswering)==null?void 0:n.relatedQuestions.findIndex(f=>f.questionAnswerId===t))!=null?r:-1;if(s===-1)return null;let u=(l=(o=(i=(a=e.search)==null?void 0:a.response)==null?void 0:i.questionAnswer)==null?void 0:o.relatedQuestions)==null?void 0:l[s];return u??null}var P1=ce("analytics/smartSnippet/expand",le.Custom,e=>e.logExpandSmartSnippet()),j1=ce("analytics/smartSnippet/collapse",le.Custom,e=>e.logCollapseSmartSnippet()),M1=ce("analytics/smartSnippet/like",le.Custom,e=>e.logLikeSmartSnippet()),D1=ce("analytics/smartSnippet/dislike",le.Custom,e=>e.logDislikeSmartSnippet()),N1=e=>ce("analytics/smartSnippet/source/open",le.Click,(t,n)=>(Gi(e),t.logOpenSmartSnippetSource(Ji(e,n),js(e))))(),V1=ce("analytics/smartSnippet/feedbackModal/open",le.Custom,e=>e.logOpenSmartSnippetFeedbackModal()),z1=ce("analytics/smartSnippet/feedbackModal/close",le.Custom,e=>e.logCloseSmartSnippetFeedbackModal()),U1=e=>ce("analytics/smartSnippet/sendFeedback",le.Custom,t=>t.logSmartSnippetFeedbackReason(e))(),B1=e=>ce("analytics/smartSnippet/sendFeedback",le.Custom,t=>t.logSmartSnippetFeedbackReason("other",e))(),H1=e=>ce("analytics/smartSnippetSuggestion/expand",le.Custom,(t,n)=>{if(So(e),!bo(e))return t.logExpandSmartSnippetSuggestion(e);let r=_o(n,e.questionAnswerId);if(r)return t.logExpandSmartSnippetSuggestion({question:r.question,answerSnippet:r.answerSnippet,documentId:r.documentId})})(),Q1=e=>ce("analytics/smartSnippetSuggestion/expand",le.Custom,(t,n)=>{if(So(e),!bo(e))return t.logCollapseSmartSnippetSuggestion(e);let r=_o(n,e.questionAnswerId);if(r)return t.logCollapseSmartSnippetSuggestion({question:r.question,answerSnippet:r.answerSnippet,documentId:r.documentId})})(),W1=e=>ce("analytics/smartSnippet/source/open",le.Click,(t,n)=>{var r;M(e,$f());let a=_o(n,e.questionAnswerId);if(!a)return;let i=(r=n.search)==null?void 0:r.results.find(o=>sr(o,a.documentId.contentIdKey)===a.documentId.contentIdValue);if(i)return t.logOpenSmartSnippetSuggestionSource(Ji(i,n),{question:a.question,answerSnippet:a.answerSnippet,documentId:a.documentId})})();function Y1(e,t){var n;!K1(e);let r=rt(e),a=()=>e.state,i=()=>{let{contentIdKey:s,contentIdValue:u}=a().search.response.questionAnswer.documentId;return e.state.search.results.find(f=>sr(f,s)===u)},o=null,l=Zl(e,{options:{selectionDelay:(n=t==null?void 0:t.options)==null?void 0:n.selectionDelay}},()=>{let s=i();if(!s){o=null;return}let{searchResponseId:u}=a().search;o!==u&&(o=u,e.dispatch(N1(s)),e.dispatch(Co(s)))});return{...r,get state(){let s=a();return{question:s.search.response.questionAnswer.question,answer:s.search.response.questionAnswer.answerSnippet,documentId:s.search.response.questionAnswer.documentId,expanded:s.questionAnswering.expanded,answerFound:s.search.response.questionAnswer.answerSnippet!=="",liked:s.questionAnswering.liked,disliked:s.questionAnswering.disliked,feedbackModalOpen:s.questionAnswering.feedbackModalOpen,source:i()}},expand(){e.dispatch(P1()),e.dispatch(If())},collapse(){e.dispatch(j1()),e.dispatch(Rf())},like(){e.dispatch(M1()),e.dispatch(Af())},dislike(){e.dispatch(D1()),e.dispatch(Tf())},openFeedbackModal(){e.dispatch(V1()),e.dispatch(qf())},closeFeedbackModal(){e.dispatch(z1()),e.dispatch(wo())},sendFeedback(s){e.dispatch(U1(s)),e.dispatch(wo())},sendDetailedFeedback(s){e.dispatch(B1(s)),e.dispatch(wo())},selectSource(){l.select()},beginDelayedSelectSource(){l.beginDelayedSelect()},cancelPendingSelectSource(){l.cancelPendingSelect()}}}function K1(e){return e.addReducers({search:nt,questionAnswering:Ql}),!0}function J1(e,t){!G1(e);let n=()=>e.state,r=c=>{let g=n(),m=_o(g,c);return m?wS(g,m.documentId.contentIdKey,m.documentId.contentIdValue):null},a=new Set,i=c=>a.has(c)?!0:(a.add(c),!1),o=null,l=c=>{o!==c&&(o=c,u={},a.clear())},s=(c,g)=>{var m;return Zl(e,{options:{selectionDelay:(m=t==null?void 0:t.options)==null?void 0:m.selectionDelay}},()=>{i(g)||(e.dispatch(W1({questionAnswerId:g})),e.dispatch(Co(c)))})},u={},f=c=>{let{searchResponseId:g}=n().search;l(g);let m=r(c);return m?(c in u||(u[c]=s(m,c)),u[c]):null};return{selectSource(c){var g;(g=f(c))==null||g.select()},beginDelayedSelectSource(c){var g;(g=f(c))==null||g.beginDelayedSelect()},cancelPendingSelectSource(c){var g;(g=f(c))==null||g.cancelPendingSelect()}}}function G1(e){return e.addReducers({search:nt,questionAnswering:Ql}),!0}function Z1(e,t){var n;!X1(e);let r=rt(e),a=()=>e.state,i=s=>{let{contentIdKey:u,contentIdValue:f}=s;return e.state.search.results.find(c=>sr(c,u)===f)},o=J1(e,{options:{selectionDelay:(n=t==null?void 0:t.options)==null?void 0:n.selectionDelay}}),l=s=>typeof s=="string"?{questionAnswerId:s}:s;return{...r,get state(){let s=a();return{questions:s.search.response.questionAnswer.relatedQuestions.map((u,f)=>({question:u.question,answer:u.answerSnippet,documentId:u.documentId,questionAnswerId:s.questionAnswering.relatedQuestions[f].questionAnswerId,expanded:s.questionAnswering.relatedQuestions[f].expanded,source:i(u.documentId)}))}},expand(s){let u=l(s);e.dispatch(H1(u)),e.dispatch(Ff(u))},collapse(s){let u=l(s);e.dispatch(Q1(u)),e.dispatch(kf(u))},selectSource(s){o.selectSource(s)},beginDelayedSelectSource(s){o.beginDelayedSelectSource(s)},cancelPendingSelectSource(s){o.cancelPendingSelectSource(s)}}}function X1(e){return e.addReducers({search:nt,questionAnswering:Ql}),!0}var eC=ce("analytics/recentQueries/clear",le.Custom,e=>e.logClearRecentQueries()),tC=ce("analytics/recentQueries/click",le.Search,e=>e.logRecentQueryClick()),nC={initialState:{queries:[]},options:{maxLength:10}},rC=new at({queries:new tt({required:!0})}),aC=new at({maxLength:new we({required:!0,min:1})});function iC(e,t){Gt(e,aC,t==null?void 0:t.options,"buildRecentQueriesList"),Tr(e,rC,t==null?void 0:t.initialState,"buildRecentQueriesList")}function oC(e,t){!sC(e);let n=rt(e),{dispatch:r}=e,a=()=>e.state,i={...nC,...t};iC(e,i);let o={queries:i.initialState.queries,maxLength:i.options.maxLength};return r(Pf(o)),{...n,get state(){let l=a();return{...l.recentQueries,analyticsEnabled:l.configuration.analytics.enabled}},clear(){r(eC()),r(jf())},executeRecentQuery(l){let s=new we({required:!0,min:0,max:this.state.queries.length}).validate(l);if(s)throw new Error(s);r(Gc({q:this.state.queries[l]})),r(pe(tC()))}}}function sC(e){return e.addReducers({search:nt,recentQueries:Gb}),!0}ce("analytics/recentResults/clear",le.Custom,e=>e.logClearRecentResults());function lC(e,t){!uC(e);let n={},r=f=>{var c,g;return(g=(c=e.state.facetOptions.facets[f])==null?void 0:c.enabled)!=null?g:!0},a=f=>e.state.facetSet&&f in e.state.facetSet?e.state.facetSet[f].currentValues:e.state.categoryFacetSet&&f in e.state.categoryFacetSet?e.state.categoryFacetSet[f].request.currentValues:e.state.numericFacetSet&&f in e.state.numericFacetSet?e.state.numericFacetSet[f].currentValues:e.state.dateFacetSet&&f in e.state.dateFacetSet?e.state.dateFacetSet[f].currentValues:null,i=()=>{let f=!1;return Object.keys(n).forEach(c=>{let g=JSON.stringify(a(c));g!==n[c]&&(n[c]=g,f=!0)}),f},o=()=>t.conditions.some(f=>{if(!r(f.parentFacetId))return!1;let c=a(f.parentFacetId);return c===null?!1:f.condition(c)}),l=()=>{e.state.facetSet&&Object.entries(e.state.facetSet).forEach(([f,c])=>c.freezeCurrentValues&&e.dispatch(sl({facetId:f,freezeCurrentValues:!1})))},s=()=>{let f=r(t.facetId),c=o();f!==c&&(e.dispatch(c?_r(t.facetId):Zt(t.facetId)),l())};t.conditions.forEach(f=>{f.parentFacetId in n||(n[f.parentFacetId]=JSON.stringify(a(f.parentFacetId)))});let u=t.conditions.length?e.subscribe(()=>{i()&&s()}):()=>{};return t.conditions.length&&s(),{stopWatching(){u()}}}function uC(e){return e.addReducers({facetOptions:or}),!0}function cC(e){return e.addReducers({configuration:He,pipeline:np,searchHub:rp}),{updateSearchConfiguration:fa}}function dC(e){return e.addReducers({dateFacetSet:mi}),{deselectAllDateFacetValues:Ld,registerDateFacet:ti,toggleSelectDateFacetValue:ni,updateDateFacetSortCriterion:kd,updateDateFacetValues:ri}}function fC(e){return e.addReducers({numericFacetSet:ga}),{deselectAllNumericFacetValues:Pd,registerNumericFacet:ai,toggleSelectNumericFacetValue:ii,updateNumericFacetSortCriterion:_d,updateNumericFacetValues:oi}}function pC(e){return e.addReducers({query:$o}),{updateQuery:Ka}}function hC(e){return e.addReducers({querySet:tp}),{registerQuerySetQuery:ql,updateQuerySetQuery:fi}}function gC(e){return e.addReducers({querySuggest:Bl}),{clearQuerySuggest:hi,fetchQuerySuggestions:gi,registerQuerySuggest:Fl,selectQuerySuggestion:ha}}var mC=new at({priority:new we({required:!1,default:0,min:0}),fields:new tt({required:!1,each:re})});function vC(e){!yC(e);let t=[],n=r=>{r.forEach(a=>{if(mC.validate(a,"Check the arguments of registerTemplates"),!a.conditions.every(i=>i instanceof Function))throw new Ko("Each result template conditions should be a function that takes a result as an argument and returns a boolean")})};return{registerTemplates(...r){let a=[];try{n(r)}catch(i){e.logger.error(i,"Result template manager error");return}r.forEach(i=>{let o={...i,priority:i.priority||0,fields:i.fields||[]};t.push(o),a.push(...o.fields)}),t.sort((i,o)=>o.priority-i.priority),a.length&&e.dispatch(xl(a))},selectTemplate(r){let a=t.find(i=>i.conditions.every(o=>o(r)));return a?a.content:null}}}function yC(e){return e.addReducers({fields:Hl}),!0}var au;(e=>{e.getResultProperty=sr,e.fieldsMustBeDefined=vS,e.fieldsMustNotBeDefined=yS,e.fieldMustMatch=bS,e.fieldMustNotMatch=SS})(au||(au={}));function bC(e){let{by:t,order:n}=e;switch(t){case Or.Relevancy:return Su();case Or.QRE:return yh();case Or.NoSort:return bh();case Or.Date:if(!n)throw new Error('An order (i.e., ascending or descending) should be specified for a sort criterion sorted by "date"');return mh(n);default:if(!n)throw new Error(`An order (i.e., ascending or descending) should be specified for a sort criterion sorted by a field, such as "${t}"`);return vh(t,n)}}function SC(e){return e===void 0||e===Jr.Ascending||e===Jr.Descending}function wC(e){let t=e.split(","),n=new Error(`Wrong criterion expression format for "${e}"`);if(!t.length)throw n;return t.map(r=>{let a=r.trim().split(" "),i=a[0].toLowerCase(),o=a[1]&&a[1].toLowerCase();if(a.length>2||i==="")throw n;if(!SC(o))throw new Error(`Wrong criterion sort order "${o}" in expression "${e}". Order should either be "${Jr.Ascending}" or "${Jr.Descending}"`);return bC({by:i,order:o})})}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** *//**
 * @license
 *
 * Copyright 2022 Coveo Solutions Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 * 
 *       http://www.apache.org/licenses/LICENSE-2.0
 * 
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */},51860:function(Rt,Ue,te){"use strict";te.d(Ue,{F:function(){return qt},H:function(){return ot},a:function(){return mr},b:function(){return gr},c:function(){return Ze},d:function(){return ve},f:function(){return Xe},g:function(){return Ce},h:function(){return cr},p:function(){return xe},r:function(){return Nn}});const Oe="atomic";let Le,Pe,je,be=!1,qe=!1,Se=!1,X=!1,he=null,ge=!1;const ae=typeof window!="undefined"?window:{},W=ae.document||{head:{}},J={$flags$:0,$resourcesUrl$:"",jmp:d=>d(),raf:d=>requestAnimationFrame(d),ael:(d,h,S,x)=>d.addEventListener(h,S,x),rel:(d,h,S,x)=>d.removeEventListener(h,S,x),ce:(d,h)=>new CustomEvent(d,h)},xe=d=>Promise.resolve(d),Qe=(()=>{try{return new CSSStyleSheet,typeof new CSSStyleSheet().replace=="function"}catch{}return!1})(),Ve=(d,h,S,x)=>{S&&S.map(([O,P,L])=>{const D=ie(d,O),z=ee(h,L),oe=Re(O);J.ael(D,P,z,oe),(h.$rmListeners$=h.$rmListeners$||[]).push(()=>J.rel(D,P,z,oe))})},ee=(d,h)=>S=>{try{d.$flags$&256?d.$lazyInstance$[h](S):(d.$queuedListeners$=d.$queuedListeners$||[]).push([h,S])}catch(x){Yt(x)}},ie=(d,h)=>h&4?W:h&8?ae:d,Re=d=>(d&2)!==0,_e="{visibility:hidden}.hydrated{visibility:inherit}",Ge="http://www.w3.org/1999/xlink",ht=(d,h="")=>()=>{},Tn=(d,h)=>()=>{},Nt=new WeakMap,pn=(d,h,S)=>{let x=yt.get(d);Qe&&S?(x=x||new CSSStyleSheet,x.replace(h)):x=h,yt.set(d,x)},va=(d,h,S,x)=>{let O=en(h),P=yt.get(O);if(d=d.nodeType===11?d:W,P)if(typeof P=="string"){d=d.head||d;let L=Nt.get(d),D;L||Nt.set(d,L=new Set),L.has(O)||(D=W.createElement("style"),D.innerHTML=P,d.insertBefore(D,d.querySelector("link")),L&&L.add(O))}else d.adoptedStyleSheets.includes(P)||(d.adoptedStyleSheets=[...d.adoptedStyleSheets,P]);return O},hn=d=>{const h=d.$cmpMeta$,S=d.$hostElement$,x=h.$flags$,O=ht("attachStyles",h.$tagName$),P=va(S.shadowRoot?S.shadowRoot:S.getRootNode(),h);x&10&&(S["s-sc"]=P,S.classList.add(P+"-h")),O()},en=(d,h)=>"sc-"+d.$tagName$,gn={},ya=d=>d!=null,Ft=d=>(d=typeof d,d==="object"||d==="function"),cr=(d,h,...S)=>{let x=null,O=null,P=null,L=!1,D=!1,z=[];const oe=me=>{for(let Fe=0;Fe<me.length;Fe++)x=me[Fe],Array.isArray(x)?oe(x):x!=null&&typeof x!="boolean"&&((L=typeof d!="function"&&!Ft(x))&&(x=String(x)),L&&D?z[z.length-1].$text$+=x:z.push(L?mn(null,x):x),D=L)};if(oe(S),h){h.key&&(O=h.key),h.name&&(P=h.name);{const me=h.className||h.class;me&&(h.class=typeof me!="object"?me:Object.keys(me).filter(Fe=>me[Fe]).join(" "))}}if(typeof d=="function")return d(h===null?{}:h,z,At);const de=mn(d,null);return de.$attrs$=h,z.length>0&&(de.$children$=z),de.$key$=O,de.$name$=P,de},mn=(d,h)=>{const S={$flags$:0,$tag$:d,$text$:h,$elm$:null,$children$:null};return S.$attrs$=null,S.$key$=null,S.$name$=null,S},ot={},dr=d=>d&&d.$tag$===ot,At={forEach:(d,h)=>d.map(qn).forEach(h),map:(d,h)=>d.map(qn).map(h).map(Ee)},qn=d=>({vattrs:d.$attrs$,vchildren:d.$children$,vkey:d.$key$,vname:d.$name$,vtag:d.$tag$,vtext:d.$text$}),Ee=d=>{if(typeof d.vtag=="function"){const S=Object.assign({},d.vattrs);return d.vkey&&(S.key=d.vkey),d.vname&&(S.name=d.vname),cr(d.vtag,S,...d.vchildren||[])}const h=mn(d.vtag,d.vtext);return h.$attrs$=d.vattrs,h.$children$=d.vchildren,h.$key$=d.vkey,h.$name$=d.vname,h},Vt=(d,h,S,x,O,P)=>{if(S!==x){let L=Br(d,h),D=h.toLowerCase();if(h==="class"){const z=d.classList,oe=fr(S),de=fr(x);z.remove(...oe.filter(me=>me&&!de.includes(me))),z.add(...de.filter(me=>me&&!oe.includes(me)))}else if(h==="style"){for(const z in S)(!x||x[z]==null)&&(z.includes("-")?d.style.removeProperty(z):d.style[z]="");for(const z in x)(!S||x[z]!==S[z])&&(z.includes("-")?d.style.setProperty(z,x[z]):d.style[z]=x[z])}else if(h!=="key")if(h==="ref")x&&x(d);else if(!L&&h[0]==="o"&&h[1]==="n")h[2]==="-"?h=h.slice(3):Br(ae,D)?h=D.slice(2):h=D[2]+h.slice(3),S&&J.rel(d,h,S,!1),x&&J.ael(d,h,x,!1);else{const z=Ft(x);if((L||z&&x!==null)&&!O)try{if(d.tagName.includes("-"))d[h]=x;else{let de=x??"";h==="list"?L=!1:(S==null||d[h]!=de)&&(d[h]=de)}}catch{}let oe=!1;D!==(D=D.replace(/^xlink\:?/,""))&&(h=D,oe=!0),x==null||x===!1?(x!==!1||d.getAttribute(h)==="")&&(oe?d.removeAttributeNS(Ge,h):d.removeAttribute(h)):(!L||P&4||O)&&!z&&(x=x===!0?"":x,oe?d.setAttributeNS(Ge,h,x):d.setAttribute(h,x))}}},Fn=/\s/,fr=d=>d?d.split(Fn):[],vn=(d,h,S,x)=>{const O=h.$elm$.nodeType===11&&h.$elm$.host?h.$elm$.host:h.$elm$,P=d&&d.$attrs$||gn,L=h.$attrs$||gn;for(x in P)x in L||Vt(O,x,P[x],void 0,S,h.$flags$);for(x in L)Vt(O,x,P[x],L[x],S,h.$flags$)},zt=(d,h,S,x)=>{let O=h.$children$[S],P=0,L,D,z;if(be||(Se=!0,O.$tag$==="slot"&&(Le&&x.classList.add(Le+"-s"),O.$flags$|=O.$children$?2:1)),O.$text$!==null)L=O.$elm$=W.createTextNode(O.$text$);else if(O.$flags$&1)L=O.$elm$=W.createTextNode("");else if(L=O.$elm$=W.createElement(O.$flags$&2?"slot-fb":O.$tag$),vn(null,O,X),ya(Le)&&L["s-si"]!==Le&&L.classList.add(L["s-si"]=Le),O.$children$)for(P=0;P<O.$children$.length;++P)D=zt(d,O,P,L),D&&L.appendChild(D);return L["s-hn"]=je,O.$flags$&(2|1)&&(L["s-sr"]=!0,L["s-cr"]=Pe,L["s-sn"]=O.$name$||"",z=d&&d.$children$&&d.$children$[S],z&&z.$tag$===O.$tag$&&d.$elm$&&yn(d.$elm$,!1)),L},yn=(d,h)=>{J.$flags$|=1;const S=d.childNodes;for(let x=S.length-1;x>=0;x--){const O=S[x];O["s-hn"]!==je&&O["s-ol"]&&(Ln(O).insertBefore(O,tn(O)),O["s-ol"].remove(),O["s-ol"]=void 0,Se=!0),h&&yn(O,h)}J.$flags$&=~1},kn=(d,h,S,x,O,P)=>{let L=d["s-cr"]&&d["s-cr"].parentNode||d,D;for(L.shadowRoot&&L.tagName===je&&(L=L.shadowRoot);O<=P;++O)x[O]&&(D=zt(null,S,O,d),D&&(x[O].$elm$=D,L.insertBefore(D,tn(h))))},jr=(d,h,S,x,O)=>{for(;h<=S;++h)(x=d[h])&&(O=x.$elm$,Nr(x),qe=!0,O["s-ol"]?O["s-ol"].remove():yn(O,!0),O.remove())},pr=(d,h,S,x)=>{let O=0,P=0,L=0,D=0,z=h.length-1,oe=h[0],de=h[z],me=x.length-1,Fe=x[0],Ke=x[me],et,Et;for(;O<=z&&P<=me;)if(oe==null)oe=h[++O];else if(de==null)de=h[--z];else if(Fe==null)Fe=x[++P];else if(Ke==null)Ke=x[--me];else if(xt(oe,Fe))Pt(oe,Fe),oe=h[++O],Fe=x[++P];else if(xt(de,Ke))Pt(de,Ke),de=h[--z],Ke=x[--me];else if(xt(oe,Ke))(oe.$tag$==="slot"||Ke.$tag$==="slot")&&yn(oe.$elm$.parentNode,!1),Pt(oe,Ke),d.insertBefore(oe.$elm$,de.$elm$.nextSibling),oe=h[++O],Ke=x[--me];else if(xt(de,Fe))(oe.$tag$==="slot"||Ke.$tag$==="slot")&&yn(de.$elm$.parentNode,!1),Pt(de,Fe),d.insertBefore(de.$elm$,oe.$elm$),de=h[--z],Fe=x[++P];else{for(L=-1,D=O;D<=z;++D)if(h[D]&&h[D].$key$!==null&&h[D].$key$===Fe.$key$){L=D;break}L>=0?(Et=h[L],Et.$tag$!==Fe.$tag$?et=zt(h&&h[P],S,L,d):(Pt(Et,Fe),h[L]=void 0,et=Et.$elm$),Fe=x[++P]):(et=zt(h&&h[P],S,P,d),Fe=x[++P]),et&&Ln(oe.$elm$).insertBefore(et,tn(oe.$elm$))}O>z?kn(d,x[me+1]==null?null:x[me+1].$elm$,S,x,P,me):P>me&&jr(h,O,z)},xt=(d,h)=>d.$tag$===h.$tag$?d.$tag$==="slot"?d.$name$===h.$name$:d.$key$===h.$key$:!1,tn=d=>d&&d["s-ol"]||d,Ln=d=>(d["s-ol"]?d["s-ol"]:d).parentNode,Pt=(d,h)=>{const S=h.$elm$=d.$elm$,x=d.$children$,O=h.$children$,P=h.$tag$,L=h.$text$;let D;L===null?(P==="slot"||vn(d,h,X),x!==null&&O!==null?pr(S,x,h,O):O!==null?(d.$text$!==null&&(S.textContent=""),kn(S,null,h,O,0,O.length-1)):x!==null&&jr(x,0,x.length-1)):(D=S["s-cr"])?D.parentNode.textContent=L:d.$text$!==L&&(S.data=L)},Mr=d=>{let h=d.childNodes,S,x,O,P,L,D;for(x=0,O=h.length;x<O;x++)if(S=h[x],S.nodeType===1){if(S["s-sr"]){for(L=S["s-sn"],S.hidden=!1,P=0;P<O;P++)if(D=h[P].nodeType,h[P]["s-hn"]!==S["s-hn"]||L!==""){if(D===1&&L===h[P].getAttribute("slot")){S.hidden=!0;break}}else if(D===1||D===3&&h[P].textContent.trim()!==""){S.hidden=!0;break}}Mr(S)}},Tt=[],_n=d=>{let h,S,x,O,P,L,D=0,z=d.childNodes,oe=z.length;for(;D<oe;D++){if(h=z[D],h["s-sr"]&&(S=h["s-cr"])&&S.parentNode)for(x=S.parentNode.childNodes,O=h["s-sn"],L=x.length-1;L>=0;L--)S=x[L],!S["s-cn"]&&!S["s-nr"]&&S["s-hn"]!==h["s-hn"]&&(Dr(S,O)?(P=Tt.find(de=>de.$nodeToRelocate$===S),qe=!0,S["s-sn"]=S["s-sn"]||O,P?P.$slotRefNode$=h:Tt.push({$slotRefNode$:h,$nodeToRelocate$:S}),S["s-sr"]&&Tt.map(de=>{Dr(de.$nodeToRelocate$,S["s-sn"])&&(P=Tt.find(me=>me.$nodeToRelocate$===S),P&&!de.$slotRefNode$&&(de.$slotRefNode$=P.$slotRefNode$))})):Tt.some(de=>de.$nodeToRelocate$===S)||Tt.push({$nodeToRelocate$:S}));h.nodeType===1&&_n(h)}},Dr=(d,h)=>d.nodeType===1?d.getAttribute("slot")===null&&h===""||d.getAttribute("slot")===h:d["s-sn"]===h?!0:h==="",Nr=d=>{d.$attrs$&&d.$attrs$.ref&&d.$attrs$.ref(null),d.$children$&&d.$children$.map(Nr)},Pn=(d,h)=>{const S=d.$hostElement$,x=d.$cmpMeta$,O=d.$vnode$||mn(null,null),P=dr(h)?h:cr(null,null,h);je=S.tagName,x.$attrsToReflect$&&(P.$attrs$=P.$attrs$||{},x.$attrsToReflect$.map(([L,D])=>P.$attrs$[D]=S[L])),P.$tag$=null,P.$flags$|=4,d.$vnode$=P,P.$elm$=O.$elm$=S.shadowRoot||S,Le=S["s-sc"],Pe=S["s-cr"],be=(x.$flags$&1)!==0,qe=!1,Pt(O,P);{if(J.$flags$|=1,Se){_n(P.$elm$);let L,D,z,oe,de,me,Fe=0;for(;Fe<Tt.length;Fe++)L=Tt[Fe],D=L.$nodeToRelocate$,D["s-ol"]||(z=W.createTextNode(""),z["s-nr"]=D,D.parentNode.insertBefore(D["s-ol"]=z,D));for(Fe=0;Fe<Tt.length;Fe++)if(L=Tt[Fe],D=L.$nodeToRelocate$,L.$slotRefNode$){for(oe=L.$slotRefNode$.parentNode,de=L.$slotRefNode$.nextSibling,z=D["s-ol"];z=z.previousSibling;)if(me=z["s-nr"],me&&me["s-sn"]===D["s-sn"]&&oe===me.parentNode&&(me=me.nextSibling,!me||!me["s-nr"])){de=me;break}(!de&&oe!==D.parentNode||D.nextSibling!==de)&&D!==de&&(!D["s-hn"]&&D["s-ol"]&&(D["s-hn"]=D["s-ol"].parentNode.nodeName),oe.insertBefore(D,de))}else D.nodeType===1&&(D.hidden=!0)}qe&&Mr(P.$elm$),J.$flags$&=~1,Tt.length=0}},Ce=d=>Ye(d).$hostElement$,Ze=(d,h,S)=>{const x=Ce(d);return{emit:O=>Vr(x,h,{bubbles:!!(S&4),composed:!!(S&2),cancelable:!!(S&1),detail:O})}},Vr=(d,h,S)=>{const x=J.ce(h,S);return d.dispatchEvent(x),x},jn=(d,h)=>{h&&!d.$onRenderResolve$&&h["s-p"]&&h["s-p"].push(new Promise(S=>d.$onRenderResolve$=S))},nn=(d,h)=>{if(d.$flags$|=16,d.$flags$&4){d.$flags$|=512;return}return jn(d,d.$ancestorComponent$),On(()=>hr(d,h))},hr=(d,h)=>{const S=ht("scheduleUpdate",d.$cmpMeta$.$tagName$),x=d.$lazyInstance$;let O;return h?(d.$flags$|=256,d.$queuedListeners$&&(d.$queuedListeners$.map(([P,L])=>We(x,P,L)),d.$queuedListeners$=null),O=We(x,"componentWillLoad")):O=We(x,"componentWillUpdate"),O=kt(O,()=>We(x,"componentWillRender")),S(),kt(O,()=>Q(d,x,h))},Q=async(d,h,S)=>{const x=d.$hostElement$,O=ht("update",d.$cmpMeta$.$tagName$),P=x["s-rc"];S&&hn(d);const L=ht("render",d.$cmpMeta$.$tagName$);Y(d,h),P&&(P.map(D=>D()),x["s-rc"]=void 0),L(),O();{const D=x["s-p"],z=()=>Ae(d);D.length===0?z():(Promise.all(D).then(z),d.$flags$|=4,D.length=0)}},Y=(d,h,S)=>{try{he=h,h=h.render&&h.render(),d.$flags$&=~16,d.$flags$|=2,Pn(d,h)}catch(x){Yt(x,d.$hostElement$)}return he=null,null},ve=()=>he,Ae=d=>{const h=d.$cmpMeta$.$tagName$,S=d.$hostElement$,x=ht("postUpdate",h),O=d.$lazyInstance$,P=d.$ancestorComponent$;We(O,"componentDidRender"),d.$flags$&64?(We(O,"componentDidUpdate"),x()):(d.$flags$|=64,rn(S),We(O,"componentDidLoad"),x(),d.$onReadyResolve$(S),P||Wt()),d.$onInstanceResolve$(S),d.$onRenderResolve$&&(d.$onRenderResolve$(),d.$onRenderResolve$=void 0),d.$flags$&512&&sn(()=>nn(d,!1)),d.$flags$&=~(4|512)},Xe=d=>{{const h=Ye(d),S=h.$hostElement$.isConnected;return S&&(h.$flags$&(2|16))===2&&nn(h,!1),S}},Wt=d=>{rn(W.documentElement),sn(()=>Vr(ae,"appload",{detail:{namespace:Oe}}))},We=(d,h,S)=>{if(d&&d[h])try{return d[h](S)}catch(x){Yt(x)}},kt=(d,h)=>d&&d.then?d.then(h):h(),rn=d=>d.classList.add("hydrated"),Lt=(d,h)=>d!=null&&!Ft(d)?h&4?d==="false"?!1:d===""||!!d:h&2?parseFloat(d):h&1?String(d):d:d,ba=(d,h)=>Ye(d).$instanceValues$.get(h),bn=(d,h,S,x)=>{const O=Ye(d),P=O.$hostElement$,L=O.$instanceValues$.get(h),D=O.$flags$,z=O.$lazyInstance$;S=Lt(S,x.$members$[h][0]);const oe=Number.isNaN(L)&&Number.isNaN(S),de=S!==L&&!oe;if((!(D&8)||L===void 0)&&de&&(O.$instanceValues$.set(h,S),z)){if(x.$watchers$&&D&128){const me=x.$watchers$[h];me&&me.map(Fe=>{try{z[Fe](S,L,h)}catch(Ke){Yt(Ke,P)}})}if((D&(2|16))===2){if(z.componentShouldUpdate&&z.componentShouldUpdate(S,L,h)===!1)return;nn(O,!1)}}},an=(d,h,S)=>{if(h.$members$){d.watchers&&(h.$watchers$=d.watchers);const x=Object.entries(h.$members$),O=d.prototype;if(x.map(([P,[L]])=>{L&31||S&2&&L&32?Object.defineProperty(O,P,{get(){return ba(this,P)},set(D){bn(this,P,D,h)},configurable:!0,enumerable:!0}):S&1&&L&64&&Object.defineProperty(O,P,{value(...D){const z=Ye(this);return z.$onInstancePromise$.then(()=>z.$lazyInstance$[P](...D))}})}),S&1){const P=new Map;O.attributeChangedCallback=function(L,D,z){J.jmp(()=>{const oe=P.get(L);if(this.hasOwnProperty(oe))z=this[oe],delete this[oe];else if(O.hasOwnProperty(oe)&&typeof this[oe]=="number"&&this[oe]==z)return;this[oe]=z===null&&typeof this[oe]=="boolean"?!1:z})},d.observedAttributes=x.filter(([L,D])=>D[0]&15).map(([L,D])=>{const z=D[1]||L;return P.set(z,L),D[0]&512&&h.$attrsToReflect$.push([L,z]),z})}}return d},zr=async(d,h,S,x,O)=>{if((h.$flags$&32)===0){{if(h.$flags$|=32,O=Qr(S),O.then){const z=Tn();O=await O,z()}O.isProxied||(S.$watchers$=O.watchers,an(O,S,2),O.isProxied=!0);const D=ht("createInstance",S.$tagName$);h.$flags$|=8;try{new O(h)}catch(z){Yt(z)}h.$flags$&=~8,h.$flags$|=128,D(),on(h.$lazyInstance$)}if(O.style){let D=O.style;const z=en(S);if(!yt.has(z)){const oe=ht("registerStyles",S.$tagName$);pn(z,D,!!(S.$flags$&1)),oe()}}}const P=h.$ancestorComponent$,L=()=>nn(h,!0);P&&P["s-rc"]?P["s-rc"].push(L):L()},on=d=>{We(d,"connectedCallback")},Ur=d=>{if((J.$flags$&1)===0){const h=Ye(d),S=h.$cmpMeta$,x=ht("connectedCallback",S.$tagName$);if(h.$flags$&1)Ve(d,h,S.$listeners$),on(h.$lazyInstance$);else{h.$flags$|=1,S.$flags$&(4|8)&&Mn(d);{let O=d;for(;O=O.parentNode||O.host;)if(O["s-p"]){jn(h,h.$ancestorComponent$=O);break}}S.$members$&&Object.entries(S.$members$).map(([O,[P]])=>{if(P&31&&d.hasOwnProperty(O)){const L=d[O];delete d[O],d[O]=L}}),zr(d,h,S)}x()}},Mn=d=>{const h=d["s-cr"]=W.createComment("");h["s-cn"]=!0,d.insertBefore(h,d.firstChild)},Sa=d=>{if((J.$flags$&1)===0){const h=Ye(d),S=h.$lazyInstance$;h.$rmListeners$&&(h.$rmListeners$.map(x=>x()),h.$rmListeners$=void 0),We(S,"disconnectedCallback")}},gr=(d,h={})=>{const S=ht(),x=[],O=h.exclude||[],P=ae.customElements,L=W.head,D=L.querySelector("meta[charset]"),z=W.createElement("style"),oe=[];let de,me=!0;Object.assign(J,h),J.$resourcesUrl$=new URL(h.resourcesUrl||"./",W.baseURI).href,d.map(Fe=>{Fe[1].map(Ke=>{const et={$flags$:Ke[0],$tagName$:Ke[1],$members$:Ke[2],$listeners$:Ke[3]};et.$members$=Ke[2],et.$listeners$=Ke[3],et.$attrsToReflect$=[],et.$watchers$={};const Et=et.$tagName$,Vn=class extends HTMLElement{constructor(xn){super(xn);xn=this,wa(xn,et),et.$flags$&1&&xn.attachShadow({mode:"open"})}connectedCallback(){de&&(clearTimeout(de),de=null),me?oe.push(this):J.jmp(()=>Ur(this))}disconnectedCallback(){J.jmp(()=>Sa(this))}componentOnReady(){return Ye(this).$onReadyPromise$}};et.$lazyBundleId$=Fe[0],!O.includes(Et)&&!P.get(Et)&&(x.push(Et),P.define(Et,an(Vn,et,1)))})}),z.innerHTML=x+_e,z.setAttribute("data-styles",""),L.insertBefore(z,D?D.nextSibling:L.firstChild),me=!1,oe.length?oe.map(Fe=>Fe.connectedCallback()):J.jmp(()=>de=setTimeout(Wt,30)),S()},mr=d=>{const h=new URL(d,J.$resourcesUrl$);return h.origin!==ae.location.origin?h.href:h.pathname},qt=(d,h)=>h,Dn=new WeakMap,Ye=d=>Dn.get(d),Nn=(d,h)=>Dn.set(h.$lazyInstance$=d,h),wa=(d,h)=>{const S={$flags$:0,$hostElement$:d,$cmpMeta$:h,$instanceValues$:new Map};return S.$onInstancePromise$=new Promise(x=>S.$onInstanceResolve$=x),S.$onReadyPromise$=new Promise(x=>S.$onReadyResolve$=x),d["s-p"]=[],d["s-rc"]=[],Ve(d,S,h.$listeners$),Dn.set(d,S)},Br=(d,h)=>h in d,Yt=(d,h)=>(0,console.error)(d,h),Hr=new Map,Qr=(d,h,S)=>{const x=d.$tagName$.replace(/-/g,"_"),O=d.$lazyBundleId$,P=Hr.get(O);return P?P[x]:te(90593)(`./${O}.entry.js`).then(L=>(Hr.set(O,L),L[x]),Yt)},yt=new Map,Sn=[],wn=[],ct=(d,h)=>S=>{d.push(S),ge||(ge=!0,h&&J.$flags$&4?sn(vr):J.raf(vr))},Cn=d=>{for(let h=0;h<d.length;h++)try{d[h](performance.now())}catch(S){Yt(S)}d.length=0},vr=()=>{Cn(Sn),Cn(wn),(ge=Sn.length>0)&&J.raf(vr)},sn=d=>xe().then(d),On=ct(wn,!0)},52276:function(Rt,Ue,te){"use strict";te.d(Ue,{B:function(){return ge},D:function(){return ae},H:function(){return Pe},I:function(){return he},a:function(){return je},b:function(){return X}});var Oe=te(51860),Le=te(22973);const Pe=()=>(0,Oe.h)(Oe.H,{class:"atomic-hidden"}),je="atomic/initializeComponent",be=["atomic-search-interface","atomic-external"],qe=W=>new Promise((J,xe)=>{const Qe=buildCustomEvent(je,Ve=>J(Ve));W.dispatchEvent(Qe),W.closest(be.join(", "))||xe(new Se(W.nodeName.toLowerCase()))});class Se extends Error{constructor(J){super(`The "${J}" element must be the child of the following elements: ${be.join(", ")}`)}}function X(W){window.applyFocusVisiblePolyfill&&W.shadowRoot&&window.applyFocusVisiblePolyfill(W.shadowRoot)}function he(){return(W,J)=>{const{componentWillLoad:xe,render:Qe,componentDidRender:Ve,componentDidLoad:ee,disconnectedCallback:ie}=W;let Re=()=>{};if(J!=="bindings")return console.error(`The InitializeBindings decorator should be used on a property called "bindings", and not "${J}"`,W);W.componentWillLoad=function(){const _e=(0,Oe.g)(this),Ge=(0,Le.b)(je,Tn=>{this.bindings=Tn;const Nt=()=>(0,Oe.f)(this);this.bindings.i18n.on("languageChanged",Nt),Re=()=>this.bindings.i18n.off("languageChanged",Nt);try{this.initialize?this.initialize():(0,Oe.f)(this)}catch(pn){this.error=pn}});if(_e.dispatchEvent(Ge)){this.error=new Se(_e.nodeName.toLowerCase());return}return xe&&xe.call(this)},W.hasRendered=!1,W.hasLoaded=!1,W.render=function(){return this.error?(0,Oe.h)("atomic-component-error",{element:(0,Oe.g)(this),error:this.error}):this.bindings?(W.hasRendered=!0,Qe&&Qe.call(this)):(0,Oe.h)(Pe,null)},W.disconnectedCallback=function(){W.hasRendered=!1,W.hasLoaded=!1,Re(),ie&&ie.call(this)},W.componentDidRender=function(){!W.hasRendered||(Ve&&Ve.call(this),W.hasLoaded||(ee&&ee.call(this),W.hasLoaded=!0))},W.componentDidLoad=function(){X((0,Oe.g)(this))}}}function ge(W,J){return(xe,Qe)=>{const{disconnectedCallback:Ve,initialize:ee}=xe;let ie=()=>{};xe.initialize=function(){if(ee&&ee.call(this),!ee)return console.error(`ControllerState: The "initialize" method has to be defined and instanciate a controller for the property ${W}`,xe);if(!!this[W]){if((J==null?void 0:J.onUpdateCallbackMethod)&&!this[J.onUpdateCallbackMethod])return console.error(`ControllerState: The onUpdateCallbackMethod property "${J.onUpdateCallbackMethod}" is not defined`,xe);ie=this[W].subscribe(()=>{this[Qe]=this[W].state,(J==null?void 0:J.onUpdateCallbackMethod)&&this[J.onUpdateCallbackMethod]()})}},xe.disconnectedCallback=function(){!(0,Oe.g)(this).isConnected&&ie(),Ve&&Ve.call(this)}}}function ae(){return(W,J)=>{const{componentDidRender:xe,connectedCallback:Qe}=W,Ve=W[J];let ee=[];W.connectedCallback=function(){this[J]=function(...ie){ee.push({args:ie})},Qe&&Qe.call(this)},W.componentDidRender=function(){ee.forEach(({args:ie})=>Ve.call(this,...ie)),ee=[],xe&&xe.call(this)}}}},27663:function(Rt,Ue,te){"use strict";te.d(Ue,{p:function(){return Le}});var Oe=te(29721),Le=(0,Oe.c)(function(Pe,je){/*! @license DOMPurify 2.3.8 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.3.8/LICENSE */(function(be,qe){Pe.exports=qe()})(Oe.a,function(){function be(Q){return be=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Y){return typeof Y}:function(Y){return Y&&typeof Symbol=="function"&&Y.constructor===Symbol&&Y!==Symbol.prototype?"symbol":typeof Y},be(Q)}function qe(Q,Y){return qe=Object.setPrototypeOf||function(Ae,Xe){return Ae.__proto__=Xe,Ae},qe(Q,Y)}function Se(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function X(Q,Y,ve){return Se()?X=Reflect.construct:X=function(Xe,Wt,We){var kt=[null];kt.push.apply(kt,Wt);var rn=Function.bind.apply(Xe,kt),Lt=new rn;return We&&qe(Lt,We.prototype),Lt},X.apply(null,arguments)}function he(Q){return ge(Q)||ae(Q)||W(Q)||xe()}function ge(Q){if(Array.isArray(Q))return J(Q)}function ae(Q){if(typeof Symbol!="undefined"&&Q[Symbol.iterator]!=null||Q["@@iterator"]!=null)return Array.from(Q)}function W(Q,Y){if(!!Q){if(typeof Q=="string")return J(Q,Y);var ve=Object.prototype.toString.call(Q).slice(8,-1);if(ve==="Object"&&Q.constructor&&(ve=Q.constructor.name),ve==="Map"||ve==="Set")return Array.from(Q);if(ve==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ve))return J(Q,Y)}}function J(Q,Y){(Y==null||Y>Q.length)&&(Y=Q.length);for(var ve=0,Ae=new Array(Y);ve<Y;ve++)Ae[ve]=Q[ve];return Ae}function xe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Qe=Object.hasOwnProperty,Ve=Object.setPrototypeOf,ee=Object.isFrozen,ie=Object.getPrototypeOf,Re=Object.getOwnPropertyDescriptor,_e=Object.freeze,Ge=Object.seal,ht=Object.create,Tn=typeof Reflect!="undefined"&&Reflect,Nt=Tn.apply,pn=Tn.construct;Nt||(Nt=function(Y,ve,Ae){return Y.apply(ve,Ae)}),_e||(_e=function(Y){return Y}),Ge||(Ge=function(Y){return Y}),pn||(pn=function(Y,ve){return X(Y,he(ve))});var va=At(Array.prototype.forEach),hn=At(Array.prototype.pop),en=At(Array.prototype.push),gn=At(String.prototype.toLowerCase),ya=At(String.prototype.match),Ft=At(String.prototype.replace),cr=At(String.prototype.indexOf),mn=At(String.prototype.trim),ot=At(RegExp.prototype.test),dr=qn(TypeError);function At(Q){return function(Y){for(var ve=arguments.length,Ae=new Array(ve>1?ve-1:0),Xe=1;Xe<ve;Xe++)Ae[Xe-1]=arguments[Xe];return Nt(Q,Y,Ae)}}function qn(Q){return function(){for(var Y=arguments.length,ve=new Array(Y),Ae=0;Ae<Y;Ae++)ve[Ae]=arguments[Ae];return pn(Q,ve)}}function Ee(Q,Y){Ve&&Ve(Q,null);for(var ve=Y.length;ve--;){var Ae=Y[ve];if(typeof Ae=="string"){var Xe=gn(Ae);Xe!==Ae&&(ee(Y)||(Y[ve]=Xe),Ae=Xe)}Q[Ae]=!0}return Q}function Vt(Q){var Y=ht(null),ve;for(ve in Q)Nt(Qe,Q,[ve])&&(Y[ve]=Q[ve]);return Y}function Fn(Q,Y){for(;Q!==null;){var ve=Re(Q,Y);if(ve){if(ve.get)return At(ve.get);if(typeof ve.value=="function")return At(ve.value)}Q=ie(Q)}function Ae(Xe){return console.warn("fallback value for",Xe),null}return Ae}var fr=_e(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),vn=_e(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),zt=_e(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),yn=_e(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),kn=_e(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),jr=_e(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),pr=_e(["#text"]),xt=_e(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),tn=_e(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Ln=_e(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Pt=_e(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Mr=Ge(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Tt=Ge(/<%[\w\W]*|[\w\W]*%>/gm),_n=Ge(/^data-[\-\w.\u00B7-\uFFFF]/),Dr=Ge(/^aria-[\-\w]+$/),Nr=Ge(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Pn=Ge(/^(?:\w+script|data):/i),Ce=Ge(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Ze=Ge(/^html$/i),Vr=function(){return typeof window=="undefined"?null:window},jn=function(Y,ve){if(be(Y)!=="object"||typeof Y.createPolicy!="function")return null;var Ae=null,Xe="data-tt-policy-suffix";ve.currentScript&&ve.currentScript.hasAttribute(Xe)&&(Ae=ve.currentScript.getAttribute(Xe));var Wt="dompurify"+(Ae?"#"+Ae:"");try{return Y.createPolicy(Wt,{createHTML:function(kt){return kt}})}catch{return console.warn("TrustedTypes policy "+Wt+" could not be created."),null}};function nn(){var Q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Vr(),Y=function(w){return nn(w)};if(Y.version="2.3.8",Y.removed=[],!Q||!Q.document||Q.document.nodeType!==9)return Y.isSupported=!1,Y;var ve=Q.document,Ae=Q.document,Xe=Q.DocumentFragment,Wt=Q.HTMLTemplateElement,We=Q.Node,kt=Q.Element,rn=Q.NodeFilter,Lt=Q.NamedNodeMap,ba=Lt===void 0?Q.NamedNodeMap||Q.MozNamedAttrMap:Lt,bn=Q.HTMLFormElement,an=Q.DOMParser,zr=Q.trustedTypes,on=kt.prototype,Ur=Fn(on,"cloneNode"),Mn=Fn(on,"nextSibling"),Sa=Fn(on,"childNodes"),gr=Fn(on,"parentNode");if(typeof Wt=="function"){var mr=Ae.createElement("template");mr.content&&mr.content.ownerDocument&&(Ae=mr.content.ownerDocument)}var qt=jn(zr,ve),Dn=qt?qt.createHTML(""):"",Ye=Ae,Nn=Ye.implementation,wa=Ye.createNodeIterator,Br=Ye.createDocumentFragment,Yt=Ye.getElementsByTagName,Hr=ve.importNode,Qr={};try{Qr=Vt(Ae).documentMode?Ae.documentMode:{}}catch{}var yt={};Y.isSupported=typeof gr=="function"&&Nn&&typeof Nn.createHTMLDocument!="undefined"&&Qr!==9;var Sn=Mr,wn=Tt,ct=_n,Cn=Dr,vr=Pn,sn=Ce,On=Nr,d=null,h=Ee({},[].concat(he(fr),he(vn),he(zt),he(kn),he(pr))),S=null,x=Ee({},[].concat(he(xt),he(tn),he(Ln),he(Pt))),O=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),P=null,L=null,D=!0,z=!0,oe=!1,de=!1,me=!1,Fe=!1,Ke=!1,et=!1,Et=!1,Vn=!1,xn=!0,Ca=!0,yr=!1,zn={},Un=null,wi=Ee({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),Ci=null,Oi=Ee({},["audio","video","img","source","image","track"]),Oa=null,xi=Ee({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),xa="http://www.w3.org/1998/Math/MathML",Ea="http://www.w3.org/2000/svg",ln="http://www.w3.org/1999/xhtml",Bn=ln,$a=!1,Hn,Po=["application/xhtml+xml","text/html"],jo="text/html",En,Qn=null,Mo=Ae.createElement("form"),Ei=function(w){return w instanceof RegExp||w instanceof Function},Ia=function(w){Qn&&Qn===w||((!w||be(w)!=="object")&&(w={}),w=Vt(w),d="ALLOWED_TAGS"in w?Ee({},w.ALLOWED_TAGS):h,S="ALLOWED_ATTR"in w?Ee({},w.ALLOWED_ATTR):x,Oa="ADD_URI_SAFE_ATTR"in w?Ee(Vt(xi),w.ADD_URI_SAFE_ATTR):xi,Ci="ADD_DATA_URI_TAGS"in w?Ee(Vt(Oi),w.ADD_DATA_URI_TAGS):Oi,Un="FORBID_CONTENTS"in w?Ee({},w.FORBID_CONTENTS):wi,P="FORBID_TAGS"in w?Ee({},w.FORBID_TAGS):{},L="FORBID_ATTR"in w?Ee({},w.FORBID_ATTR):{},zn="USE_PROFILES"in w?w.USE_PROFILES:!1,D=w.ALLOW_ARIA_ATTR!==!1,z=w.ALLOW_DATA_ATTR!==!1,oe=w.ALLOW_UNKNOWN_PROTOCOLS||!1,de=w.SAFE_FOR_TEMPLATES||!1,me=w.WHOLE_DOCUMENT||!1,et=w.RETURN_DOM||!1,Et=w.RETURN_DOM_FRAGMENT||!1,Vn=w.RETURN_TRUSTED_TYPE||!1,Ke=w.FORCE_BODY||!1,xn=w.SANITIZE_DOM!==!1,Ca=w.KEEP_CONTENT!==!1,yr=w.IN_PLACE||!1,On=w.ALLOWED_URI_REGEXP||On,Bn=w.NAMESPACE||ln,w.CUSTOM_ELEMENT_HANDLING&&Ei(w.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(O.tagNameCheck=w.CUSTOM_ELEMENT_HANDLING.tagNameCheck),w.CUSTOM_ELEMENT_HANDLING&&Ei(w.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(O.attributeNameCheck=w.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),w.CUSTOM_ELEMENT_HANDLING&&typeof w.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(O.allowCustomizedBuiltInElements=w.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Hn=Po.indexOf(w.PARSER_MEDIA_TYPE)===-1?Hn=jo:Hn=w.PARSER_MEDIA_TYPE,En=Hn==="application/xhtml+xml"?function(V){return V}:gn,de&&(z=!1),Et&&(et=!0),zn&&(d=Ee({},he(pr)),S=[],zn.html===!0&&(Ee(d,fr),Ee(S,xt)),zn.svg===!0&&(Ee(d,vn),Ee(S,tn),Ee(S,Pt)),zn.svgFilters===!0&&(Ee(d,zt),Ee(S,tn),Ee(S,Pt)),zn.mathMl===!0&&(Ee(d,kn),Ee(S,Ln),Ee(S,Pt))),w.ADD_TAGS&&(d===h&&(d=Vt(d)),Ee(d,w.ADD_TAGS)),w.ADD_ATTR&&(S===x&&(S=Vt(S)),Ee(S,w.ADD_ATTR)),w.ADD_URI_SAFE_ATTR&&Ee(Oa,w.ADD_URI_SAFE_ATTR),w.FORBID_CONTENTS&&(Un===wi&&(Un=Vt(Un)),Ee(Un,w.FORBID_CONTENTS)),Ca&&(d["#text"]=!0),me&&Ee(d,["html","head","body"]),d.table&&(Ee(d,["tbody"]),delete P.tbody),_e&&_e(w),Qn=w)},$i=Ee({},["mi","mo","mn","ms","mtext"]),Ii=Ee({},["foreignobject","desc","title","annotation-xml"]),Ri=Ee({},["title","style","font","a","script"]),Wr=Ee({},vn);Ee(Wr,zt),Ee(Wr,yn);var Ra=Ee({},kn);Ee(Ra,jr);var Do=function(w){var V=gr(w);(!V||!V.tagName)&&(V={namespaceURI:ln,tagName:"template"});var Z=gn(w.tagName),Me=gn(V.tagName);return w.namespaceURI===Ea?V.namespaceURI===ln?Z==="svg":V.namespaceURI===xa?Z==="svg"&&(Me==="annotation-xml"||$i[Me]):Boolean(Wr[Z]):w.namespaceURI===xa?V.namespaceURI===ln?Z==="math":V.namespaceURI===Ea?Z==="math"&&Ii[Me]:Boolean(Ra[Z]):w.namespaceURI===ln?V.namespaceURI===Ea&&!Ii[Me]||V.namespaceURI===xa&&!$i[Me]?!1:!Ra[Z]&&(Ri[Z]||!Wr[Z]):!1},Kt=function(w){en(Y.removed,{element:w});try{w.parentNode.removeChild(w)}catch{try{w.outerHTML=Dn}catch{w.remove()}}},Ai=function(w,V){try{en(Y.removed,{attribute:V.getAttributeNode(w),from:V})}catch{en(Y.removed,{attribute:null,from:V})}if(V.removeAttribute(w),w==="is"&&!S[w])if(et||Et)try{Kt(V)}catch{}else try{V.setAttribute(w,"")}catch{}},Ti=function(w){var V,Z;if(Ke)w="<remove></remove>"+w;else{var Me=ya(w,/^[\r\n\t ]+/);Z=Me&&Me[0]}Hn==="application/xhtml+xml"&&(w='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+w+"</body></html>");var $t=qt?qt.createHTML(w):w;if(Bn===ln)try{V=new an().parseFromString($t,Hn)}catch{}if(!V||!V.documentElement){V=Nn.createDocument(Bn,"template",null);try{V.documentElement.innerHTML=$a?"":$t}catch{}}var gt=V.body||V.documentElement;return w&&Z&&gt.insertBefore(Ae.createTextNode(Z),gt.childNodes[0]||null),Bn===ln?Yt.call(V,me?"html":"body")[0]:me?V.documentElement:gt},qi=function(w){return wa.call(w.ownerDocument||w,w,rn.SHOW_ELEMENT|rn.SHOW_COMMENT|rn.SHOW_TEXT,null,!1)},No=function(w){return w instanceof bn&&(typeof w.nodeName!="string"||typeof w.textContent!="string"||typeof w.removeChild!="function"||!(w.attributes instanceof ba)||typeof w.removeAttribute!="function"||typeof w.setAttribute!="function"||typeof w.namespaceURI!="string"||typeof w.insertBefore!="function")},br=function(w){return be(We)==="object"?w instanceof We:w&&be(w)==="object"&&typeof w.nodeType=="number"&&typeof w.nodeName=="string"},Jt=function(w,V,Z){!yt[w]||va(yt[w],function(Me){Me.call(Y,V,Z,Qn)})},Fi=function(w){var V;if(Jt("beforeSanitizeElements",w,null),No(w)||ot(/[\u0080-\uFFFF]/,w.nodeName))return Kt(w),!0;var Z=En(w.nodeName);if(Jt("uponSanitizeElement",w,{tagName:Z,allowedTags:d}),w.hasChildNodes()&&!br(w.firstElementChild)&&(!br(w.content)||!br(w.content.firstElementChild))&&ot(/<[/\w]/g,w.innerHTML)&&ot(/<[/\w]/g,w.textContent)||Z==="select"&&ot(/<template/i,w.innerHTML))return Kt(w),!0;if(!d[Z]||P[Z]){if(!P[Z]&&j(Z)&&(O.tagNameCheck instanceof RegExp&&ot(O.tagNameCheck,Z)||O.tagNameCheck instanceof Function&&O.tagNameCheck(Z)))return!1;if(Ca&&!Un[Z]){var Me=gr(w)||w.parentNode,$t=Sa(w)||w.childNodes;if($t&&Me)for(var gt=$t.length,dt=gt-1;dt>=0;--dt)Me.insertBefore(Ur($t[dt],!0),Mn(w))}return Kt(w),!0}return w instanceof kt&&!Do(w)||(Z==="noscript"||Z==="noembed")&&ot(/<\/no(script|embed)/i,w.innerHTML)?(Kt(w),!0):(de&&w.nodeType===3&&(V=w.textContent,V=Ft(V,Sn," "),V=Ft(V,wn," "),w.textContent!==V&&(en(Y.removed,{element:w.cloneNode()}),w.textContent=V)),Jt("afterSanitizeElements",w,null),!1)},Wn=function(w,V,Z){if(xn&&(V==="id"||V==="name")&&(Z in Ae||Z in Mo))return!1;if(!(z&&!L[V]&&ot(ct,V))){if(!(D&&ot(Cn,V))){if(!S[V]||L[V]){if(!(j(w)&&(O.tagNameCheck instanceof RegExp&&ot(O.tagNameCheck,w)||O.tagNameCheck instanceof Function&&O.tagNameCheck(w))&&(O.attributeNameCheck instanceof RegExp&&ot(O.attributeNameCheck,V)||O.attributeNameCheck instanceof Function&&O.attributeNameCheck(V))||V==="is"&&O.allowCustomizedBuiltInElements&&(O.tagNameCheck instanceof RegExp&&ot(O.tagNameCheck,Z)||O.tagNameCheck instanceof Function&&O.tagNameCheck(Z))))return!1}else if(!Oa[V]){if(!ot(On,Ft(Z,sn,""))){if(!((V==="src"||V==="xlink:href"||V==="href")&&w!=="script"&&cr(Z,"data:")===0&&Ci[w])){if(!(oe&&!ot(vr,Ft(Z,sn,"")))){if(Z)return!1}}}}}}return!0},j=function(w){return w.indexOf("-")>0},ki=function(w){var V,Z,Me,$t;Jt("beforeSanitizeAttributes",w,null);var gt=w.attributes;if(!!gt){var dt={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:S};for($t=gt.length;$t--;){V=gt[$t];var Sr=V,mt=Sr.name,Aa=Sr.namespaceURI;if(Z=mt==="value"?V.value:mn(V.value),Me=En(mt),dt.attrName=Me,dt.attrValue=Z,dt.keepAttr=!0,dt.forceKeepAttr=void 0,Jt("uponSanitizeAttribute",w,dt),Z=dt.attrValue,!dt.forceKeepAttr&&(Ai(mt,w),!!dt.keepAttr)){if(ot(/\/>/i,Z)){Ai(mt,w);continue}de&&(Z=Ft(Z,Sn," "),Z=Ft(Z,wn," "));var jt=En(w.nodeName);if(!!Wn(jt,Me,Z))try{Aa?w.setAttributeNS(Aa,mt,Z):w.setAttribute(mt,Z),hn(Y.removed)}catch{}}}Jt("afterSanitizeAttributes",w,null)}},Li=function se(w){var V,Z=qi(w);for(Jt("beforeSanitizeShadowDOM",w,null);V=Z.nextNode();)Jt("uponSanitizeShadowNode",V,null),!Fi(V)&&(V.content instanceof Xe&&se(V.content),ki(V));Jt("afterSanitizeShadowDOM",w,null)};return Y.sanitize=function(se,w){var V,Z,Me,$t,gt;if($a=!se,$a&&(se="<!-->"),typeof se!="string"&&!br(se)){if(typeof se.toString!="function")throw dr("toString is not a function");if(se=se.toString(),typeof se!="string")throw dr("dirty is not a string, aborting")}if(!Y.isSupported){if(be(Q.toStaticHTML)==="object"||typeof Q.toStaticHTML=="function"){if(typeof se=="string")return Q.toStaticHTML(se);if(br(se))return Q.toStaticHTML(se.outerHTML)}return se}if(Fe||Ia(w),Y.removed=[],typeof se=="string"&&(yr=!1),yr){if(se.nodeName){var dt=En(se.nodeName);if(!d[dt]||P[dt])throw dr("root node is forbidden and cannot be sanitized in-place")}}else if(se instanceof We)V=Ti("<!---->"),Z=V.ownerDocument.importNode(se,!0),Z.nodeType===1&&Z.nodeName==="BODY"||Z.nodeName==="HTML"?V=Z:V.appendChild(Z);else{if(!et&&!de&&!me&&se.indexOf("<")===-1)return qt&&Vn?qt.createHTML(se):se;if(V=Ti(se),!V)return et?null:Vn?Dn:""}V&&Ke&&Kt(V.firstChild);for(var Sr=qi(yr?se:V);Me=Sr.nextNode();)Me.nodeType===3&&Me===$t||Fi(Me)||(Me.content instanceof Xe&&Li(Me.content),ki(Me),$t=Me);if($t=null,yr)return se;if(et){if(Et)for(gt=Br.call(V.ownerDocument);V.firstChild;)gt.appendChild(V.firstChild);else gt=V;return S.shadowroot&&(gt=Hr.call(ve,gt,!0)),gt}var mt=me?V.outerHTML:V.innerHTML;return me&&d["!doctype"]&&V.ownerDocument&&V.ownerDocument.doctype&&V.ownerDocument.doctype.name&&ot(Ze,V.ownerDocument.doctype.name)&&(mt="<!DOCTYPE "+V.ownerDocument.doctype.name+`>
`+mt),de&&(mt=Ft(mt,Sn," "),mt=Ft(mt,wn," ")),qt&&Vn?qt.createHTML(mt):mt},Y.setConfig=function(se){Ia(se),Fe=!0},Y.clearConfig=function(){Qn=null,Fe=!1},Y.isValidAttribute=function(se,w,V){Qn||Ia({});var Z=En(se),Me=En(w);return Wn(Z,Me,V)},Y.addHook=function(se,w){typeof w=="function"&&(yt[se]=yt[se]||[],en(yt[se],w))},Y.removeHook=function(se){if(yt[se])return hn(yt[se])},Y.removeHooks=function(se){yt[se]&&(yt[se]=[])},Y.removeAllHooks=function(){yt={}},Y}var hr=nn();return hr})})},24731:function(Rt,Ue,te){"use strict";te.d(Ue,{C:function(){return he},R:function(){return je},a:function(){return ae}});var Oe=te(51860),Le=te(22973);class Pe extends Error{constructor(J){super(`The "${J}" element must be the child of an "atomic-result" element.`)}}function je(W={folded:!1}){return(J,xe)=>{const{connectedCallback:Qe,componentWillRender:Ve,render:ee}=J;J.connectedCallback=function(){const ie=(0,Oe.g)(this),Re=(0,Le.b)(be,Ge=>{W.folded?Se(Ge)?this[xe]=Ge:this[xe]={children:[],result:Ge}:this[xe]=Se(Ge)?Ge.result:Ge});if(ie.dispatchEvent(Re)){this.error=new Pe(ie.nodeName.toLowerCase());return}return Qe&&Qe.call(this)},J.componentWillRender=function(){if(!this.error)return Ve&&Ve.call(this)},J.render=function(){if(this.error){const ie=(0,Oe.g)(this);ie.remove(),console.error("Result component is in error and has been removed from the DOM",this.error,this,ie);return}return ee&&ee.call(this)}}}const be="atomic/resolveResult";function qe(W){return new Promise((J,xe)=>{const Qe=buildCustomEvent(be,Ve=>J(Ve));W.dispatchEvent(Qe),W.closest("atomic-result")||xe(new Pe(W.nodeName.toLowerCase()))})}function Se(W){return"children"in W}const X="atomic/resolveChildTemplates";function he(){return(W,J)=>{const{componentWillRender:xe}=W;W.componentWillRender=function(){const Qe=(0,Oe.g)(this),Ve=(0,Le.b)(X,ie=>{var Re;const _e=(Re=this.resultListCommon)===null||Re===void 0?void 0:Re.resultTemplatesManager;this[J]=_e!==ie?ie:null});if(Qe.dispatchEvent(Ve)){this[J]=null;return}return xe&&xe.call(this)}}}const ge="atomic/resolveResultDisplayConfig";function ae(){return(W,J)=>{const{componentWillRender:xe}=W;W.componentWillRender=function(){const Qe=(0,Oe.g)(this),Ve=(0,Le.b)(ge,ie=>{this[J]=ie});if(!Qe.dispatchEvent(Ve))return xe&&xe.call(this)}}}},28828:function(Rt,Ue,te){"use strict";te.d(Ue,{a:function(){return Pe},g:function(){return je}});var Oe=te(7941);function Le(qe,Se,X,he){const ge=NP(qe,{options:{result:Se}}),ae={contextmenu:()=>ge.select(),click:()=>ge.select(),mouseup:()=>ge.select(),mousedown:()=>ge.select(),touchstart:()=>ge.beginDelayedSelect(),touchend:()=>ge.cancelPendingSelect()},W=X.querySelectorAll(he||"a");return W.forEach(J=>{Object.keys(ae).forEach(xe=>J.addEventListener(xe,ae[xe]))}),()=>{W.forEach(J=>{Object.keys(ae).forEach(xe=>J.removeEventListener(xe,ae[xe]))})}}function Pe(qe,Se,X){return qe.replace(/\${(.*?)}/g,he=>{const ge=he.substring(2,he.length-1);let ae=be(Se,ge);return ae||(ae=be(window,ge)),ae||(X.engine.logger.warn(`${ge} used in the href template is undefined for this result: ${Se.uniqueId}`),"")})}function je(qe,Se){const X=Oe.k.getResultProperty(qe,Se);return typeof X!="string"||X.trim()===""?null:X}function be(qe,Se){const X=Se.indexOf(".");if(qe&&X!==-1){const he=Se.substring(X+1);return Se=Se.substring(0,X),be(qe[Se],he)}return qe?qe[Se]:void 0}},59002:function(Rt,Ue,te){"use strict";te.d(Ue,{a:function(){return je},d:function(){return Pe},i:function(){return be},q:function(){return qe}});var Oe=te(22973),Le=te(59348);const Pe=(Se,X)=>{if(X.dispatchEvent((0,Oe.b)("atomic/searchBoxSuggestion/register",Se)),!(0,Le.c)(X,"atomic-search-box"))throw new Error(`The "${X.nodeName.toLowerCase()}" component was not handled, as it is not a child of an "atomic-search-box" component`)};function je(Se){return"query"in Se}function be(Se){return!("query"in Se)}const qe="data-query"},59348:function(Rt,Ue,te){"use strict";te.d(Ue,{a:function(){return je},b:function(){return ae},c:function(){return xe},d:function(){return Qe},e:function(){return J},f:function(){return Ve},g:function(){return he},h:function(){return W},k:function(){return be},o:function(){return Pe},p:function(){return ge},r:function(){return X},s:function(){return qe},t:function(){return Se}});var Oe=te(51860),Le=te(27663);function Pe(ee){let ie;return function(...Re){return ee&&(ie=ee.apply(this,Re),ee=()=>{}),ie}}function je(ee){return ee.replace(/([a-z0-9]|(?=[A-Z]))([A-Z])/g,"$1-$2").toLowerCase()}function be(ee){return ee.replace(/-./g,ie=>ie[1].toUpperCase())}function qe(ee){return ee.toLowerCase().replace(/([_][a-z])/g,ie=>ie.toUpperCase().replace("_",""))}function Se(ee){return ee.replace(/\s/g,"-").toLowerCase()}function X(ee,ie=5){const Re=Math.random().toString(36).substring(2,2+ie);return ee?ee+Re:Re}function he(ee,ie){return Math.random()*(ie-ee)+ee}function ge(ee){return new window.DOMParser().parseFromString(ee,"text/xml")}function ae(ee){var ie;for(let Re=0;Re<ee.childNodes.length;Re++){const _e=ee.childNodes.item(Re);if(_e.nodeType===1||_e.nodeType===3&&((ie=_e.textContent)===null||ie===void 0?void 0:ie.trim()))return!0}return!1}function W(ee,ie="./assets"){const[,Re,_e]=ee.match(/^([a-z]+):\/\/(.*?)(\.svg)?$/)||[];return Re?Re==="http"||Re==="https"?ee:Re==="assets"?(0,Oe.a)(`${ie}/${_e}.svg`):null:ee.startsWith("./")||ee.startsWith("../")?ee:null}function J(ee,ie){const Re=ee.parentElement;return Re?Re.tagName===ie.toUpperCase()?!0:J(Re,ie):!1}function xe(ee,ie){return ee?ee.matches(ie)?ee:ee.parentNode instanceof ShadowRoot?xe(ee.parentNode.host,ie):xe(ee.parentElement,ie):null}function Qe(ee){var ie;const Re=Le.p.sanitize(`<style>${ee}</style>`,{ALLOWED_TAGS:["style"],ALLOWED_ATTR:[],FORCE_BODY:!0}),_e=document.createElement("div");return _e.innerHTML=Re,(ie=_e.querySelector("style"))===null||ie===void 0?void 0:ie.innerHTML}function Ve(ee=document){var ie;const Re=ee.activeElement;return(Re==null?void 0:Re.shadowRoot)&&(ie=Ve(Re.shadowRoot))!==null&&ie!==void 0?ie:Re}},51774:function(Rt,Ue,te){"use strict";var Oe=te(28828),Le=te(52276),Pe=te(24731),je=te(59002),be=te(7941),qe=te(51860),Se=te(59348),X=te(27663),he=te(29721)},636:function(Rt,Ue,te){"use strict";te.d(Ue,{q:function(){return je}});var Oe=te(51860),Le=te(87001);const Pe=()=>(0,Oe.p)(),je=(be,qe)=>typeof window=="undefined"?Promise.resolve():Pe().then(()=>(0,Oe.b)(JSON.parse('[["atomic-folded-result-list",[[1,"atomic-folded-result-list",{"fieldsToInclude":[513,"fields-to-include"],"density":[513],"imageSize":[513,"image-size"],"collectionField":[513,"collection-field"],"parentField":[513,"parent-field"],"childField":[513,"child-field"],"foldedResultListState":[32],"resultsPerPageState":[32],"ready":[32],"error":[32],"templateHasError":[32],"setRenderFunction":[64]},[[9,"scroll","handleInfiniteScroll"],[0,"atomic/resolveFoldedResultList","resolveFoldedResultList"],[0,"atomic/loadCollection","loadCollection"]]]]],["atomic-result-children",[[1,"atomic-result-children",{"inheritTemplates":[4,"inherit-templates"],"imageSize":[513,"image-size"],"noResultText":[1,"no-result-text"],"error":[32],"ready":[32],"templateHasError":[32],"foldedResultListState":[32],"hideResults":[32],"showAllResults":[32]},[[0,"atomic/resolveChildTemplates","resolveChildTemplates"]]]]],["atomic-result-list",[[1,"atomic-result-list",{"fieldsToInclude":[513,"fields-to-include"],"display":[513],"density":[513],"imageSize":[513,"image-size"],"image":[513],"resultListState":[32],"resultsPerPageState":[32],"ready":[32],"error":[32],"templateHasError":[32],"setRenderFunction":[64]},[[9,"scroll","handleInfiniteScroll"]]]]],["atomic-smart-snippet",[[1,"atomic-smart-snippet",{"headingLevel":[514,"heading-level"],"maximumHeight":[514,"maximum-height"],"collapsedHeight":[514,"collapsed-height"],"snippetStyle":[513,"snippet-style"],"smartSnippetState":[32],"feedbackSent":[32]}]]],["atomic-smart-snippet-suggestions",[[1,"atomic-smart-snippet-suggestions",{"headingLevel":[514,"heading-level"],"snippetStyle":[1,"snippet-style"],"smartSnippetQuestionsListState":[32]}]]],["atomic-refine-toggle",[[1,"atomic-refine-toggle",{"error":[32],"searchStatusState":[32]}]]],["atomic-result-badge",[[1,"atomic-result-badge",{"field":[513],"label":[513],"icon":[513]}]]],["atomic-result-printable-uri",[[0,"atomic-result-printable-uri",{"maxNumberOfParts":[514,"max-number-of-parts"],"target":[513],"listExpanded":[32],"error":[32]}]]],["atomic-search-box",[[1,"atomic-search-box",{"numberOfQueries":[514,"number-of-queries"],"redirectionUrl":[513,"redirection-url"],"suggestionTimeout":[2,"suggestion-timeout"],"searchBoxState":[32],"error":[32],"suggestedQuery":[32],"isExpanded":[32],"activeDescendant":[32],"previousActiveDescendantElement":[32],"leftSuggestions":[32],"leftSuggestionElements":[32],"rightSuggestions":[32],"rightSuggestionElements":[32]},[[0,"atomic/searchBoxSuggestion/register","registerSuggestions"]]]]],["atomic-numeric-facet",[[1,"atomic-numeric-facet",{"facetId":[1537,"facet-id"],"label":[513],"field":[513],"numberOfValues":[514,"number-of-values"],"withInput":[513,"with-input"],"sortCriteria":[513,"sort-criteria"],"rangeAlgorithm":[513,"range-algorithm"],"displayValuesAs":[513,"display-values-as"],"isCollapsed":[1540,"is-collapsed"],"headingLevel":[514,"heading-level"],"filterFacetCount":[516,"filter-facet-count"],"injectionDepth":[514,"injection-depth"],"dependsOn":[16],"facetState":[32],"filterState":[32],"searchStatusState":[32],"error":[32],"facetForInputState":[32]},[[0,"atomic/numberFormat","setFormat"],[0,"atomic/numberInputApply","applyNumberInput"]]]]],["atomic-result-link",[[4,"atomic-result-link",{"target":[513],"hrefTemplate":[513,"href-template"]}]]],["atomic-search-interface",[[1,"atomic-search-interface",{"pipeline":[513],"searchHub":[513,"search-hub"],"analytics":[516],"timezone":[513],"logLevel":[513,"log-level"],"i18n":[16],"language":[513],"engine":[1040],"reflectStateInUrl":[516,"reflect-state-in-url"],"scrollContainer":[513,"scroll-container"],"languageAssetsPath":[513,"language-assets-path"],"iconAssetsPath":[513,"icon-assets-path"],"error":[32],"initialize":[64],"initializeWithSearchEngine":[64],"executeFirstSearch":[64]},[[0,"atomic/initializeComponent","handleInitialization"],[0,"atomic/scrollToTop","scrollToTop"]]]]],["atomic-timeframe-facet",[[1,"atomic-timeframe-facet",{"facetId":[1537,"facet-id"],"label":[513],"field":[513],"withDatePicker":[516,"with-date-picker"],"isCollapsed":[1540,"is-collapsed"],"headingLevel":[514,"heading-level"],"filterFacetCount":[516,"filter-facet-count"],"injectionDepth":[514,"injection-depth"],"dependsOn":[16],"facetState":[32],"facetForDatePickerState":[32],"filterState":[32],"searchStatusState":[32],"error":[32]},[[0,"atomic/dateInputApply","applyDateInput"]]]]],["atomic-breadbox",[[1,"atomic-breadbox",{"breadcrumbManagerState":[32],"facetManagerState":[32],"error":[32],"isCollapsed":[32]}]]],["atomic-category-facet",[[1,"atomic-category-facet",{"facetId":[1537,"facet-id"],"label":[513],"field":[513],"numberOfValues":[514,"number-of-values"],"withSearch":[516,"with-search"],"sortCriteria":[513,"sort-criteria"],"delimitingCharacter":[513,"delimiting-character"],"basePath":[513,"base-path"],"filterByBasePath":[516,"filter-by-base-path"],"isCollapsed":[1540,"is-collapsed"],"headingLevel":[514,"heading-level"],"filterFacetCount":[516,"filter-facet-count"],"injectionDepth":[514,"injection-depth"],"dependsOn":[16],"facetState":[32],"searchStatusState":[32],"error":[32]}]]],["atomic-color-facet",[[1,"atomic-color-facet",{"facetId":[1537,"facet-id"],"label":[513],"field":[513],"numberOfValues":[514,"number-of-values"],"withSearch":[516,"with-search"],"sortCriteria":[513,"sort-criteria"],"displayValuesAs":[513,"display-values-as"],"isCollapsed":[1540,"is-collapsed"],"headingLevel":[514,"heading-level"],"filterFacetCount":[516,"filter-facet-count"],"injectionDepth":[514,"injection-depth"],"dependsOn":[16],"facetState":[32],"searchStatusState":[32],"error":[32]}]]],["atomic-facet",[[1,"atomic-facet",{"facetId":[1537,"facet-id"],"label":[513],"field":[513],"numberOfValues":[514,"number-of-values"],"withSearch":[516,"with-search"],"sortCriteria":[513,"sort-criteria"],"displayValuesAs":[513,"display-values-as"],"isCollapsed":[1540,"is-collapsed"],"headingLevel":[514,"heading-level"],"filterFacetCount":[516,"filter-facet-count"],"injectionDepth":[2,"injection-depth"],"dependsOn":[16],"facetState":[32],"searchStatusState":[32],"error":[32]}]]],["atomic-no-results",[[1,"atomic-no-results",{"enableCancelLastAction":[516,"enable-cancel-last-action"],"searchStatusState":[32],"historyState":[32],"querySummaryState":[32],"error":[32]}]]],["atomic-pager",[[1,"atomic-pager",{"numberOfPages":[514,"number-of-pages"],"pagerState":[32],"searchStatusState":[32],"error":[32]}]]],["atomic-query-error",[[1,"atomic-query-error",{"queryErrorState":[32],"error":[32],"showMoreInfo":[32]}]]],["atomic-rating-facet",[[1,"atomic-rating-facet",{"facetId":[1537,"facet-id"],"label":[513],"field":[513],"numberOfIntervals":[514,"number-of-intervals"],"maxValueInIndex":[514,"max-value-in-index"],"minValueInIndex":[514,"min-value-in-index"],"displayValuesAs":[513,"display-values-as"],"icon":[513],"isCollapsed":[1540,"is-collapsed"],"headingLevel":[514,"heading-level"],"filterFacetCount":[516,"filter-facet-count"],"injectionDepth":[514,"injection-depth"],"dependsOn":[16],"facetState":[32],"searchStatusState":[32],"error":[32]}]]],["atomic-rating-range-facet",[[1,"atomic-rating-range-facet",{"facetId":[1537,"facet-id"],"label":[513],"field":[513],"numberOfIntervals":[514,"number-of-intervals"],"maxValueInIndex":[514,"max-value-in-index"],"minValueInIndex":[514,"min-value-in-index"],"icon":[513],"isCollapsed":[1540,"is-collapsed"],"headingLevel":[514,"heading-level"],"filterFacetCount":[516,"filter-facet-count"],"injectionDepth":[514,"injection-depth"],"dependsOn":[16],"facetState":[32],"searchStatusState":[32],"error":[32]}]]],["atomic-result-html",[[0,"atomic-result-html",{"field":[513],"sanitize":[516],"error":[32]}]]],["atomic-result-icon",[[1,"atomic-result-icon"]]],["atomic-result-rating",[[1,"atomic-result-rating",{"field":[513],"maxValueInIndex":[514,"max-value-in-index"],"icon":[513],"error":[32],"numberOfStars":[32]}]]],["atomic-sort-dropdown",[[1,"atomic-sort-dropdown",{"sortState":[32],"searchStatusState":[32],"error":[32]}]]],["atomic-did-you-mean",[[1,"atomic-did-you-mean",{"didYouMeanState":[32],"error":[32]}]]],["atomic-external",[[0,"atomic-external",{"selector":[513]},[[0,"atomic/initializeComponent","handleInitialization"],[0,"atomic/scrollToTop","handleScrollToTop"]]]]],["atomic-facet-manager",[[4,"atomic-facet-manager",{"collapseFacetsAfter":[514,"collapse-facets-after"],"searchStatusState":[32],"facetManagerState":[32],"error":[32]}]]],["atomic-format-currency",[[1,"atomic-format-currency",{"currency":[513],"error":[32]}]]],["atomic-format-number",[[1,"atomic-format-number",{"minimumIntegerDigits":[514,"minimum-integer-digits"],"minimumFractionDigits":[514,"minimum-fraction-digits"],"maximumFractionDigits":[514,"maximum-fraction-digits"],"minimumSignificantDigits":[514,"minimum-significant-digits"],"maximumSignificantDigits":[514,"maximum-significant-digits"],"error":[32]}]]],["atomic-format-unit",[[1,"atomic-format-unit",{"unit":[513],"unitDisplay":[513,"unit-display"],"error":[32]}]]],["atomic-load-more-children-results",[[1,"atomic-load-more-children-results",{"label":[1],"error":[32],"foldedResultListState":[32]}]]],["atomic-load-more-results",[[1,"atomic-load-more-results",{"querySummaryState":[32],"resultListState":[32],"error":[32]}]]],["atomic-query-summary",[[1,"atomic-query-summary",{"enableDuration":[516,"enable-duration"],"querySummaryState":[32],"error":[32]}]]],["atomic-result-date",[[0,"atomic-result-date",{"field":[513],"format":[513],"error":[32]}]]],["atomic-result-image",[[0,"atomic-result-image",{"field":[513]}]]],["atomic-result-multi-value-text",[[1,"atomic-result-multi-value-text",{"field":[513],"maxValuesToDisplay":[514,"max-values-to-display"],"delimiter":[513],"error":[32]}]]],["atomic-result-number",[[0,"atomic-result-number",{"field":[513],"error":[32],"formatter":[32],"valueToDisplay":[32]},[[0,"atomic/numberFormat","setFormat"]]]]],["atomic-results-per-page",[[1,"atomic-results-per-page",{"choicesDisplayed":[513,"choices-displayed"],"initialChoice":[1538,"initial-choice"],"resultPerPageState":[32],"searchStatusState":[32],"error":[32]}]]],["atomic-search-box-instant-results",[[1,"atomic-search-box-instant-results",{"error":[32]}]]],["atomic-segmented-facet",[[1,"atomic-segmented-facet",{"facetId":[1537,"facet-id"],"field":[513],"label":[513],"filterFacetCount":[516,"filter-facet-count"],"injectionDepth":[2,"injection-depth"],"numberOfValues":[514,"number-of-values"],"sortCriteria":[513,"sort-criteria"],"dependsOn":[16],"withSearch":[516,"with-search"],"searchStatusState":[32],"facetState":[32],"error":[32]}]]],["atomic-sort-expression",[[0,"atomic-sort-expression",{"label":[513],"expression":[513]}]]],["atomic-field-condition",[[4,"atomic-field-condition",{"ifDefined":[513,"if-defined"],"ifNotDefined":[513,"if-not-defined"],"conditions":[16]}]]],["atomic-frequently-bought-together",[[1,"atomic-frequently-bought-together",{"state":[32]}]]],["atomic-layout-section",[[0,"atomic-layout-section",{"section":[513],"minWidth":[513,"min-width"],"maxWidth":[513,"max-width"]}]]],["atomic-numeric-range",[[0,"atomic-numeric-range",{"label":[513],"start":[514],"end":[514],"endInclusive":[516,"end-inclusive"]}]]],["atomic-result-children-template",[[1,"atomic-result-children-template",{"conditions":[16],"error":[32],"getTemplate":[64]}]]],["atomic-result-fields-list",[[0,"atomic-result-fields-list"]]],["atomic-result-section-children",[[0,"atomic-result-section-children"]]],["atomic-result-section-emphasized",[[0,"atomic-result-section-emphasized"]]],["atomic-result-section-title-metadata",[[0,"atomic-result-section-title-metadata"]]],["atomic-result-template",[[1,"atomic-result-template",{"conditions":[16],"error":[32],"getTemplate":[64]}]]],["atomic-search-layout",[[0,"atomic-search-layout",{"mobileBreakpoint":[513,"mobile-breakpoint"]}]]],["atomic-table-element",[[0,"atomic-table-element",{"label":[513]}]]],["atomic-timeframe",[[0,"atomic-timeframe",{"period":[513],"unit":[513],"amount":[514],"label":[513]}]]],["atomic-component-error",[[1,"atomic-component-error",{"element":[16],"error":[16]}]]],["atomic-refine-modal",[[1,"atomic-refine-modal",{"openButton":[1040],"isOpen":[1540,"is-open"],"querySummaryState":[32],"breadcrumbManagerState":[32],"facetManagerState":[32],"sortState":[32],"error":[32]}]]],["atomic-html",[[1,"atomic-html",{"value":[1],"sanitize":[516],"error":[32]}]]],["atomic-facet-date-input",[[0,"atomic-facet-date-input",{"bindings":[16],"filter":[16],"filterState":[16],"label":[1],"start":[32],"end":[32]}]]],["atomic-facet-number-input",[[0,"atomic-facet-number-input",{"bindings":[16],"type":[1],"filter":[16],"filterState":[16],"label":[1],"start":[32],"end":[32]}]]],["atomic-smart-snippet-answer_2",[[0,"atomic-smart-snippet-source",{"source":[1040],"error":[32]},[[0,"atomic/resolveResult","resolveResult"]]],[1,"atomic-smart-snippet-answer",{"htmlContent":[1,"html-content"],"innerStyle":[1,"inner-style"]}]]],["atomic-smart-snippet-expandable-answer_2",[[1,"atomic-smart-snippet-expandable-answer",{"expanded":[516],"htmlContent":[1,"html-content"],"maximumHeight":[514,"maximum-height"],"collapsedHeight":[514,"collapsed-height"],"snippetStyle":[1,"snippet-style"],"fullHeight":[32]}],[1,"atomic-smart-snippet-feedback-modal",{"source":[1040],"isOpen":[1540,"is-open"],"error":[32],"currentAnswer":[32]}]]],["atomic-search-box-query-suggestions_2",[[1,"atomic-search-box-query-suggestions",{"icon":[1],"maxWithQuery":[514,"max-with-query"],"maxWithoutQuery":[514,"max-without-query"],"error":[32]}],[1,"atomic-search-box-recent-queries",{"icon":[1],"maxWithQuery":[514,"max-with-query"],"maxWithoutQuery":[514,"max-without-query"],"error":[32]}]]],["atomic-aria-live_2",[[0,"atomic-aria-live",{"message":[32],"updateMessage":[64]}],[1,"atomic-relevance-inspector",{"bindings":[16],"relevanceInspectorState":[32]}]]],["atomic-focus-trap_2",[[1,"atomic-modal",{"fullscreen":[1540],"source":[1040],"isOpen":[1540,"is-open"],"close":[1040],"error":[32]}],[0,"atomic-focus-trap",{"active":[4]},[[4,"focusin","onFocusChanged"]]]]],["atomic-result-text_2",[[0,"atomic-result-text",{"field":[513],"shouldHighlight":[516,"should-highlight"],"default":[513],"error":[32]}],[1,"atomic-text",{"value":[513],"count":[514],"error":[32]}]]],["atomic-icon",[[0,"atomic-icon",{"icon":[513],"svg":[32]}]]],["atomic-result_9",[[1,"atomic-result-placeholder",{"display":[1],"density":[1],"imageSize":[1,"image-size"],"isChild":[4,"is-child"]}],[1,"atomic-result",{"result":[16],"engine":[16],"store":[16],"content":[16],"display":[1],"density":[1],"imageSize":[1,"image-size"],"image":[1],"classes":[1],"loadingFlag":[1,"loading-flag"]},[[0,"atomic/resolveResult","resolveResult"],[0,"atomic/resolveResultDisplayConfig","resolveResultDisplayConfig"]]],[1,"atomic-result-table-placeholder",{"density":[1],"imageSize":[1,"image-size"],"rows":[2]}],[0,"atomic-result-section-actions"],[0,"atomic-result-section-badges"],[0,"atomic-result-section-bottom-metadata"],[0,"atomic-result-section-excerpt"],[0,"atomic-result-section-title"],[0,"atomic-result-section-visual",{"imageSize":[513,"image-size"]}]]]]'),qe));(function(){if(typeof window!="undefined"&&window.Reflect!==void 0&&window.customElements!==void 0){var be=HTMLElement;window.HTMLElement=function(){return Reflect.construct(be,[],this.constructor)},HTMLElement.prototype=be.prototype,HTMLElement.prototype.constructor=HTMLElement,Object.setPrototypeOf(HTMLElement,be)}})()}}]);

//# sourceMappingURL=3103.bundle.js.map