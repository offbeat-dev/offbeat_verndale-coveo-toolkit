{"version":3,"sources":["webpack://@verndale/toolkit/./node_modules/@coveo/atomic/dist/esm/atomic-result-link.entry.js","webpack://@verndale/toolkit/./node_modules/@coveo/atomic/dist/esm/bueno.esm-08331852.js","webpack://@verndale/toolkit/./node_modules/@coveo/atomic/dist/esm/result-link-dfe29068.js","webpack://@verndale/toolkit/./node_modules/@coveo/atomic/dist/esm/xss-utils-562b1a8c.js"],"names":[],"mappings":"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","file":"scripts/4444.bundle.js","sourcesContent":["import { r as registerInstance, h, g as getElement } from './index-a326e2b3.js';\nimport { N as NP } from './headless.esm-36d42fef.js';\nimport { R as ResultContext } from './result-template-decorators-0969aa55.js';\nimport { I as InitializeBindings } from './initialization-utils-7c6915b8.js';\nimport { L as LinkWithResultAnalytics } from './result-link-dfe29068.js';\nimport { i as isUndefined } from './bueno.esm-08331852.js';\nimport { a as buildStringTemplateFromResult } from './result-utils-aa101bb4.js';\nimport './event-utils-5d69ba8f.js';\nimport './xss-utils-562b1a8c.js';\n\nfunction getNamedSlotFromHost(host, slotName) {\n  const children = Array.from(host.children);\n  const targetSlot = children.filter((child) => child.getAttribute('slot') === slotName ||\n    child.getAttribute('slot') !== '');\n  if (!targetSlot.length) {\n    return;\n  }\n  if (targetSlot.length > 1) {\n    console.warn(`Element should only have 1 slot named \"${slotName}\".`, host);\n  }\n  return targetSlot[0];\n}\nfunction getDefaultSlotFromHost(host) {\n  const children = Array.from(host.children);\n  const defaultSlot = children.filter((child) => !child.hasAttribute('slot') || child.getAttribute('slot') === '');\n  if (!defaultSlot.length) {\n    return;\n  }\n  if (defaultSlot.length > 1) {\n    console.warn('Element should only have 1 default slot.', host);\n  }\n  return defaultSlot[0];\n}\n\nfunction getAttributesFromLinkSlot(host, slotName) {\n  const attributesSlot = getNamedSlotFromHost(host, slotName);\n  if (!attributesSlot) {\n    return;\n  }\n  if (attributesSlot.nodeName !== 'A') {\n    console.warn(`Slot named \"${slotName}\" should be an \"a\" tag`, attributesSlot);\n    return;\n  }\n  return Array.from(attributesSlot.attributes).filter(({ nodeName }) => {\n    if (nodeName === 'slot') {\n      return false;\n    }\n    if (nodeName === 'href') {\n      console.warn('The \"href\" attribute set on the \"attributes\" slot element will be ignored.');\n      return false;\n    }\n    return true;\n  });\n}\n\nconst atomicResultLinkCss = \"atomic-result-link a{color:var(--atomic-on-background)}atomic-result-link a:hover,atomic-result-link a.focus-visible{text-decoration:underline;color:var(--atomic-primary)}atomic-result-link a:hover,atomic-result-link a:focus-visible{text-decoration:underline;color:var(--atomic-primary)}atomic-result-link a:focus{outline:none}atomic-result-link a:visited{color:var(--atomic-visited)}\";\n\nvar __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n  var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\")\n    r = Reflect.decorate(decorators, target, key, desc);\n  else\n    for (var i = decorators.length - 1; i >= 0; i--)\n      if (d = decorators[i])\n        r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nconst AtomicResultLink = class {\n  constructor(hostRef) {\n    registerInstance(this, hostRef);\n    /**\n     * Where to open the linked URL, as the name for a browsing context (a tab, window, or iframe).\n     *\n     * The following keywords have special meanings:\n     *\n     * * _self: the current browsing context. (Default)\n     * * _blank: usually a new tab, but users can configure their browsers to open a new window instead.\n     * * _parent: the parent of the current browsing context. If there's no parent, this behaves as `_self`.\n     * * _top: the topmost browsing context (the \"highest\" context thatâ€™s an ancestor of the current one). If there are no ancestors, this behaves as `_self`.\n     *\n     * @deprecated Use the \"attributes\" slot instead to pass down attributes to the link.\n     */\n    this.target = '_self';\n  }\n  initialize() {\n    this.interactiveResult = NP(this.bindings.engine, {\n      options: { result: this.result },\n    });\n  }\n  connectedCallback() {\n    const slotName = 'attributes';\n    this.hasDefaultSlot = !!getDefaultSlotFromHost(this.host);\n    this.linkAttributes = getAttributesFromLinkSlot(this.host, slotName);\n  }\n  render() {\n    const href = isUndefined(this.hrefTemplate)\n      ? this.result.clickUri\n      : buildStringTemplateFromResult(this.hrefTemplate, this.result, this.bindings);\n    return (h(LinkWithResultAnalytics, { href: href, target: this.target, onSelect: () => this.interactiveResult.select(), onBeginDelayedSelect: () => this.interactiveResult.beginDelayedSelect(), onCancelPendingSelect: () => this.interactiveResult.cancelPendingSelect(), attributes: this.linkAttributes }, this.hasDefaultSlot ? (h(\"slot\", null)) : (h(\"atomic-result-text\", { field: \"title\", default: \"no-title\" }))));\n  }\n  get host() { return getElement(this); }\n};\n__decorate([\n  InitializeBindings()\n], AtomicResultLink.prototype, \"bindings\", void 0);\n__decorate([\n  ResultContext()\n], AtomicResultLink.prototype, \"result\", void 0);\nAtomicResultLink.style = atomicResultLinkCss;\n\nexport { AtomicResultLink as atomic_result_link };\n\n//# sourceMappingURL=atomic-result-link.entry.js.map","/**\n * @license\n *\n * Copyright 2022 Coveo Solutions Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n * \n *       http://www.apache.org/licenses/LICENSE-2.0\n * \n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n// src/schema.ts\nfunction buildSchemaValidationError(errors, context) {\n  const message = `\n  The following properties are invalid:\n\n    ${errors.join(\"\\n\t\")}\n  \n  ${context}\n  `;\n  return new SchemaValidationError(message);\n}\nvar SchemaValidationError = class extends Error {\n  constructor(message) {\n    super(message);\n    this.name = \"SchemaValidationError\";\n  }\n};\nvar Schema = class {\n  constructor(definition) {\n    this.definition = definition;\n  }\n  validate(values = {}, message = \"\") {\n    const mergedValues = {\n      ...this.default,\n      ...values\n    };\n    const errors = [];\n    for (const property in this.definition) {\n      const error = this.definition[property].validate(mergedValues[property]);\n      error && errors.push(`${property}: ${error}`);\n    }\n    if (errors.length) {\n      throw buildSchemaValidationError(errors, message);\n    }\n    return mergedValues;\n  }\n  get default() {\n    const defaultValues = {};\n    for (const property in this.definition) {\n      const defaultValue = this.definition[property].default;\n      if (defaultValue !== void 0) {\n        defaultValues[property] = defaultValue;\n      }\n    }\n    return defaultValues;\n  }\n};\n\n// src/values/value.ts\nvar Value = class {\n  constructor(baseConfig = {}) {\n    this.baseConfig = baseConfig;\n  }\n  validate(value) {\n    if (this.baseConfig.required && isNullOrUndefined(value)) {\n      return \"value is required.\";\n    }\n    return null;\n  }\n  get default() {\n    return this.baseConfig.default instanceof Function ? this.baseConfig.default() : this.baseConfig.default;\n  }\n  get required() {\n    return this.baseConfig.required === true;\n  }\n};\nfunction isUndefined(value) {\n  return value === void 0;\n}\nfunction isNull(value) {\n  return value === null;\n}\nfunction isNullOrUndefined(value) {\n  return isUndefined(value) || isNull(value);\n}\n\n// src/values/number-value.ts\nvar NumberValue = class {\n  constructor(config = {}) {\n    this.config = config;\n    this.value = new Value(config);\n  }\n  validate(value) {\n    const valueValidation = this.value.validate(value);\n    if (valueValidation) {\n      return valueValidation;\n    }\n    if (!isNumberOrUndefined(value)) {\n      return \"value is not a number.\";\n    }\n    if (value < this.config.min) {\n      return `minimum value of ${this.config.min} not respected.`;\n    }\n    if (value > this.config.max) {\n      return `maximum value of ${this.config.max} not respected.`;\n    }\n    return null;\n  }\n  get default() {\n    return this.value.default;\n  }\n  get required() {\n    return this.value.required;\n  }\n};\nfunction isNumberOrUndefined(value) {\n  return isUndefined(value) || isNumber(value);\n}\nfunction isNumber(value) {\n  return typeof value === \"number\" && !isNaN(value);\n}\n\n// src/values/string-value.ts\nvar urlRegex = /^(?:(?:(?:https?|ftp):)?\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})).?)(?::\\d{2,5})?(?:[/?#]\\S*)?$/i;\nvar StringValue = class {\n  constructor(config = {}) {\n    this.config = {\n      emptyAllowed: true,\n      url: false,\n      ...config\n    };\n    this.value = new Value(this.config);\n  }\n  validate(value) {\n    const { emptyAllowed, url, regex, constrainTo } = this.config;\n    const valueValidation = this.value.validate(value);\n    if (valueValidation) {\n      return valueValidation;\n    }\n    if (isUndefined(value)) {\n      return null;\n    }\n    if (!isString(value)) {\n      return \"value is not a string.\";\n    }\n    if (!emptyAllowed && !value.length) {\n      return \"value is an empty string.\";\n    }\n    if (url && !urlRegex.test(value)) {\n      return \"value is not a valid URL.\";\n    }\n    if (regex && !regex.test(value)) {\n      return `value did not match provided regex ${regex}`;\n    }\n    if (constrainTo && !constrainTo.includes(value)) {\n      const values = constrainTo.join(\", \");\n      return `value should be one of: ${values}.`;\n    }\n    return null;\n  }\n  get default() {\n    return this.value.default;\n  }\n  get required() {\n    return this.value.required;\n  }\n};\nfunction isString(value) {\n  return Object.prototype.toString.call(value) === \"[object String]\";\n}\n\nexport { NumberValue as N, Schema as S, StringValue as a, isUndefined as i };\n\n//# sourceMappingURL=bueno.esm-08331852.js.map","import { h } from './index-a326e2b3.js';\nimport { f as filterProtocol } from './xss-utils-562b1a8c.js';\n\nconst LinkWithResultAnalytics = ({ href, target, className, part, title, onSelect, onBeginDelayedSelect, onCancelPendingSelect, ref, attributes, }, children) => {\n  const stopPropagationAndProcess = (e, process) => {\n    e.stopPropagation();\n    process();\n  };\n  return (h(\"a\", { class: className, part: part, href: filterProtocol(href), title: title, onClick: (e) => stopPropagationAndProcess(e, onSelect), onContextMenu: (e) => stopPropagationAndProcess(e, onSelect), onMouseDown: (e) => stopPropagationAndProcess(e, onSelect), onMouseUp: (e) => stopPropagationAndProcess(e, onSelect), onTouchStart: (e) => stopPropagationAndProcess(e, onBeginDelayedSelect), onTouchEnd: (e) => stopPropagationAndProcess(e, onCancelPendingSelect), target: target, ref: (el) => {\n      if (ref) {\n        ref(el);\n      }\n      if (attributes === null || attributes === void 0 ? void 0 : attributes.length) {\n        [...attributes].forEach(({ nodeName, nodeValue }) => {\n          el === null || el === void 0 ? void 0 : el.setAttribute(nodeName, nodeValue);\n        });\n      }\n    } }, children));\n};\n\nexport { LinkWithResultAnalytics as L };\n\n//# sourceMappingURL=result-link-dfe29068.js.map","function filterProtocol(uri) {\n  const isAbsolute = /^(https?|ftp|file|mailto|tel):/i.test(uri);\n  const isRelative = /^\\//.test(uri);\n  return isAbsolute || isRelative ? uri : '';\n}\n\nexport { filterProtocol as f };\n\n//# sourceMappingURL=xss-utils-562b1a8c.js.map"],"sourceRoot":""}